<html class="has-navbar-fixed-top"><head><title>Testing Â· Fable</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" type="text/css" href="/docs/style.css"/><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous"/><script src="https://polyfill.app/api/polyfill?features=scroll-behavior"></script><script type="text/javascript">
var nacara = {};
                                    </script><script type="text/javascript">const setupMenuNavigation = () => {
    /*
     * Initialize the menu state
     */

    // Set as active the menu for the current page
    document
        .querySelectorAll(`.menu [data-menu-id='${nacara.pageId}']`)
        .forEach(function (menuItem) {
            menuItem.classList.add("is-active")
        });

    // Collapse menu-group which doesn't concerns the current page
    document
        .querySelectorAll(`.menu .menu-group`)
        .forEach(function (menuGroup) {
            var parentChildren = Array.from(menuGroup.parentElement.children);
            var subItems = parentChildren.find(function (child) {
                return child.nodeName === "UL";
            });

            var activeMenu =
                Array.from(subItems.children)
                    .find(function (child) {
                        return child.firstChild.classList.contains("is-active")
                    });

            if (activeMenu === undefined) {
                menuGroup.classList.remove("is-expanded");
                subItems.style.display = "none";
            } else {
                menuGroup.classList.add("is-expanded");
                subItems.style.display = "block";
            }
        });

    // Register listener to handle menu-group
    document
        .querySelectorAll(`.menu .menu-group`)
        .forEach(function (menuGroup) {
            menuGroup.addEventListener("click", function (ev) {
                // All the menu "calculation" are done relative to the .menu-group element
                var menuGroup =
                    ev.target.classList.contains("menu-group")
                        ? ev.target
                        : ev.target.closest(".menu-group");

                var parentChildren = Array.from(menuGroup.parentElement.children);

                var subItems =
                    parentChildren.find(function (child) {
                        return child.nodeName === "UL";
                    });

                if (menuGroup.classList.contains("is-expanded")) {
                    menuGroup.classList.remove("is-expanded");
                    subItems.style.display = "none";
                } else {
                    menuGroup.classList.add("is-expanded");
                    subItems.style.display = "block";
                }

            });
        });

    /*
     * Setup menu navigation via Next and Previous button
     */

    // Start the counter from -1, but the first menu item will be 0
    let computedMaxRank = -1;

    document
        .querySelectorAll(`.menu [data-menu-id]`)
        .forEach(function (menuItem) {
            computedMaxRank++;
            menuItem.setAttribute("data-menu-rank", computedMaxRank);
        });

    document
        .querySelector(".navigate-to-previous")
        .addEventListener("click", () => {
            const currentMenuRank =
                document
                    .querySelector(`.menu [data-menu-id='${nacara.pageId}']`)
                    .getAttribute("data-menu-rank");

            const previousRank = parseInt(currentMenuRank) - 1;

            if (previousRank >= 0) {
                document
                    .querySelector(`.menu [data-menu-rank='${previousRank}']`)
                    .click();
            }
        });

    document
        .querySelector(".navigate-to-next")
        .addEventListener("click", () => {
            const currentMenuRank =
                document
                    .querySelector(`.menu [data-menu-id='${nacara.pageId}']`)
                    .getAttribute("data-menu-rank")

            const nextRank = parseInt(currentMenuRank) + 1;

            if (nextRank <= computedMaxRank) {
                document
                    .querySelector(`.menu [data-menu-rank='${nextRank}']`)
                    .click();
            }
        });

    // IIFE function in order to not pollute the function scope
    (() => {

        // The menu is an optional element, if no menu found then hide the Next & Previous buttons
        if (document.querySelector(".menu") === null) {
            document.querySelector(".navigate-to-next").style.visibility = "hidden"
            document.querySelector(".navigate-to-previous").style.visibility = "hidden"
            return;
        }

        const currentMenuRank =
            parseInt(
                document
                    .querySelector(`.menu [data-menu-id='${nacara.pageId}']`)
                    .getAttribute("data-menu-rank")
            );

        // Initialize the text of the Previous button
        if (currentMenuRank >= 1) {
            const previousText =
                document
                    .querySelector(`.menu [data-menu-rank='${currentMenuRank - 1}']`)
                    .textContent;

            document
                .querySelector(".navigate-to-previous .text")
                .textContent = previousText;
        }

        // Initialize the text of the Next button
        if (currentMenuRank < computedMaxRank) {
            const previousText =
                document
                    .querySelector(`.menu [data-menu-rank='${currentMenuRank + 1}']`)
                    .textContent;

            document
                .querySelector(".navigate-to-next .text")
                .textContent = previousText;
        }

        // Hide the navigation button depending on the page rank
        if (currentMenuRank == 0) {
            document.querySelector(".navigate-to-previous").style.visibility = "hidden";
        } else if (currentMenuRank == computedMaxRank) {
            document.querySelector(".navigate-to-next").style.visibility = "visibile";
        }
    })();
}


window.addEventListener("DOMContentLoaded", () => {

    if (document.querySelector(".menu") !== null
            && document.querySelector(".navigate-to-previous") !== null
            && document.querySelector(".navigate-to-next") !== null) {

        setupMenuNavigation();
    }

    /*
     * Setup menu burger behaviour
     */

    // Code copied from Bulma documentation
    // https://bulma.io/documentation/components/navbar/#navbar-menu

    // Get all "navbar-burger" elements
    const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

    // Check if there are any navbar burgers
    if ($navbarBurgers.length > 0) {

        // Add a click event on each of them
        $navbarBurgers.forEach(el => {
            el.addEventListener('click', () => {

                // Get the target from the "data-target" attribute
                const target = el.dataset.target;
                const $target = document.getElementById(target);

                // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
                el.classList.toggle('is-active');
                $target.classList.toggle('is-active');

            });
        });
    }

    const mobileMenuTrigger = document.querySelector(".mobile-menu .menu-trigger");

    if (mobileMenuTrigger !== null) {
        mobileMenuTrigger
            .addEventListener("click", () => {
                document
                    .querySelector(".is-menu-column")
                    .classList
                    .toggle("force-show");
        });
    }

});
</script></head><body><nav class="navbar is-fixed-top"><div class="container"><div class="navbar-brand"><a class="navbar-item title is-4" href="https://fable.io/docs/">Fable</a><a class="navbar-item is-hidden-desktop" href="https://github.com/fable-compiler/fable" target="_blank" style="color:#24292e"><span class="icon"><i class=" fab fa-github fa-lg"></i></span></a><a class="navbar-item is-hidden-desktop" href="https://twitter.com/FableCompiler" target="_blank" style="color:#55acee"><span class="icon"><i class=" fab fa-twitter fa-lg"></i></span></a><div class="navbar-burger" data-target="nav-menu"><span></span><span></span><span></span></div></div><div class="navbar-menu" id="nav-menu"><div class="navbar-start"></div><div class="navbar-end"><a class="navbar-item" href="https://fable.io/repl/" target="_self"><span>Try online</span></a><a class="navbar-item" href="https://gitter.im/fable-compiler/Fable" target="_blank" style="color:#24292e"><span class="icon"><i class=" fab fa-gitter fa-lg"></i></span><span>Chat</span></a><a class="navbar-item is-hidden-touch" href="https://github.com/fable-compiler/fable" target="_blank" style="color:#24292e"><span class="icon"><i class=" fab fa-github fa-lg"></i></span></a><a class="navbar-item is-hidden-touch" href="https://twitter.com/FableCompiler" target="_blank" style="color:#55acee"><span class="icon"><i class=" fab fa-twitter fa-lg"></i></span></a></div></div></div></nav><div class="container"><div><div class="mobile-menu is-hidden-desktop"><nav class="breadcrumb"><ul><li class=""><a class="menu-trigger"><span class="icon"><i class=" fas fa-bars"></i></span></a></li><li class="is-active"><a>Your Fable project</a></li><li class="is-active"><a>Testing</a></li></ul></nav></div><div class="columns is-mobile is-gapless"><div class="column is-hidden-touch is-menu-column is-2-desktop" style="padding-left:1.5rem !important"><div class="menu-container full-height-scrollable-content"><aside class="menu" style="margin-top:3.25rem"><p class="menu-label">Introduction</p><ul class="menu-list"><li><a class="" href="/docs/index.html" data-menu-id="index">What is Fable?</a></li><li><a class="" href="/docs/introduction/net-users-read-this.html" data-menu-id="introduction/net-users-read-this">Are you a .NET developer?</a></li><li><a class="" href="/docs/introduction/js-users-read-this.html" data-menu-id="introduction/js-users-read-this">Are you a JS developer?</a></li></ul><p class="menu-label">New to F#?</p><ul class="menu-list"><li><a class="" href="/docs/new-to-fsharp/learning-the-language.html" data-menu-id="new-to-fsharp/learning-the-language">Learning the language</a></li><li><a class="" href="/docs/new-to-fsharp/let-keyword.html" data-menu-id="new-to-fsharp/let-keyword">The let keyword</a></li></ul><p class="menu-label">Fable in 2 steps</p><ul class="menu-list"><li><a class="" href="/docs/2-steps/setup.html" data-menu-id="2-steps/setup">Setup</a></li><li><a class="" href="/docs/2-steps/your-first-fable-project.html" data-menu-id="2-steps/your-first-fable-project">Start a new project</a></li></ul><p class="menu-label">Your Fable project</p><ul class="menu-list"><li><a class="" href="/docs/your-fable-project/project-file.html" data-menu-id="your-fable-project/project-file">The project file</a></li><li><a class="" href="/docs/your-fable-project/use-a-fable-library.html" data-menu-id="your-fable-project/use-a-fable-library">Use a Fable library</a></li><li><a class="" href="/docs/your-fable-project/author-a-fable-library.html" data-menu-id="your-fable-project/author-a-fable-library">Author a Fable library</a></li><li><a class="" href="/docs/your-fable-project/build-and-run.html" data-menu-id="your-fable-project/build-and-run">Build &amp; run</a></li><li><a class="" href="/docs/your-fable-project/testing.html" data-menu-id="your-fable-project/testing">Testing</a></li></ul><p class="menu-label">Communicate with Javascript</p><ul class="menu-list"><li><a class="" href="/docs/communicate/js-from-fable.html" data-menu-id="communicate/js-from-fable">Call JS from Fable</a></li><li><a class="" href="/docs/communicate/fable-from-js.html" data-menu-id="communicate/fable-from-js">Call Fable from JavaScript</a></li></ul><p class="menu-label">From .NET to Fable</p><ul class="menu-list"><li><a class="" href="/docs/dotnet/compatibility.html" data-menu-id="dotnet/compatibility">.NET and F# compatibility</a></li><li><a class="" href="/docs/dotnet/numbers.html" data-menu-id="dotnet/numbers">Numeric types</a></li></ul><p class="menu-label">Miscellaneous</p><ul class="menu-list"><li><a class="" href="/docs/miscellaneous/official-samples.html" data-menu-id="miscellaneous/official-samples">Check official samples</a></li><li><a class="" href="/docs/miscellaneous/awesome-list.html" data-menu-id="miscellaneous/awesome-list">Awesome Fable</a></li><li><a class="" href="/docs/miscellaneous/fable-in-videos.html" data-menu-id="miscellaneous/fable-in-videos">Fable in videos</a></li></ul></aside></div></div><div class="column full-height-scrollable-content toc-scrollable-container is-main-content is-full-touch is-8-desktop" style="scroll-behavior:smooth;overflow-x:hidden"><section class="section"><div class="content"><header class="page-header"><a class="button is-pulled-right is-primary is-outlined is-hidden-touch" target="_blank" href="https://github.com/fable-compiler/fable-compiler.github.io/edit/dev/docsrc/your-fable-project\testing.md">Edit</a><h1>Testing</h1></header><div><p>You can use all tools of the JS ecosystem.</p>
<p>Several js libs already have a Fable binding :</p>
<ul>
<li>mocha: <a href="https://github.com/Zaid-Ajaj/Fable.Mocha">https://github.com/Zaid-Ajaj/Fable.Mocha</a></li>
<li>jest: <a href="https://github.com/Shmew/Fable.Jester">https://github.com/Shmew/Fable.Jester</a></li>
</ul>
<h1>Example with jest <a href="#Example-with-jest" aria-hidden="true"><span class="anchor" id="Example-with-jest"></span></a></h1>
<h2>Setup <a href="#Setup" aria-hidden="true"><span class="anchor" id="Setup"></span>#</a></h2>
<p>You should install js test runner :</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span>  npm install jest --save-dev</span></code></pre>
<p>And Fable binding :</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span>  </span><span style="color: #A0A1A7;font-style: italic"># nuget</span>
<span>  dotnet add package Fable.Jester</span>
<span>  </span><span style="color: #A0A1A7;font-style: italic"># paket</span>
<span>  paket add Fable.Jester --project ./project/path</span></code></pre>
<h2>Write tests <a href="#Write-tests" aria-hidden="true"><span class="anchor" id="Write-tests"></span>#</a></h2>
<p>Now, you can write your first test :</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span style="color: #A626A4">open</span><span> </span><span style="color: #4078F2">Fable.Jester</span>

<span>Jest.describe</span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;can run basic tests&quot;</span><span style="color: #A626A4">,</span><span> </span><span style="color: #A626A4">fun</span><span style="color: #383A42"> </span><span style="color: #A626A4">()</span><span> </span><span style="color: #A626A4">-&gt;</span>
<span>    Jest.test</span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;running a test&quot;</span><span style="color: #A626A4">,</span><span> </span><span style="color: #A626A4">fun</span><span style="color: #383A42"> </span><span style="color: #A626A4">()</span><span> </span><span style="color: #A626A4">-&gt;</span>
<span>        Jest.expect</span><span style="color: #A626A4">(</span><span style="color: #986801">1</span><span style="color: #A626A4">+</span><span style="color: #986801">1</span><span style="color: #A626A4">)</span><span>.toEqual</span><span style="color: #A626A4">(</span><span style="color: #986801">2</span><span style="color: #A626A4">)</span>
<span>    </span><span style="color: #A626A4">)</span>
<span style="color: #A626A4">)</span></code></pre>
<p>See Jester documentation to more informations : <a href="https://shmew.github.io/Fable.Jester/">https://shmew.github.io/Fable.Jester/</a></p>
<h2>Run <a href="#Run" aria-hidden="true"><span class="anchor" id="Run"></span>#</a></h2>
<p>Like all transpiled languages to JS, you have to convert your project to JS.
For this, you can use Webpack, but it isn't the ideal solution, because test runners generally prefer to have small files rather than a single big file.
You can use the compiler directly via the <code>fable-splitter</code> tool.</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span>  npm install fable-splitter --save-dev</span></code></pre>
<p>You should create a config file <code>splitter.config.js</code>:</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span style="color: #A626A4">const</span><span> </span><span style="color: #986801">path</span><span> </span><span style="color: #0184BC">=</span><span> </span><span style="color: #0184BC">require</span><span style="color: #383A42">(</span><span style="color: #50A14F">&quot;path&quot;</span><span style="color: #383A42">);</span>

<span style="color: #E45649">module</span><span style="color: #383A42">.</span><span style="color: #E45649">exports</span><span> </span><span style="color: #0184BC">=</span><span> </span><span style="color: #383A42">{</span>
<span>  allFiles</span><span style="color: #0184BC">:</span><span> </span><span style="color: #986801">true</span><span style="color: #383A42">,</span><span> </span><span style="color: #A0A1A7;font-style: italic">// convert all files and not only entrypoint</span>
<span>  entry</span><span style="color: #0184BC">:</span><span> </span><span style="color: #E45649">path</span><span style="color: #383A42">.</span><span style="color: #4078F2">join</span><span style="color: #383A42">(</span><span style="color: #E45649">__dirname</span><span style="color: #383A42">,</span><span> </span><span style="color: #50A14F">&quot;./project/path.fsproj&quot;</span><span style="color: #383A42">),</span>
<span>  outDir</span><span style="color: #0184BC">:</span><span> </span><span style="color: #E45649">path</span><span style="color: #383A42">.</span><span style="color: #4078F2">join</span><span style="color: #383A42">(</span><span style="color: #E45649">__dirname</span><span style="color: #383A42">,</span><span> </span><span style="color: #50A14F">&quot;./output&quot;</span><span style="color: #383A42">),</span>
<span>  babel</span><span style="color: #0184BC">:</span><span> </span><span style="color: #383A42">{</span><span> sourceMaps</span><span style="color: #0184BC">:</span><span> </span><span style="color: #50A14F">&quot;inline&quot;</span><span> </span><span style="color: #383A42">}</span><span> </span><span style="color: #A0A1A7;font-style: italic">// enable sourceMaps to see F# code and not generated js in test reports</span>
<span style="color: #383A42">};</span></code></pre>
<p>You should config Jest with another config file <code>jest.config.js</code> :</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span style="color: #E45649">module</span><span style="color: #383A42">.</span><span style="color: #E45649">exports</span><span> </span><span style="color: #0184BC">=</span><span> </span><span style="color: #383A42">{</span>
<span>  moduleFileExtensions</span><span style="color: #0184BC">:</span><span> </span><span style="color: #383A42">[</span><span style="color: #50A14F">&#039;js&#039;</span><span style="color: #383A42">],</span>
<span>  roots</span><span style="color: #0184BC">:</span><span> </span><span style="color: #383A42">[</span><span style="color: #50A14F">&#039;./output&#039;</span><span style="color: #383A42">],</span>
<span>  testMatch</span><span style="color: #0184BC">:</span><span> </span><span style="color: #383A42">[</span><span style="color: #50A14F">&#039;&lt;rootDir&gt;/**/*.Test.js&#039;</span><span style="color: #383A42">],</span>
<span>  coveragePathIgnorePatterns</span><span style="color: #0184BC">:</span><span> </span><span style="color: #383A42">[</span><span style="color: #50A14F">&#039;/</span><span style="color: #0184BC">\.</span><span style="color: #50A14F">fable/&#039;</span><span style="color: #383A42">,</span><span> </span><span style="color: #50A14F">&#039;/[fF]able.*/&#039;</span><span style="color: #383A42">,</span><span> </span><span style="color: #50A14F">&#039;/node_modules/&#039;</span><span style="color: #383A42">],</span>
<span>  testEnvironment</span><span style="color: #0184BC">:</span><span> </span><span style="color: #50A14F">&#039;node&#039;</span><span style="color: #383A42">,</span>
<span>  transform</span><span style="color: #0184BC">:</span><span> </span><span style="color: #383A42">{}</span>
<span style="color: #383A42">};</span></code></pre>
<p><code>roots</code> should be equals to <code>outDir</code> of compilator.
<code>testMatch</code> indicate file pattern name with test.
<code>coveragePathIgnorePatterns</code>, <code>testEnvironment</code>, <code>transform</code> improve performance of runner.
You can read Jest doc to see more : <a href="https://jestjs.io/docs/en/configuration">https://jestjs.io/docs/en/configuration</a></p>
<p>Now, you can build:</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span>  npx fable-splitter -c splitter.config.js</span></code></pre>
<p>And run test:</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span>  npx jest --config=jest.config.js</span></code></pre>
<p>Youhou! You can see the test result :)</p>
<p>You can specify this command on npm in <code>package.json</code> :</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span>{</span>
<span>  </span><span style="color: #E45649">&quot;scripts&quot;</span><span>: {</span>
<span>    </span><span style="color: #E45649">&quot;test&quot;</span><span>: </span><span style="color: #50A14F">&quot;fable-splitter -c splitter.config.js &amp;&amp; jest --config=jest.config.js&quot;</span><span>,</span>
<span>  },</span>
<span>}</span></code></pre>
<p>And now run with a single command:</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span>  npm </span><span style="color: #0184BC">test</span></code></pre>
<h2>Watch mode <a href="#Watch-mode" aria-hidden="true"><span class="anchor" id="Watch-mode"></span>#</a></h2>
<p>Running each time is slow.
You can use the watch feature to take advantage of the compiler and runner cache, and run tests whenever a file changes.</p>
<p>Currently, Fable doesn't have official plugins for the different runners.
So you have to execute these two commands in parallel:</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span>  npx fable-splitter -c splitter.config.js -w</span>
<span>  npx jest --config=jest.config.js --watchAll</span></code></pre>
<p>You add a npm script in <code>package.json</code> :</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span>{</span>
<span>  </span><span style="color: #E45649">&quot;scripts&quot;</span><span>: {</span>
<span>    </span><span style="color: #E45649">&quot;test&quot;</span><span>: </span><span style="color: #50A14F">&quot;fable-splitter -c splitter.config.js &amp;&amp; jest --config=jest.config.js&quot;</span><span>,</span>
<span>    </span><span style="color: #E45649">&quot;watch-test:build&quot;</span><span>: </span><span style="color: #50A14F">&quot;fable-splitter -c splitter.config.js -w&quot;</span><span>,</span>
<span>    </span><span style="color: #E45649">&quot;watch-test:run&quot;</span><span>: </span><span style="color: #50A14F">&quot;jest --config=jest.config.js --watchAll&quot;</span><span>,</span>
<span>    </span><span style="color: #E45649">&quot;watch-test&quot;</span><span>: </span><span style="color: #50A14F">&quot;npm-run-all --parallel watch-test:*&quot;</span>
<span>  },</span>
<span>}</span></code></pre>
<p>I use <code>npm-run-all</code> to run several commands in parallel. You should install with:</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span>  npm install --save-dev npm-run-all</span></code></pre>
<p>Now, run</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span>  npm run-script watch-test</span></code></pre>
<p>Enjoy :)</p>
</div></div></section><div class="navigation-container"><button class="button is-outlined is-primary navigate-to-previous"><span class="icon"><i class=" fas fa-arrow-left"></i></span><span class="is-uppercase text">Previous</span></button><button class="button is-outlined is-primary navigate-to-next"><span class="is-uppercase text">Next</span><span class="icon"><i class=" fas fa-arrow-right"></i></span></button></div></div></div><div class="is-hidden-touch material-like-container is-for-desktop"><div class="material-like-button scroll-to-top"><span class="icon is-medium"><i class=" fas fa-angle-up fa-lg"></i></span></div></div><div class="is-hidden-desktop material-like-container is-for-touch"><div class="material-like-container-body"><div class="is-hidden material-like-button toggle-toc"><span class="icon is-medium"><i class=" fas fa-ellipsis-v fa-lg"></i></span><div class="material-like-button-label">Table of content</div></div><div class="material-like-button scroll-to-top"><span class="icon is-medium"><i class=" fas fa-angle-up fa-lg"></i></span><div class="material-like-button-label">Scroll to top</div></div></div><div class="material-like-button close-open-button"><span class="icon is-medium"><i class=" fas fa-plus fa-lg"></i></span></div></div></div><script type="text/javascript">
nacara.pageId = 'your-fable-project/testing';
                                        </script><script type="text/javascript">window.addEventListener("DOMContentLoaded", () => {

    const refContainer = document.querySelector(".toc-scrollable-container");

    // Register scroll to top button
    document
        .querySelectorAll(".scroll-to-top")
        .forEach(element => {
            element.addEventListener("click", () => {
                document
                    .querySelector(".toc-scrollable-container")
                    .scrollTo(0, 0);
            });
        });

    // Listener used to update the position of TOC button at the bottom of the page
    refContainer.addEventListener("scroll", () => {

        // If we are at the end of the element
        // Source: https://developer.mozilla.org/fr/docs/Web/API/Element/scrollHeight#D%C3%A9terminer_si_un_%C3%A9l%C3%A9ment_a_compl%C3%A8tement_%C3%A9t%C3%A9_d%C3%A9fil%C3%A9
        if (refContainer.scrollTop > 30) {
            document
                .querySelector(".material-like-container.is-for-desktop")
                .classList
                .remove("hide");
        } else {
            document
                .querySelector(".material-like-container.is-for-desktop")
                .classList
                .add("hide");
        }
    });

    const bodyContainer = document.querySelector(".material-like-container.is-for-touch .material-like-container-body");

    document
        .querySelector(".material-like-button.close-open-button")
        .addEventListener("click", () => {
            bodyContainer.classList.toggle("show");
            document
                .querySelector(".material-like-button.close-open-button")
                .classList.toggle("is-open");
    });

});
</script></div></body></html>