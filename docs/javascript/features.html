<html class="has-navbar-fixed-top" lang="en"><head><title>Fable Â· Features</title><meta http-equiv="content-type" content="text/html; charset=UTF-8" charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" type="text/css" href="/style.css"/><script src="https://unpkg.com/scroll-into-view-if-needed@2.2.28/umd/scroll-into-view-if-needed.min.js"></script></head><body><nav class="navbar is-fixed-top is-spaced"><div class="container"><div class="navbar-brand"><a class="navbar-item title is-4" href="https://fable.io/">Fable</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-active" href="/docs">Documentation</a><a class="navbar-item is-hidden-mobile" href="/packages/">Packages</a><a class="navbar-item is-hidden-mobile" href="/repl/">Try</a><a class="navbar-item" href="/blog/index.html">Blog</a><a class="navbar-item is-hidden-mobile" href="/community.html">Community</a><a class="navbar-item is-hidden-mobile" href="/resources.html">Resources</a><div class="navbar-item navbar-burger-dots is-hidden-tablet"><svg height="4" stroke="none" viewBox="0 0 22 4" width="22"><circle cx="2" cy="2" r="2"></circle><circle cx="2" cy="2" r="2" transform="translate(9,0)"></circle><circle cx="2" cy="2" r="2" transform="translate(18,0)"></circle></svg></div></div><div class="navbar-end is-hidden-mobile"><a class="navbar-item" href="https://github.com/fable-compiler/fable"><span class="icon"><i class=" fab fa-github fa-lg"></i></span></a><a class="navbar-item" href="https://twitter.com/FableCompiler"><span class="icon"><i class=" fab fa-twitter fa-lg"></i></span></a><a class="navbar-item" href="https://gitter.im/fable-compiler/Fable"><span class="icon"><i class=" fab fa-gitter fa-lg"></i></span></a><a class="navbar-item" href="https://www.youtube.com/channel/UC6m70Jyr65ogDySbK7aMmzg/videos"><span class="icon"><i class=" fab fa-youtube fa-lg"></i></span></a></div></div><div class="nacara-navbar-menu"><a class="nacara-navbar-menu-item" href="/packages/">Packages</a><a class="nacara-navbar-menu-item" href="/repl/">Try</a><a class="nacara-navbar-menu-item" href="/community.html">Community</a><a class="nacara-navbar-menu-item" href="/resources.html">Resources</a><a class="nacara-navbar-menu-item" href="https://github.com/fable-compiler/fable">Github</a><a class="nacara-navbar-menu-item" href="https://twitter.com/FableCompiler">Twitter</a><a class="nacara-navbar-menu-item" href="https://gitter.im/fable-compiler/Fable">Gitter</a><a class="nacara-navbar-menu-item" href="https://www.youtube.com/channel/UC6m70Jyr65ogDySbK7aMmzg/videos">Youtube</a></div></div></nav><div class="grey-overlay"></div><div class="nacara-content"><div class="container"><div class="mobile-menu"><nav class="breadcrumb"><ul><li><a class="menu-trigger"><span></span><span></span><span></span></a></li><li class="is-active"><a>Documentation</a></li><li class="is-active"><a>JavaScript</a></li><li class="is-active"><a>Features</a></li></ul></nav></div><div class="columns is-gapless is-mobile"><div class="column is-menu-column is-3-desktop is-hidden-touch"><div class="menu-container"><aside class="menu"><p class="menu-label">Introduction</p><ul class="menu-list"><li><a class=" " href="/docs/index.html">What is Fable?</a></li><li><a class=" " href="/docs/introduction/dotnet-users-read-this.html">Are you a .NET developer?</a></li><li><a class=" " href="/docs/introduction/js-users-read-this.html">Are you a JS developer?</a></li></ul><p class="menu-label">Getting started</p><ul class="menu-list"><li><a class=" " href="/docs/getting-started/setup.html">Setup</a></li><li><a class=" " href="/docs/getting-started/your-first-fable-project.html">Start a new project</a></li><li><a class=" " href="/docs/getting-started/javascript.html">JavaScript</a></li><li><a class=" " href="/docs/getting-started/typescript.html">TypeScript</a></li><li><a class=" " href="/docs/getting-started/python.html">Python</a></li><li><a class=" " href="/docs/getting-started/rust.html">Rust</a></li></ul><p class="menu-label">Your Fable project</p><ul class="menu-list"><li><a class=" " href="/docs/your-fable-project/use-a-fable-library.html">Use a Fable library</a></li><li><a class=" " href="/docs/your-fable-project/author-a-fable-library.html">Author a Fable library</a></li></ul><p class="menu-label">New to F#?</p><ul class="menu-list"><li><a class=" " href="/docs/new-to-fsharp/learning-the-language.html">Learning the language</a></li><li><a class=" " href="/docs/new-to-fsharp/let-keyword.html">The let keyword</a></li><li><a class=" " href="/docs/new-to-fsharp/project-file.html">The project file</a></li></ul><p class="menu-label">JavaScript</p><ul class="menu-list"><li><a class=" " href="/docs/javascript/build-and-run.html">Build and Run</a></li><li><a class=" is-active" href="/docs/javascript/features.html">Features</a></li><li><ul class="table-of-content"><li data-toc-rank="2"><a href="#utilities" data-toc-element="true">Utilities</a></li><li data-toc-rank="3"><a href="#jsnative" data-toc-element="true"><code>jsNative</code></a></li><li data-toc-rank="2"><a href="#imports" data-toc-element="true">Imports</a></li><li data-toc-rank="3"><a href="#attributes" data-toc-element="true">Attributes</a></li><li data-toc-rank="4"><a href="#global" data-toc-element="true"><code>[&#60Global>]</code></a></li><li data-toc-rank="4"><a href="#import" data-toc-element="true"><code>[&#60Import(...)>]</code></a></li><li data-toc-rank="4"><a href="#importall" data-toc-element="true"><code>[&#60ImportAll(...)>]</code></a></li><li data-toc-rank="4"><a href="#importmember" data-toc-element="true"><code>[&#60ImportMember(...)>]</code></a></li><li data-toc-rank="4"><a href="#importdefault" data-toc-element="true"><code>[&#60ImportDefault(...)>]</code></a></li><li data-toc-rank="3"><a href="#functions" data-toc-element="true">Functions</a></li><li data-toc-rank="4"><a href="#import-1" data-toc-element="true"><code>import</code></a></li><li data-toc-rank="4"><a href="#importall-1" data-toc-element="true"><code>importAll</code></a></li><li data-toc-rank="4"><a href="#importdefault-1" data-toc-element="true"><code>importDefault</code></a></li><li data-toc-rank="4"><a href="#importmember-1" data-toc-element="true"><code>importMember</code></a></li><li data-toc-rank="4"><a href="#importsideeffects" data-toc-element="true"><code>importSideEffects</code></a></li><li data-toc-rank="2"><a href="#emit-when-f-is-not-enough" data-toc-element="true">Emit, when F# is not enough</a></li><li data-toc-rank="3"><a href="#emit" data-toc-element="true"><code>[&#60Emit("...")>]</code></a></li><li data-toc-rank="3"><a href="#emitjsexpr" data-toc-element="true"><code>emitJsExpr</code></a></li><li data-toc-rank="3"><a href="#emitjsstatement" data-toc-element="true"><code>emitJsStatement</code></a></li><li data-toc-rank="3"><a href="#emitjsexpr-vs-emitjsstatement" data-toc-element="true"><code>emitJsExpr</code> vs <code>emitJsStatement</code></a></li><li data-toc-rank="2"><a href="#erase" data-toc-element="true"><code>[&#60Erase>]</code></a></li><li data-toc-rank="3"><a href="#erased-unions" data-toc-element="true">Erased unions</a></li><li data-toc-rank="4"><a href="#u2-u3--u9" data-toc-element="true"><code>U2</code>, <code>U3</code>, ..., <code>U9</code></a></li><li data-toc-rank="3"><a href="#erased-types" data-toc-element="true">Erased types</a></li><li data-toc-rank="2"><a href="#stringenum" data-toc-element="true"><code>[&#60StringEnum>]</code></a></li><li data-toc-rank="3"><a href="#caserules" data-toc-element="true"><code>CaseRules</code></a></li><li data-toc-rank="3"><a href="#compiledname" data-toc-element="true"><code>[&#60CompiledName>]</code></a></li><li data-toc-rank="2"><a href="#plain-old-javascript-objects" data-toc-element="true">Plain Old JavaScript Objects</a></li><li data-toc-rank="3"><a href="#anonymous-records" data-toc-element="true">Anonymous records</a></li><li data-toc-rank="3"><a href="#createobj" data-toc-element="true"><code>createObj</code></a></li><li data-toc-rank="3"><a href="#createempty" data-toc-element="true"><code>createEmpty</code></a></li><li data-toc-rank="3"><a href="#jsoptions" data-toc-element="true"><code>jsOptions</code></a></li><li data-toc-rank="3"><a href="#paramobject" data-toc-element="true"><code>[&#60ParamObject>]</code></a></li><li data-toc-rank="4"><a href="#optional-properties" data-toc-element="true">Optional properties</a></li><li data-toc-rank="4"><a href="#constructor-overloads" data-toc-element="true">Constructor overloads</a></li><li data-toc-rank="4"><a href="#backwards-compatibility" data-toc-element="true">Backwards compatibility</a></li><li data-toc-rank="4"><a href="#methods-with-positional-arguments-and-pojo" data-toc-element="true">Methods with positional arguments and POJO</a></li><li data-toc-rank="2"><a href="#name-mangling" data-toc-element="true">Name mangling</a></li><li data-toc-rank="3"><a href="#attachmembers" data-toc-element="true"><code>[&#60AttachMembers>]</code></a></li><li data-toc-rank="3"><a href="#mangle" data-toc-element="true"><code>[&#60Mangle>]</code></a></li><li data-toc-rank="2"><a href="#automatic-uncurrying" data-toc-element="true">Automatic uncurrying</a></li><li data-toc-rank="3"><a href="#using-delegates-for-disambiguation" data-toc-element="true">Using delegates for disambiguation</a></li><li data-toc-rank="2"><a href="#dynamic-typing-proceed-with-caution" data-toc-element="true">Dynamic typing, proceed with caution</a></li><li data-toc-rank="3"><a href="#property-access" data-toc-element="true">Property access</a></li><li data-toc-rank="3"><a href="#function-application" data-toc-element="true">Function application</a></li><li data-toc-rank="3"><a href="#method-chaining" data-toc-element="true">Method chaining</a></li><li data-toc-rank="2"><a href="#dynamic-casting" data-toc-element="true">Dynamic casting</a></li></ul></li><li><a class=" " href="/docs/javascript/compatibility.html">.NET and F# compatibility</a></li></ul><p class="menu-label">TypeScript</p><ul class="menu-list"><li><a class=" " href="/docs/typescript/build-and-run.html">Build and Run</a></li><li><a class=" " href="/docs/typescript/features.html">Features</a></li><li><a class=" " href="/docs/typescript/compatibility.html">.NET and F# compatibility</a></li></ul><p class="menu-label">Python</p><ul class="menu-list"><li><a class=" " href="/docs/python/build-and-run.html">Build and Run</a></li><li><a class=" " href="/docs/python/features.html">Features</a></li><li><a class=" " href="/docs/python/compatibility.html">.NET and F# compatibility</a></li></ul><p class="menu-label">Miscellaneous</p><ul class="menu-list"><li><a class=" " href="/docs/miscellaneous/official-samples.html">Check official samples</a></li><li><a class=" " href="/docs/miscellaneous/fable-in-videos.html">Fable in videos</a></li></ul></aside></div></div><div class="column is-9-desktop is-full-touch"><section class="section"><div class="content"><header class="page-header"><div class="columns is-vcentered"><div class="column"><nav class="breadcrumb is-category-navigation is-hidden-touch"><ul><li class="is-active"><a>Documentation</a></li><li class="is-active"><a>JavaScript</a></li><li class="is-active"><a>Features</a></li></ul></nav></div><div class="column is-narrow"><a class="button is-hidden-touch is-ghost" target="_blank" href="https://github.com/fable-compiler/fable-compiler.github.io/edit/dev/docs/docs/javascript/features.md">Edit</a></div></div><h1 class="title is-1">Features</h1></header><div><style class=grvsc-styles>.grvsc-container{overflow:auto;position:relative;-webkit-overflow-scrolling:touch;padding-top:1rem;padding-top:var(--grvsc-padding-top,var(--grvsc-padding-v,1rem));padding-bottom:1rem;padding-bottom:var(--grvsc-padding-bottom,var(--grvsc-padding-v,1rem));border-radius:8px;border-radius:var(--grvsc-border-radius,8px);font-feature-settings:normal;line-height:1.4}.grvsc-code{display:table}.grvsc-line{display:table-row;box-sizing:border-box;width:100%;position:relative}.grvsc-line>*{position:relative}.grvsc-gutter-pad{display:table-cell;padding-left:.75rem;padding-left:calc(var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem))/ 2)}.grvsc-gutter{display:table-cell;-webkit-user-select:none;-moz-user-select:none;user-select:none}.grvsc-gutter::before{content:attr(data-content)}.grvsc-source{display:table-cell;padding-left:1.5rem;padding-left:var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem));padding-right:1.5rem;padding-right:var(--grvsc-padding-right,var(--grvsc-padding-h,1.5rem))}.grvsc-source:empty::after{content:' ';-webkit-user-select:none;-moz-user-select:none;user-select:none}.grvsc-gutter+.grvsc-source{padding-left:.75rem;padding-left:calc(var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem))/ 2)}.grvsc-has-line-highlighting>.grvsc-code>.grvsc-line::before{content:' ';position:absolute;width:100%}.grvsc-line-diff-add::before{background-color:var(--grvsc-line-diff-add-background-color,rgba(0,255,60,.2))}.grvsc-line-diff-del::before{background-color:var(--grvsc-line-diff-del-background-color,rgba(255,0,20,.2))}.grvsc-line-number{padding:0 2px;text-align:right;opacity:.7}.atom-one-light{background-color:#fafafa;color:#383a42}.atom-one-light .mtki{font-style:italic}.atom-one-light .mtk1{color:#383a42}.atom-one-light .mtk7{color:#a0a1a7}.atom-one-light .mtk14{color:#a626a4}.atom-one-light .mtk5{color:#e45649}.atom-one-light .mtk4{color:#c18401}.atom-one-light .mtk10{color:#50a14f}.atom-one-light .mtk9{color:#4078f2}.atom-one-light .mtk8{color:#0184bc}.atom-one-light .mtk6{color:#986801}.atom-one-light .grvsc-line-highlighted::before{background-color:var(--grvsc-line-highlighted-background-color,rgba(0,0,0,.05));box-shadow:inset var(--grvsc-line-highlighted-border-width,4px) 0 0 0 var(--grvsc-line-highlighted-border-color,rgba(0,0,0,.2))}</style><p>In this section, we will cover specific features of Fable that are used when interacting with JavaScript.<h2 id=utilities>Utilities<a href=#utilities aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h2><h3 id=jsnative><code>jsNative</code><a href=#jsnative aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p><code>jsNative</code> provide a dummy implementation that we use when writing bindings.<p>Here is its definition:<pre class="atom-one-light grvsc-container"data-index=0 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class="mtki mtk7">/// Alias of nativeOnly</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let inline</span><span class=mtk1> </span><span class=mtk5>jsNative</span><span class=mtk14>&lt;</span><span class=mtk4>'T</span><span class=mtk14>></span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>'T </span><span class=mtk14>=</span><span class=mtk1> </span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        failwith </span><span class=mtk10>"You've hit dummy code used for Fable bindings. This probably means you're compiling Fable code to .NET by mistake, please check."</span></span></span></code></pre><p>The thrown exception should never be seen as <code>jsNative</code> calls should be replaced by actual JavaScript code calls.<p>Examples:<p>If you have this <code>hello.js</code> file:<pre class="atom-one-light grvsc-container"data-index=1 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>function</span><span class=mtk1> </span><span class=mtk9>hello</span><span class=mtk1>() {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk4>console</span><span class=mtk1>.</span><span class=mtk8>log</span><span class=mtk1>(</span><span class=mtk10>"Hello from JS"</span><span class=mtk1>);</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>}</span></span></span></code></pre><p>And this F# code:<pre class="atom-one-light grvsc-container"data-index=2 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Import</span><span class=mtk14>(</span><span class=mtk10>"hello"</span><span class=mtk14>,</span><span class=mtk8> </span><span class=mtk10>"./hello.js"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>hello</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> jsNative</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>hello</span><span class=mtk6>()</span></span></span></code></pre><p>Then the generated code will be:<pre class="atom-one-light grvsc-container"data-index=3 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>import</span><span class=mtk1> { </span><span class=mtk5>hello</span><span class=mtk1> } </span><span class=mtk14>from</span><span class=mtk1> </span><span class=mtk10>"./hello.js"</span><span class=mtk1>;</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk9>hello</span><span class=mtk1>();</span></span></span></code></pre><h2 id=imports>Imports<a href=#imports aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h2><p>In JavaScript, the static <code>import</code> declaration is used to import codes that are exported by another module.<p>Fable provides different ways to import JavaScript code, to cover different scenarios.<p>There are 2 families of imports:<ul><li>Attribute-based imports<li>Function-based imports</ul><p>They archieve the same goal, but with a slightly generated code.<pre class="atom-one-light grvsc-container"data-index=4 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Import</span><span class=mtk14>(</span><span class=mtk10>"hello"</span><span class=mtk14>,</span><span class=mtk8> </span><span class=mtk10>"./hello.js"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>hello</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> jsNative</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// ----</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>hello</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> import </span><span class=mtk10>"hello"</span><span class=mtk1> </span><span class=mtk10>"./hello.js"</span></span></span></code></pre><p>generates:<pre class="atom-one-light grvsc-container"data-index=5 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>import</span><span class=mtk1> { </span><span class=mtk5>hello</span><span class=mtk1> } </span><span class=mtk14>from</span><span class=mtk1> </span><span class=mtk10>"./hello.js"</span><span class=mtk1>;</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// ----</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>import</span><span class=mtk1> { hello as </span><span class=mtk5>hello_1</span><span class=mtk1> } </span><span class=mtk14>from</span><span class=mtk1> </span><span class=mtk10>"./hello.js"</span><span class=mtk1>;</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>const</span><span class=mtk1> </span><span class=mtk6>hello</span><span class=mtk1> </span><span class=mtk8>=</span><span class=mtk1> hello_1;</span></span></span></code></pre><p>Some JavaScript optimizations tools can remove the intermediate variable, but not all of them. So if you want to favor the smallest and cleanest output, using the attribute-based imports is recommanded.<h3 id=attributes>Attributes<a href=#attributes aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><h4 id=global><code>[&#60Global>]</code><a href=#global aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p>When trying to bind a global variable, you can use the <code>[&#60Global>]</code> attribute.<pre class="atom-one-light grvsc-container"data-index=6 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Global>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>console</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>JS.Console </span><span class=mtk14>=</span><span class=mtk1> jsNative</span></span></span></code></pre><p>If you want to use a different in you F# code, you can use the <code>name</code> parameter:<pre class="atom-one-light grvsc-container"data-index=7 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Global</span><span class=mtk14>(</span><span class=mtk10>"console"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>logger</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>JS.Console </span><span class=mtk14>=</span><span class=mtk1> jsNative</span></span></span></code></pre><h4 id=import><code>[&#60Import(...)>]</code><a href=#import aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p>This attributes takes two parameters:<ul><li><code>selector</code>: the import selector, can be <code>*</code>, <code>default</code> or a name<li><code>from</code>: the path to the JavaScript file / module</ul><pre class="atom-one-light grvsc-container"data-index=8 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Import</span><span class=mtk14>(</span><span class=mtk10>"hello"</span><span class=mtk14>,</span><span class=mtk8> </span><span class=mtk10>"./hello.js"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>hello</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> jsNative</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Generates: import { hello } from "./hello.js";</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Import</span><span class=mtk14>(</span><span class=mtk10>"*"</span><span class=mtk14>,</span><span class=mtk8> </span><span class=mtk10>"./hello.js"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>hello</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> jsNative</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Generates: import * as hello from "./hello.js";</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Import</span><span class=mtk14>(</span><span class=mtk10>"default"</span><span class=mtk14>,</span><span class=mtk8> </span><span class=mtk10>"./hello.js"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>hello</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> jsNative</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Generates: import hello from "./hello.js";</span></span></span></code></pre><h4 id=importall><code>[&#60ImportAll(...)>]</code><a href=#importall aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p><code>ImportAll</code> is used to import all members from a JavaScript module and use the F# value name as the name of the imported module.<pre class="atom-one-light grvsc-container"data-index=9 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60ImportAll</span><span class=mtk14>(</span><span class=mtk10>"./hello.js"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>hello</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> jsNative</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Generates: import * as hello from "./hello.js";</span></span></span></code></pre><h4 id=importmember><code>[&#60ImportMember(...)>]</code><a href=#importmember aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p><code>ImportMember</code> is used to import a specific member from a JavaScript module, the name is based on the name of the F# value.<pre class="atom-one-light grvsc-container"data-index=10 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60ImportMember</span><span class=mtk14>(</span><span class=mtk10>"hello"</span><span class=mtk14>,</span><span class=mtk8> </span><span class=mtk10>"./hello.js"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>hello</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> jsNative</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Generates: import { hello } from "./hello.js";</span></span></span></code></pre><h4 id=importdefault><code>[&#60ImportDefault(...)>]</code><a href=#importdefault aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p><code>ImportDefault</code> is used to import the default member from a JavaScript module, the name is based on the name of imported module.<pre class="atom-one-light grvsc-container"data-index=11 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60ImportDefault</span><span class=mtk14>(</span><span class=mtk10>"./hello.js"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>hello</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> jsNative</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Generates: import hello from "./hello.js";</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60ImportDefault</span><span class=mtk14>(</span><span class=mtk10>"./utils/hello.js"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>hello</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> jsNative</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Generates: import hello from "./utils/hello.js";</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60ImportDefault</span><span class=mtk14>(</span><span class=mtk10>"chalk"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>hello</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> jsNative</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Generates: import chalk from "chalk";</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60ImportDefault</span><span class=mtk14>(</span><span class=mtk10>"@util/chalk"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>hello</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> jsNative</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Generates: import chalk from "@util/chalk";</span></span></span></code></pre><h3 id=functions>Functions<a href=#functions aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><h4 id=import-1><code>import</code><a href=#import-1 aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p>This function takes two parameters:<ul><li><code>selector</code>: the import selector, can be <code>*</code>, <code>default</code> or a name<li><code>from</code>: the path to the JavaScript file / module</ul><pre class="atom-one-light grvsc-container"data-index=12 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>hi</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> import </span><span class=mtk10>"hello"</span><span class=mtk1> </span><span class=mtk10>"./hello.js"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Generates: </span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// import { hello } from "./hello.js";</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// export const hi = hello;</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>hi</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> import </span><span class=mtk10>"*"</span><span class=mtk1> </span><span class=mtk10>"./hello.js"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Generates:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// import * as hello from "./hello.js";</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// export const hi = hello;</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>hi</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> import </span><span class=mtk10>"default"</span><span class=mtk1> </span><span class=mtk10>"./hello.js"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Generates:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// import hello from "./hello.js";</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// export const hi = hello;</span></span></span></code></pre><h4 id=importall-1><code>importAll</code><a href=#importall-1 aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p><code>importAll</code> is used to import all members from a JavaScript module and use the F# value name as the name of the imported module.<pre class="atom-one-light grvsc-container"data-index=13 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>hi</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> importAll </span><span class=mtk10>"./hello.js"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Generates:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// import * as hello from "./hello.js";</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// export const hi = hello;</span></span></span></code></pre><h4 id=importdefault-1><code>importDefault</code><a href=#importdefault-1 aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p><code>importDefault</code> is used to import the default member from a JavaScript module, the name is based on the name of imported module.<pre class="atom-one-light grvsc-container"data-index=14 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>hi</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> importDefault </span><span class=mtk10>"./hello.js"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Generates:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// import hello from "./hello.js";</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// export const hi = hello;</span></span></span></code></pre><h4 id=importmember-1><code>importMember</code><a href=#importmember-1 aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p><code>importMember</code> is used to import a specific member from a JavaScript module, the name is based on the name of the F# value.<pre class="atom-one-light grvsc-container"data-index=15 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>hi</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> importMember </span><span class=mtk10>"./hello.js"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Generates:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// import { hi as hi_1 } from "./hello.js";</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// export const hi = hi_1;</span></span></span></code></pre><h4 id=importsideeffects><code>importSideEffects</code><a href=#importsideeffects aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p><code>importSideEffects</code> is used when you wants to import a JavaScript module that has side effects, like a CSS file or a polyfill.<pre class="atom-one-light grvsc-container"data-index=16 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>importSideEffects </span><span class=mtk10>"./style.css"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Generates:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// import "./style.css";</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>importSideEffects </span><span class=mtk10>"whatwg-fetch"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Generates:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// import 'whatwg-fetch'</span></span></span></code></pre><h2 id=emit-when-f-is-not-enough>Emit, when F# is not enough<a href=#emit-when-f-is-not-enough aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h2><p>Emit is a features offered by Fable, that allows you to write JavaScript code directly in F#.<article class="message is-danger"><div class=message-body><div><p>Content of emit snippet, is not validated by F# compiler, so you should use this feature sparingly.</div></div></article><p>Main use cases:<ul><li>You want to test something quickly<li>You just need a few lines of JavaScript code and don't want to create a <code>.js</code> file<li>You don't want to create a binding API to use a JavaScript library</ul><p>When using <code>emit</code>, you can use placeholders like <code>$0</code>, <code>$1</code>, <code>$2</code>, ... to reference the arguments.<h3 id=emit><code>[&#60Emit("...")>]</code><a href=#emit aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>You can use the <code>Emit</code> attribute to decorate function, methods,<pre class="atom-one-light grvsc-container"data-index=17 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Emit</span><span class=mtk14>(</span><span class=mtk10>"$0 + $1"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>add</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>x</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>y</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>string</span><span class=mtk14>):</span><span class=mtk1> </span><span class=mtk4>string </span><span class=mtk14>=</span><span class=mtk1> jsNative</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>result</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> add </span><span class=mtk6>1</span><span class=mtk1> </span><span class=mtk10>"2"</span></span></span></code></pre><p>generates:<pre class="atom-one-light grvsc-container"data-index=18 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>const</span><span class=mtk1> </span><span class=mtk6>result</span><span class=mtk1> </span><span class=mtk8>=</span><span class=mtk1> </span><span class=mtk6>1</span><span class=mtk1> </span><span class=mtk8>+</span><span class=mtk1> </span><span class=mtk10>"2"</span><span class=mtk1>;</span></span></span></code></pre><p>When using classes, <code>$0</code> can be used to reference the current instance on methods.<pre class="atom-one-light grvsc-container"data-index=19 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>System</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>Test</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk8>[&#60Emit</span><span class=mtk14>(</span><span class=mtk10>"$0.Function($1...)"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>member</span><span class=mtk1> </span><span class=mtk5>__.Invoke</span><span class=mtk14>(</span><span class=mtk8>[&#60ParamArray>]</span><span class=mtk1> args</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>[]):</span><span class=mtk1> </span><span class=mtk4>obj </span><span class=mtk14>=</span><span class=mtk1> jsNative</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>testInstance</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> Test</span><span class=mtk6>()</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>testInstance.Invoke</span><span class=mtk14>(</span><span class=mtk6>1</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk6>2</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk6>3</span><span class=mtk14>)</span></span></span></code></pre><p>generates:<pre class="atom-one-light grvsc-container"data-index=20 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>class</span><span class=mtk1> </span><span class=mtk4>Test</span><span class=mtk1> {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>constructor</span><span class=mtk1>() {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    }</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>}</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>function</span><span class=mtk1> </span><span class=mtk9>Test_$ctor</span><span class=mtk1>() {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>return</span><span class=mtk1> </span><span class=mtk14>new</span><span class=mtk1> </span><span class=mtk4>Test</span><span class=mtk1>();</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>}</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>const</span><span class=mtk1> </span><span class=mtk6>testInstance</span><span class=mtk1> </span><span class=mtk8>=</span><span class=mtk1> </span><span class=mtk9>Test_$ctor</span><span class=mtk1>();</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>testInstance.</span><span class=mtk9>Function</span><span class=mtk1>(</span><span class=mtk6>1</span><span class=mtk1>, </span><span class=mtk6>2</span><span class=mtk1>, </span><span class=mtk6>3</span><span class=mtk1>);</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Note how $0 is replaced by testInstance</span></span></span></code></pre><p>It's also possible to pass syntax conditioned to optional parameters:<pre class="atom-one-light grvsc-container"data-index=21 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>System.Text.RegularExpressions</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Erase>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>API</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class="mtki mtk7">// This syntax means: if second arg evals to true in JS print 'i' and nothing otherwise</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk8>[&#60Emit</span><span class=mtk14>(</span><span class=mtk10>"new RegExp($0,'g{{$1?i:}}')"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>static member</span><span class=mtk1> </span><span class=mtk5>ParseRegex</span><span class=mtk14>(</span><span class=mtk1>pattern</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>string</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk14>?</span><span class=mtk1>ignoreCase</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>bool</span><span class=mtk14>):</span><span class=mtk1> </span><span class=mtk4>Regex </span><span class=mtk14>=</span><span class=mtk1> jsNative</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>regex1</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> API.ParseRegex</span><span class=mtk14>(</span><span class=mtk10>"abc"</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>regex2</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> API.ParseRegex</span><span class=mtk14>(</span><span class=mtk10>"abc"</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk6>false</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>regex3</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> API.ParseRegex</span><span class=mtk14>(</span><span class=mtk10>"abc"</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk6>true</span><span class=mtk14>)</span></span></span></code></pre><p>generates:<pre class="atom-one-light grvsc-container"data-index=22 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>const</span><span class=mtk1> </span><span class=mtk6>regex1</span><span class=mtk1> </span><span class=mtk8>=</span><span class=mtk1> </span><span class=mtk14>new</span><span class=mtk1> </span><span class=mtk4>RegExp</span><span class=mtk1>(</span><span class=mtk10>"abc"</span><span class=mtk1>,</span><span class=mtk10>'g'</span><span class=mtk1>);</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>const</span><span class=mtk1> </span><span class=mtk6>regex2</span><span class=mtk1> </span><span class=mtk8>=</span><span class=mtk1> </span><span class=mtk14>new</span><span class=mtk1> </span><span class=mtk4>RegExp</span><span class=mtk1>(</span><span class=mtk10>"abc"</span><span class=mtk1>,</span><span class=mtk10>'g'</span><span class=mtk1>);</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>const</span><span class=mtk1> </span><span class=mtk6>regex3</span><span class=mtk1> </span><span class=mtk8>=</span><span class=mtk1> </span><span class=mtk14>new</span><span class=mtk1> </span><span class=mtk4>RegExp</span><span class=mtk1>(</span><span class=mtk10>"abc"</span><span class=mtk1>,</span><span class=mtk10>'gi'</span><span class=mtk1>);</span></span></span></code></pre><h3 id=emitjsexpr><code>emitJsExpr</code><a href=#emitjsexpr aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p class="is-info is-medium tag">Added in v3.2.0<p>Deconstruct a tuple of arguments and generate a JavaScript expression.<blockquote><p>Expressions are values or execute to values, they can be assigned or used as operands</blockquote><pre class="atom-one-light grvsc-container"data-index=23 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core.JsInterop</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>two</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    emitJsExpr </span><span class=mtk14>(</span><span class=mtk6>1</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk6>1</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk10>"$0 + $1"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>now</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>JS.Date </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    emitJsExpr </span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk10>"new Date()"</span></span></span></code></pre><p>generates:<pre class="atom-one-light grvsc-container"data-index=24 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>const</span><span class=mtk1> </span><span class=mtk6>two</span><span class=mtk1> </span><span class=mtk8>=</span><span class=mtk1> </span><span class=mtk6>1</span><span class=mtk1> </span><span class=mtk8>+</span><span class=mtk1> </span><span class=mtk6>1</span><span class=mtk1>;</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>const</span><span class=mtk1> </span><span class=mtk6>now</span><span class=mtk1> </span><span class=mtk8>=</span><span class=mtk1> </span><span class=mtk14>new</span><span class=mtk1> </span><span class=mtk4>Date</span><span class=mtk1>();</span></span></span></code></pre><h3 id=emitjsstatement><code>emitJsStatement</code><a href=#emitjsstatement aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p class="is-info is-medium tag">Added in v3.2.0<p>Deconstruct a tuple of arguments and generate a JavaScript statement.<blockquote><p>Statements are the whole structure, while expressions are the building blocks. For example, a line or a block of code is a statement.</blockquote><pre class="atom-one-light grvsc-container"data-index=25 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core.JsInterop</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>add</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>a </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>b </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    emitJsStatement </span><span class=mtk14>(</span><span class=mtk1>a</span><span class=mtk14>,</span><span class=mtk1> b</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk10>"return $0 + $1;"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>repeatHello</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>count </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    emitJsStatement </span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        count</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk10>"""</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>let cond = $0;</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>while(cond) {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>    console.log("Hello from Fable!");</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>    cond = cond - 1;</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>}"""</span></span></span></code></pre><p>generates<pre class="atom-one-light grvsc-container"data-index=26 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>function</span><span class=mtk1> </span><span class=mtk9>add</span><span class=mtk1>(a, b) {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>return</span><span class=mtk1> a </span><span class=mtk8>+</span><span class=mtk1> b;;</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>}</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>function</span><span class=mtk1> </span><span class=mtk9>repeatHello</span><span class=mtk1>(count) {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> cond </span><span class=mtk8>=</span><span class=mtk1> count;</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>while</span><span class=mtk1>(cond) {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk4>console</span><span class=mtk1>.</span><span class=mtk8>log</span><span class=mtk1>(</span><span class=mtk10>"Hello from Fable!"</span><span class=mtk1>);</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        cond </span><span class=mtk8>=</span><span class=mtk1> cond </span><span class=mtk8>-</span><span class=mtk1> </span><span class=mtk6>1</span><span class=mtk1>;</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    };</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>}</span></span></span></code></pre><h3 id=emitjsexpr-vs-emitjsstatement><code>emitJsExpr</code> vs <code>emitJsStatement</code><a href=#emitjsexpr-vs-emitjsstatement aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><pre class="atom-one-light grvsc-container"data-index=27 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>add1</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>a </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>b </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    emitJsExpr </span><span class=mtk14>(</span><span class=mtk1>a</span><span class=mtk14>,</span><span class=mtk1> b</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk10>"$0 + $1"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>add2</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>a </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>b </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    emitJsStatement </span><span class=mtk14>(</span><span class=mtk1>a</span><span class=mtk14>,</span><span class=mtk1> b</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk10>"$0 + $1"</span></span></span></code></pre><p>generates:<pre class="atom-one-light grvsc-container"data-index=28 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>function</span><span class=mtk1> </span><span class=mtk9>add1</span><span class=mtk1>(a, b) {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>return</span><span class=mtk1> a </span><span class=mtk8>+</span><span class=mtk1> b;</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>}</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>function</span><span class=mtk1> </span><span class=mtk9>add2</span><span class=mtk1>(a, b) {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    a </span><span class=mtk8>+</span><span class=mtk1> b</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>}</span></span></span></code></pre><p>Note how <code>return</code> has been added to <code>add1</code> and not to <code>add2</code>. In this situation if you use <code>emitJsStatement</code>, you need to write <code>return $0 + $1"</code><h2 id=erase><code>[&#60Erase>]</code><a href=#erase aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h2><h3 id=erased-unions>Erased unions<a href=#erased-unions aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>In JavaScript, it is common for a function to accept different type of arguments. In F#, only methods supports overload, for this reason Fable allows you to decorate union types with <code>[&#60Erase>]</code>.<pre class="atom-one-light grvsc-container"data-index=29 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Erase>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>ValueType</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>|</span><span class=mtk1> Number </span><span class=mtk14>of</span><span class=mtk1> </span><span class=mtk4>int</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>|</span><span class=mtk1> String </span><span class=mtk14>of</span><span class=mtk1> </span><span class=mtk4>string</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>|</span><span class=mtk1> Object </span><span class=mtk14>of</span><span class=mtk1> </span><span class=mtk4>obj</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Global>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>prettyPrint</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>value </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>ValueType</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> jsNative</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>prettyPrint </span><span class=mtk14>(</span><span class=mtk1>Number </span><span class=mtk6>1</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>prettyPrint </span><span class=mtk14>(</span><span class=mtk1>String </span><span class=mtk10>"Hello"</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>prettyPrint </span><span class=mtk14>(</span><span class=mtk1>Object </span><span class=mtk14>{|</span><span class=mtk1> Name </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk10>"Fable"</span><span class=mtk1> </span><span class=mtk14>|})</span></span></span></code></pre><p>generates:<pre class="atom-one-light grvsc-container"data-index=30 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk9>prettyPrint</span><span class=mtk1>(</span><span class=mtk6>1</span><span class=mtk1>);</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk9>prettyPrint</span><span class=mtk1>(</span><span class=mtk10>"Hello"</span><span class=mtk1>);</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk9>prettyPrint</span><span class=mtk1>({</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk5>Name</span><span class=mtk8>:</span><span class=mtk1> </span><span class=mtk10>"Fable"</span><span class=mtk1>,</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>});</span></span></span></code></pre><p>Note how Fable replaced the union union type with the underlying type.<h4 id=u2-u3--u9><code>U2</code>, <code>U3</code>, ..., <code>U9</code><a href=#u2-u3--u9 aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p>Fable provides already erased union types, from <code>U2</code> to <code>U9</code> than you can use without having to define custom erased union each time.<pre class="atom-one-light grvsc-container"data-index=31 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60ImportDefault</span><span class=mtk14>(</span><span class=mtk10>"./myFunction.js"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>myFunction</span><span class=mtk14>(</span><span class=mtk1>arg</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>U2</span><span class=mtk14>&lt;</span><span class=mtk4>string</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>>):</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> jsNative</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>myFunction</span><span class=mtk14>(</span><span class=mtk1>U2.Case1 </span><span class=mtk10>"testValue"</span><span class=mtk14>)</span></span></span></code></pre><p>When passing arguments to a method accepting U2, U3... you can use the !^ as syntax sugar so you don't need to type the exact case (the argument will still be type checked):<pre class="atom-one-light grvsc-container"data-index=32 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core.JsInterop</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>myFunction </span><span class=mtk14>!^</span><span class=mtk6>5</span><span class=mtk1> </span><span class="mtki mtk7">// Equivalent to: myFunction(U2.Case2 5)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// This doesn't compile, myFunction doesn't accept floats</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>myFunction </span><span class=mtk14>!^</span><span class=mtk6>2.3</span></span></span></code></pre><article class="is-info message"><div class=message-body><div><p>Please note erased unions are mainly intended for typing the signature of imported JS functions and not as a cheap replacement of <code>Choice</code>. It's possible to do pattern matching against an erased union type but this will be compiled as type testing, and since <strong>type testing is very weak in Fable</strong>, this is only recommended if the generic arguments of the erased union are types that can be easily told apart in the JS runtime (like a string, a number and an array).</div></div></article><pre class="atom-one-light grvsc-container"data-index=33 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>test</span><span class=mtk14>(</span><span class=mtk1>arg</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>U3</span><span class=mtk14>&lt;</span><span class=mtk4>string</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk4>float</span><span class=mtk14>[]>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>match</span><span class=mtk1> arg </span><span class=mtk14>with</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>|</span><span class=mtk1> U3.Case1 x </span><span class=mtk14>-></span><span class=mtk1> printfn </span><span class=mtk10>"A string </span><span class=mtk14>%s</span><span class=mtk10>"</span><span class=mtk1> x</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>|</span><span class=mtk1> U3.Case2 x </span><span class=mtk14>-></span><span class=mtk1> printfn </span><span class=mtk10>"An int </span><span class=mtk14>%i</span><span class=mtk10>"</span><span class=mtk1> x</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>|</span><span class=mtk1> U3.Case3 xs </span><span class=mtk14>-></span><span class=mtk1> Array.sum xs </span><span class=mtk14>|></span><span class=mtk1> printfn </span><span class=mtk10>"An array with sum </span><span class=mtk14>%f</span><span class=mtk10>"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// In JS roughly translated as:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// function test(arg) {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">//   if (typeof arg === "number") {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">//     toConsole(printf("An int %i"))(arg);</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">//   } else if (isArray(arg)) {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">//     toConsole(printf("An array with sum %f"))(sum(arg));</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">//   } else {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">//     toConsole(printf("A string %s"))(arg);</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">//   }</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// }</span></span></span></code></pre><h3 id=erased-types>Erased types<a href=#erased-types aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>Decoring a type with <code>[&#60Erase>]</code> allows you to instruct Fable to not generate any code for that type. This is useful when you want to use a type from a JS library that you don't want to generate bindings for.<pre class="atom-one-light grvsc-container"data-index=34 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>Component</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>interface</span><span class=mtk1> </span><span class=mtk14>end</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>User</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk8>[&#60Import</span><span class=mtk14>(</span><span class=mtk10>"Avatar"</span><span class=mtk14>,</span><span class=mtk8> </span><span class=mtk10>"./user.jsx"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>static member inline</span><span class=mtk1> </span><span class=mtk5>Avatar</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>userId </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>string</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>Component </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        jsNative</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>x</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> User.Avatar </span><span class=mtk10>"123"</span></span></span></code></pre><p>generates:<pre class="atom-one-light grvsc-container"data-index=35 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>import</span><span class=mtk1> { </span><span class=mtk5>class_type</span><span class=mtk1> } </span><span class=mtk14>from</span><span class=mtk1> </span><span class=mtk10>"./fable_modules/fable-library.4.1.4/Reflection.js"</span><span class=mtk1>;</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>import</span><span class=mtk1> { </span><span class=mtk5>Avatar</span><span class=mtk1> } </span><span class=mtk14>from</span><span class=mtk1> </span><span class=mtk10>"./user.jsx"</span><span class=mtk1>;</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>class</span><span class=mtk1> </span><span class=mtk4>User</span><span class=mtk1> {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>constructor</span><span class=mtk1>() {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    }</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>}</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>function</span><span class=mtk1> </span><span class=mtk9>User_$reflection</span><span class=mtk1>() {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>return</span><span class=mtk1> </span><span class=mtk9>class_type</span><span class=mtk1>(</span><span class=mtk10>"Program.User"</span><span class=mtk1>, </span><span class=mtk8>void</span><span class=mtk1> </span><span class=mtk6>0</span><span class=mtk1>, User);</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>}</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>function</span><span class=mtk1> </span><span class=mtk9>User_$ctor</span><span class=mtk1>() {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>return</span><span class=mtk1> </span><span class=mtk14>new</span><span class=mtk1> </span><span class=mtk4>User</span><span class=mtk1>();</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>}</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>const</span><span class=mtk1> </span><span class=mtk6>x</span><span class=mtk1> </span><span class=mtk8>=</span><span class=mtk1> </span><span class=mtk9>Avatar</span><span class=mtk1>(</span><span class=mtk10>"123"</span><span class=mtk1>);</span></span></span></code></pre><p>As you can see, there are some reflection information generated for the type <code>User</code>. However, if you decorate the type with <code>[&#60Erase>]</code>:<pre class="atom-one-light grvsc-container"data-index=36 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>Component</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>interface</span><span class=mtk1> </span><span class=mtk14>end</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Erase>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>User</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk8>[&#60Import</span><span class=mtk14>(</span><span class=mtk10>"Avatar"</span><span class=mtk14>,</span><span class=mtk8> </span><span class=mtk10>"./user.jsx"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>static member inline</span><span class=mtk1> </span><span class=mtk5>Avatar</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>userId </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>string</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>Component </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        jsNative</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>x</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> User.Avatar </span><span class=mtk10>"123"</span></span></span></code></pre><p>generates:<pre class="atom-one-light grvsc-container"data-index=37 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>import</span><span class=mtk1> { </span><span class=mtk5>Avatar</span><span class=mtk1> } </span><span class=mtk14>from</span><span class=mtk1> </span><span class=mtk10>"./user.jsx"</span><span class=mtk1>;</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>const</span><span class=mtk1> </span><span class=mtk6>x</span><span class=mtk1> </span><span class=mtk8>=</span><span class=mtk1> </span><span class=mtk9>Avatar</span><span class=mtk1>(</span><span class=mtk10>"123"</span><span class=mtk1>);</span></span></span></code></pre><p>The generated code is much smaller and doesn't include any reflection information. This trick is useful when you want to minimize the size of your bundle, this is the trick used by <a href=https://github.com/Zaid-Ajaj/Feliz/>Feliz ecosystem</a> to generate React code that is almost as small as if you were writing it by hand in JavaScript.<h2 id=stringenum><code>[&#60StringEnum>]</code><a href=#stringenum aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h2><p>It is common in JavaScript, to have String Literal Types.<pre class="atom-one-light grvsc-container"data-index=38 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">/**</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7"> * </span><span class="mtk1 mtki">@</span><span class="mtk14 mtki">typedef</span><span class="mtki mtk7"> </span><span class="mtk4 mtki">{"click" | "mouseover" }</span><span class="mtki mtk7"> </span><span class="mtk4 mtki">EventType</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7"> */</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">/**</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7"> * </span><span class="mtk1 mtki">@</span><span class="mtk14 mtki">param</span><span class="mtki mtk7"> </span><span class="mtk5 mtki">event</span><span class="mtki mtk7"> {EventType}</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7"> * </span><span class="mtk1 mtki">@</span><span class="mtk14 mtki">callback</span><span class="mtki mtk7"> </span><span class="mtk4 mtki">callback</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7"> */</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>function</span><span class=mtk1> </span><span class=mtk9>on</span><span class=mtk1>(event, callback) {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class="mtki mtk7">// ...</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>}</span></span></span></code></pre><p>Fable supports this feature by using union types and <code>StringEnum</code> attributes.<article class="is-info message"><div class=message-body><div><p>These union types must not have any data fields as they will be compiled to a string matching the name of the union case.</div></div></article><pre class="atom-one-light grvsc-container"data-index=39 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60StringEnum>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>EventType</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>|</span><span class=mtk1> Click</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>|</span><span class=mtk1> MouseOver</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60ImportDefault</span><span class=mtk14>(</span><span class=mtk10>"./event.js"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>on</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>event </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>EventType</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>callback </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    jsNative</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>on Click ignore</span></span></span></code></pre><p>generates<pre class="atom-one-light grvsc-container"data-index=40 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>import</span><span class=mtk1> </span><span class=mtk5>event</span><span class=mtk1> </span><span class=mtk14>from</span><span class=mtk1> </span><span class=mtk10>"./event.js"</span><span class=mtk1>;</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk9>event</span><span class=mtk1>(</span><span class=mtk10>"click"</span><span class=mtk1>, () </span><span class=mtk14>=></span><span class=mtk1> {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>});</span></span></span></code></pre><h3 id=caserules><code>CaseRules</code><a href=#caserules aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p><code>StringEnum</code> accept a parameters allowing you to control the casing used to conver the union case name to a string.<ul><li><code>CaseRules.None</code>: <code>MouseOver</code> becomes <code>MouseOver</code><li><code>CaseRules.LowerFirst</code>: <code>MouseOver</code> becomes <code>mouseOver</code><li><code>CaseRules.SnakeCase</code>: <code>MouseOver</code> becomes <code>mouse_over</code><li><code>CaseRules.SnakeCaseAllCaps</code>: <code>MouseOver</code> becomes <code>MOUSE-OVER</code><li><code>CaseRules.KebabCase</code>: <code>MouseOver</code> becomes <code>mouse-over</code></ul><p>The default is <code>CaseRules.LowerFirst</code>.<h3 id=compiledname><code>[&#60CompiledName>]</code><a href=#compiledname aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>You can also use <code>[&#60CompiledName>]</code> to specify the name of the union case in the generated JS code.<pre class="atom-one-light grvsc-container"data-index=41 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60StringEnum>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>EventType</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>|</span><span class=mtk1> </span><span class=mtk8>[&#60CompiledName</span><span class=mtk14>(</span><span class=mtk10>"Abracadabra"</span><span class=mtk14>)</span><span class=mtk8>>]</span><span class=mtk1> MouveOver</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>eventType</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> EventType.MouveOver</span></span></span></code></pre><p>generates<pre class="atom-one-light grvsc-container"data-index=42 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>const</span><span class=mtk1> </span><span class=mtk6>eventType</span><span class=mtk1> </span><span class=mtk8>=</span><span class=mtk1> </span><span class=mtk10>"Abracadabra"</span><span class=mtk1>;</span></span></span></code></pre><h2 id=plain-old-javascript-objects>Plain Old JavaScript Objects<a href=#plain-old-javascript-objects aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h2><p>POJO (Plain Old JavaScript Objects) are one of the most common types in JavaScript.<pre class="atom-one-light grvsc-container"data-index=43 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>const</span><span class=mtk1> </span><span class=mtk6>user</span><span class=mtk1> </span><span class=mtk8>=</span><span class=mtk1> {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk5>Name</span><span class=mtk8>:</span><span class=mtk1> </span><span class=mtk10>"Kaladin"</span><span class=mtk1>,</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk5>Age</span><span class=mtk8>:</span><span class=mtk1> </span><span class=mtk6>20</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>};</span></span></span></code></pre><p>Fable offers several ways to work with POJOs.<p>The recommended way to work with POJOs is to use <code>[&#60ParamObject>]</code> as they are the closest to normal F# classes. But we are going to explore all the options from the simpler to put in practice to the more verbose.<h3 id=anonymous-records>Anonymous records<a href=#anonymous-records aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>Fable translates anonymous records to POJOs, making them perfect one of the simplest ways to work with POJOs.<pre class="atom-one-light grvsc-container"data-index=44 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>user</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>{|</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        Name </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk10>"Kaladin"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        Age </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk6>20</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>|}</span></span></span></code></pre><h3 id=createobj><code>createObj</code><a href=#createobj aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p><code>createObj</code> is a function that takes a list of tuples and returns a POJO.<pre class="atom-one-light grvsc-container"data-index=45 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core.JsInterop</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>user</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    createObj </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk10>"Name"</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk10>"Kaladin"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk10>"Age"</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk6>20</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>]</span></span></span></code></pre><p>generates<pre class="atom-one-light grvsc-container"data-index=46 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>const</span><span class=mtk1> </span><span class=mtk6>user</span><span class=mtk1> </span><span class=mtk8>=</span><span class=mtk1> {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk5>Name</span><span class=mtk8>:</span><span class=mtk1> </span><span class=mtk10>"Kaladin"</span><span class=mtk1>,</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk5>Age</span><span class=mtk8>:</span><span class=mtk1> </span><span class=mtk6>20</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>};</span></span></span></code></pre><p>You can also use the special <code>==></code> operator to create the tuples.<pre class="atom-one-light grvsc-container"data-index=47 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core.JsInterop</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>user</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    createObj </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk10>"Name"</span><span class=mtk1> </span><span class=mtk14>==></span><span class=mtk1> </span><span class=mtk10>"Kaladin"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk10>"Age"</span><span class=mtk1> </span><span class=mtk14>==></span><span class=mtk1> </span><span class=mtk6>20</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>]</span></span></span></code></pre><h3 id=createempty><code>createEmpty</code><a href=#createempty aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p><code>createEmpty</code> is a function that takes a type and returns an empty POJO.<p>You then need to set each field manually.<pre class="atom-one-light grvsc-container"data-index=48 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core.JsInterop</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>IUser</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>abstract</span><span class=mtk1> Name </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>string</span><span class=mtk1> </span><span class=mtk14>with</span><span class=mtk1> get</span><span class=mtk14>,</span><span class=mtk1> set</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>abstract</span><span class=mtk1> Age </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk1> </span><span class=mtk14>with</span><span class=mtk1> get</span><span class=mtk14>,</span><span class=mtk1> set</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>user</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> createEmpty</span><span class=mtk14>&lt;</span><span class=mtk1>IUser</span><span class=mtk14>></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>user.Name </span><span class=mtk14>&#60-</span><span class=mtk1> </span><span class=mtk10>"Kaladin"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>user.Age </span><span class=mtk14>&#60-</span><span class=mtk1> </span><span class=mtk6>20</span></span></span></code></pre><p>generates<pre class="atom-one-light grvsc-container"data-index=49 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>const</span><span class=mtk1> </span><span class=mtk6>user</span><span class=mtk1> </span><span class=mtk8>=</span><span class=mtk1> {};</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>user.</span><span class=mtk5>Name</span><span class=mtk1> </span><span class=mtk8>=</span><span class=mtk1> </span><span class=mtk10>"Kaladin"</span><span class=mtk1>;</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>user.</span><span class=mtk5>Age</span><span class=mtk1> </span><span class=mtk8>=</span><span class=mtk1> </span><span class=mtk6>20</span><span class=mtk1>;</span></span></span></code></pre><h3 id=jsoptions><code>jsOptions</code><a href=#jsoptions aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p><code>jsOptions</code> is a function that gives you access to an objet of the provided type and allows you to set the fields.<pre class="atom-one-light grvsc-container"data-index=50 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core.JsInterop</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>IUser</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>abstract</span><span class=mtk1> Name </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>string</span><span class=mtk1> </span><span class=mtk14>with</span><span class=mtk1> get</span><span class=mtk14>,</span><span class=mtk1> set</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>abstract</span><span class=mtk1> Age </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk1> </span><span class=mtk14>with</span><span class=mtk1> get</span><span class=mtk14>,</span><span class=mtk1> set</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>user</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> jsOptions</span><span class=mtk14>&lt;</span><span class=mtk1>IUser</span><span class=mtk14>>(fun</span><span class=mtk1> o </span><span class=mtk14>-></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    o.Name </span><span class=mtk14>&#60-</span><span class=mtk1> </span><span class=mtk10>"Kaladin"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    o.Age </span><span class=mtk14>&#60-</span><span class=mtk1> </span><span class=mtk6>20</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>)</span></span></span></code></pre><p>generates<pre class="atom-one-light grvsc-container"data-index=51 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>const</span><span class=mtk1> </span><span class=mtk6>user</span><span class=mtk1> </span><span class=mtk8>=</span><span class=mtk1> {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk5>Name</span><span class=mtk8>:</span><span class=mtk1> </span><span class=mtk10>"Kaladin"</span><span class=mtk1>,</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk5>Age</span><span class=mtk8>:</span><span class=mtk1> </span><span class=mtk6>20</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>};</span></span></span></code></pre><h3 id=paramobject><code>[&#60ParamObject>]</code><a href=#paramobject aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p class="is-info is-medium tag">Added in v3.4.0<p><code>ParamObject</code> allows the most native F# experience when working with POJOs.<p>It also has the benefit of supporting other ways of creating POJOs, allowing consumer of your code to use the method they prefer.<p>When using <code>ParamObject</code>, you need to use a combination of others attributes to control the generated code.<ul><li><code>[&#60AllowNullLiteral>]</code> tells F# that <code>null</code> is a valid value for the class. This is to mimic the behavior of JS where <code>null</code> is a valid value for any object.<li><code>[&#60Global>]</code> tells Fable to not generate actual code for the class<li><code>[&#60ParamObject; Emit("$0")>]</code> tells Fable that the method needs to be compiled to a POJO</ul><pre class="atom-one-light grvsc-container"data-index=52 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60AllowNullLiteral>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Global>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>Options</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk8>[&#60ParamObject</span><span class=mtk14>;</span><span class=mtk8> Emit</span><span class=mtk14>(</span><span class=mtk10>"$0"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>(</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        searchTerm</span><span class=mtk14>:</span><span class=mtk1> string</span><span class=mtk14>,</span><span class=mtk1> </span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        ?isCaseSensitive</span><span class=mtk14>:</span><span class=mtk1> bool</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>member val</span><span class=mtk1> </span><span class=mtk5>searchTerm</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>string </span><span class=mtk14>=</span><span class=mtk1> jsNative </span><span class=mtk14>with</span><span class=mtk1> get</span><span class=mtk14>,</span><span class=mtk1> set</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>member val</span><span class=mtk1> </span><span class=mtk5>isCaseSensitive</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>bool option </span><span class=mtk14>=</span><span class=mtk1> jsNative </span><span class=mtk14>with</span><span class=mtk1> get</span><span class=mtk14>,</span><span class=mtk1> set</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>options1</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk14>new</span><span class=mtk1> Options</span><span class=mtk14>(</span><span class=mtk10>"foo"</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>options2</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk14>new</span><span class=mtk1> Options</span><span class=mtk14>(</span><span class=mtk10>"foo"</span><span class=mtk14>,</span><span class=mtk1> isCaseSensitive </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk6>true</span><span class=mtk14>)</span></span></span></code></pre><p>generates<pre class="atom-one-light grvsc-container"data-index=53 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>const</span><span class=mtk1> </span><span class=mtk6>options1</span><span class=mtk1> </span><span class=mtk8>=</span><span class=mtk1> {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk5>searchTerm</span><span class=mtk8>:</span><span class=mtk1> </span><span class=mtk10>"foo"</span><span class=mtk1>,</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>};</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>const</span><span class=mtk1> </span><span class=mtk6>options2</span><span class=mtk1> </span><span class=mtk8>=</span><span class=mtk1> {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk5>searchTerm</span><span class=mtk8>:</span><span class=mtk1> </span><span class=mtk10>"foo"</span><span class=mtk1>,</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk5>isCaseSensitive</span><span class=mtk8>:</span><span class=mtk1> </span><span class=mtk6>true</span><span class=mtk1>,</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>};</span></span></span></code></pre><p>For each arguments in the constructor, we need to create the getter and setter so you can access the properties from F#.<pre class="atom-one-light grvsc-container"data-index=54 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>options2</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk14>new</span><span class=mtk1> Options</span><span class=mtk14>(</span><span class=mtk10>"foo"</span><span class=mtk14>,</span><span class=mtk1> isCaseSensitive </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk6>true</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>options2.isCaseSensitive </span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Returns: true</span></span></span></code></pre><h4 id=optional-properties>Optional properties<a href=#optional-properties aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p>When a property is option, the argument in the method is of the form <code>?&#60arg name>: &#60type></code> and the getter/setter is of the form <code>&#60arg name>: &#60type> option</code>.<pre class="atom-one-light grvsc-container"data-index=55 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60AllowNullLiteral>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Global>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>Options</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk8>[&#60ParamObject</span><span class=mtk14>;</span><span class=mtk8> Emit</span><span class=mtk14>(</span><span class=mtk10>"$0"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>(</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        ?isCaseSensitive</span><span class=mtk14>:</span><span class=mtk1> bool</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>member val</span><span class=mtk1> </span><span class=mtk5>isCaseSensitive</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>bool option </span><span class=mtk14>=</span><span class=mtk1> jsNative </span><span class=mtk14>with</span><span class=mtk1> get</span><span class=mtk14>,</span><span class=mtk1> set</span></span></span></code></pre><h4 id=constructor-overloads>Constructor overloads<a href=#constructor-overloads aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p>In JavaScript, it is common to have a property accept multiple types.<p>The naive way to do this in F# would be to use Erased Types, but the consuming code is not very nice.<pre class="atom-one-light grvsc-container"data-index=56 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>System.Text.RegularExpressions</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60AllowNullLiteral>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Global>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>Options</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk8>[&#60ParamObject</span><span class=mtk14>;</span><span class=mtk8> Emit</span><span class=mtk14>(</span><span class=mtk10>"$0"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>(</span><span class=mtk1>query</span><span class=mtk14>:</span><span class=mtk1> U2</span><span class=mtk14>&lt;</span><span class=mtk1>string</span><span class=mtk14>,</span><span class=mtk1> Regex</span><span class=mtk14>>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>member val</span><span class=mtk1> </span><span class=mtk5>query</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>U2</span><span class=mtk14>&lt;</span><span class=mtk4>string</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk4>Regex</span><span class=mtk14>></span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> jsNative </span><span class=mtk14>with</span><span class=mtk1> get</span><span class=mtk14>,</span><span class=mtk1> set</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>options1</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk14>new</span><span class=mtk1> Options</span><span class=mtk14>(</span><span class=mtk1>U2.Case1 </span><span class=mtk10>"foo"</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>options2</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk14>new</span><span class=mtk1> Options</span><span class=mtk14>(</span><span class=mtk1>U2.Case2 </span><span class=mtk14>(</span><span class=mtk1>Regex</span><span class=mtk14>(</span><span class=mtk10>"foo"</span><span class=mtk14>)))</span></span></span></code></pre><p>By using, constructor overloads, we can have a nicer consuming code.<pre class="atom-one-light grvsc-container"data-index=57 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>System.Text.RegularExpressions</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60AllowNullLiteral>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Global>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>Options</span><span class=mtk1> </span><span class=mtk8>[&#60ParamObject</span><span class=mtk14>;</span><span class=mtk8> Emit</span><span class=mtk14>(</span><span class=mtk10>"$0"</span><span class=mtk14>)</span><span class=mtk8>>]</span><span class=mtk1> </span><span class=mtk14>private</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>query</span><span class=mtk14>: </span><span class=mtk4>U2</span><span class=mtk14>&lt;</span><span class=mtk4>string</span><span class=mtk14>,</span><span class=mtk4> Regex</span><span class=mtk14>>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk8>[&#60ParamObject</span><span class=mtk14>;</span><span class=mtk8> Emit</span><span class=mtk14>(</span><span class=mtk10>"$0"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>new(</span><span class=mtk1>query</span><span class=mtk14>:</span><span class=mtk1> string</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> Options</span><span class=mtk14>(</span><span class=mtk1>U2.Case1 query</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk8>[&#60ParamObject</span><span class=mtk14>;</span><span class=mtk8> Emit</span><span class=mtk14>(</span><span class=mtk10>"$0"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>new(</span><span class=mtk1>query</span><span class=mtk14>:</span><span class=mtk1> Regex</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> Options</span><span class=mtk14>(</span><span class=mtk1>U2.Case2 query</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>member val</span><span class=mtk1> </span><span class=mtk5>query</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>U2</span><span class=mtk14>&lt;</span><span class=mtk4>string</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk4>Regex</span><span class=mtk14>></span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> jsNative </span><span class=mtk14>with</span><span class=mtk1> get</span><span class=mtk14>,</span><span class=mtk1> set</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>options1</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk14>new</span><span class=mtk1> Options</span><span class=mtk14>(</span><span class=mtk10>"foo"</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>options2</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk14>new</span><span class=mtk1> Options</span><span class=mtk14>(</span><span class=mtk1>Regex</span><span class=mtk14>(</span><span class=mtk10>"foo"</span><span class=mtk14>))</span></span></span></code></pre><p>The getter and setter will still use the union type, but the constructor will be nicer.<p>If you want you can use <code>[&#60Emit>]</code> to provide custom getter and setter, but we don't think it's worth it.<pre class="atom-one-light grvsc-container"data-index=58 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Emit</span><span class=mtk14>(</span><span class=mtk10>"$0.query"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>member val</span><span class=mtk1> </span><span class=mtk5>``query as string``</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>string </span><span class=mtk14>=</span><span class=mtk1> jsNative </span><span class=mtk14>with</span><span class=mtk1> get</span><span class=mtk14>,</span><span class=mtk1> set</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Emit</span><span class=mtk14>(</span><span class=mtk10>"$0.query"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>member val</span><span class=mtk1> </span><span class=mtk5>``query as Regex``</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>Regex </span><span class=mtk14>=</span><span class=mtk1> jsNative </span><span class=mtk14>with</span><span class=mtk1> get</span><span class=mtk14>,</span><span class=mtk1> set</span></span></span></code></pre><h4 id=backwards-compatibility>Backwards compatibility<a href=#backwards-compatibility aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p>One of the benefit of using <code>ParamObject</code> is that the consumer of your library can use the old way of creating POJOs.<pre class="atom-one-light grvsc-container"data-index=59 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core.JsInterop</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60AllowNullLiteral>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Global>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>Options</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk8>[&#60ParamObject</span><span class=mtk14>;</span><span class=mtk8> Emit</span><span class=mtk14>(</span><span class=mtk10>"$0"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>(</span><span class=mtk1>searchTerm</span><span class=mtk14>:</span><span class=mtk1> string</span><span class=mtk14>,</span><span class=mtk1> ?isCaseSensitive</span><span class=mtk14>:</span><span class=mtk1> bool</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>member val</span><span class=mtk1> </span><span class=mtk5>searchTerm</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>string </span><span class=mtk14>=</span><span class=mtk1> jsNative </span><span class=mtk14>with</span><span class=mtk1> get</span><span class=mtk14>,</span><span class=mtk1> set</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>member val</span><span class=mtk1> </span><span class=mtk5>isCaseSensitive</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>bool option </span><span class=mtk14>=</span><span class=mtk1> jsNative </span><span class=mtk14>with</span><span class=mtk1> get</span><span class=mtk14>,</span><span class=mtk1> set</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>jsOptions</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    jsOptions</span><span class=mtk14>&lt;</span><span class=mtk1>Options</span><span class=mtk14>>(fun</span><span class=mtk1> o </span><span class=mtk14>-></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        o.searchTerm </span><span class=mtk14>&#60-</span><span class=mtk1> </span><span class=mtk10>"test"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        o.isCaseSensitive </span><span class=mtk14>&#60-</span><span class=mtk1> Some </span><span class=mtk6>true</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>createEmpty</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> createEmpty</span><span class=mtk14>&lt;</span><span class=mtk1>Options</span><span class=mtk14>></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>createEmpty.searchTerm </span><span class=mtk14>&#60-</span><span class=mtk1> </span><span class=mtk10>"test"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>createEmpty.isCaseSensitive </span><span class=mtk14>&#60-</span><span class=mtk1> Some </span><span class=mtk6>true</span></span></span></code></pre><p>generates<pre class="atom-one-light grvsc-container"data-index=60 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>const</span><span class=mtk1> </span><span class=mtk6>jsOptions</span><span class=mtk1> </span><span class=mtk8>=</span><span class=mtk1> {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk5>searchTerm</span><span class=mtk8>:</span><span class=mtk1> </span><span class=mtk10>"test"</span><span class=mtk1>,</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk5>isCaseSensitive</span><span class=mtk8>:</span><span class=mtk1> </span><span class=mtk6>true</span><span class=mtk1>,</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>};</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>const</span><span class=mtk1> </span><span class=mtk6>createEmpty</span><span class=mtk1> </span><span class=mtk8>=</span><span class=mtk1> {};</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>createEmpty.</span><span class=mtk5>searchTerm</span><span class=mtk1> </span><span class=mtk8>=</span><span class=mtk1> </span><span class=mtk10>"test"</span><span class=mtk1>;</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>createEmpty.</span><span class=mtk5>isCaseSensitive</span><span class=mtk1> </span><span class=mtk8>=</span><span class=mtk1> </span><span class=mtk6>true</span><span class=mtk1>;</span></span></span></code></pre><h4 id=methods-with-positional-arguments-and-pojo>Methods with positional arguments and POJO<a href=#methods-with-positional-arguments-and-pojo aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p>Often in JavaScript, there are methods which accepts positional arguments and an object with more options.<p><code>ParamObject</code> accept an index argument to say where the options object start<pre class="atom-one-light grvsc-container"data-index=61 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Global>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>MyLib</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk8>[&#60Import</span><span class=mtk14>(</span><span class=mtk10>"search"</span><span class=mtk14>,</span><span class=mtk8> </span><span class=mtk10>"my-lib"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk8>[&#60ParamObject</span><span class=mtk14>(</span><span class=mtk6>1</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>static member</span><span class=mtk1> </span><span class=mtk5>search</span><span class=mtk14>(</span><span class=mtk1>term </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>string</span><span class=mtk14>,</span><span class=mtk1> isCaseSensitive </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>bool</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> jsNative</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>MyLib.search</span><span class=mtk14>(</span><span class=mtk10>"foo"</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk6>true</span><span class=mtk14>)</span></span></span></code></pre><p>generates<pre class="atom-one-light grvsc-container"data-index=62 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>import</span><span class=mtk1> { </span><span class=mtk5>search</span><span class=mtk1> } </span><span class=mtk14>from</span><span class=mtk1> </span><span class=mtk10>"my-lib"</span><span class=mtk1>;</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk9>search</span><span class=mtk1>(</span><span class=mtk10>"foo"</span><span class=mtk1>, {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk5>isCaseSensitive</span><span class=mtk8>:</span><span class=mtk1> </span><span class=mtk6>true</span><span class=mtk1>,</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>});</span></span></span></code></pre><h2 id=name-mangling>Name mangling<a href=#name-mangling aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h2><p>Because JavaScript doesn't support overloading or multiple modules in a single file, Fable needs to mangle the name of some members, functions to avoid clashes.<p>However, Fable will never changes the names of:<ul><li><p>Record fields<li><p>Interface and abstract members<li><p>Functions and values in the <strong>root module</strong><p>Fable consider the root module to be the first one containing actual code and not nested by any other module.</ul><pre class="atom-one-light grvsc-container"data-index=63 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>module</span><span class=mtk9> A.Long.Namespace.RootModule</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// The name of this function will be the same in JS</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>add</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>x</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>y</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> x </span><span class=mtk14>+</span><span class=mtk1> y</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>module</span><span class=mtk9> Nested </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class="mtki mtk7">// This will be prefixed with the name of the module in JS</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>add</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>x</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>y</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> x </span><span class=mtk14>*</span><span class=mtk1> y</span></span></span></code></pre><p>generates:<pre class="atom-one-light grvsc-container"data-index=64 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>function</span><span class=mtk1> </span><span class=mtk9>add</span><span class=mtk1>(x, y) {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>return</span><span class=mtk1> x </span><span class=mtk8>+</span><span class=mtk1> y;</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>}</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>function</span><span class=mtk1> </span><span class=mtk9>Nested_add</span><span class=mtk1>(x, y) {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>return</span><span class=mtk1> x </span><span class=mtk8>*</span><span class=mtk1> y;</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>}</span></span></span></code></pre><p>Example of name mangling for methods overloading:<pre class="atom-one-light grvsc-container"data-index=65 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>Html</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>static member</span><span class=mtk1> </span><span class=mtk5>Div</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>className </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>string</span><span class=mtk14>,</span><span class=mtk1> content </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>obj</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        failwith </span><span class=mtk10>"Not implemented"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>static member</span><span class=mtk1> </span><span class=mtk5>Div</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>className </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>string</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        failwith </span><span class=mtk10>"Not implemented"</span></span></span></code></pre><p>generates:<pre class="atom-one-light grvsc-container"data-index=66 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>class</span><span class=mtk1> </span><span class=mtk4>Html</span><span class=mtk1> {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>constructor</span><span class=mtk1>() {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    }</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>}</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Reflection code has been truncated</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>function</span><span class=mtk1> </span><span class=mtk9>Html_Div_433E080</span><span class=mtk1>(className, content) {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>throw</span><span class=mtk1> </span><span class=mtk14>new</span><span class=mtk1> </span><span class=mtk4>Error</span><span class=mtk1>(</span><span class=mtk10>"Not implemented"</span><span class=mtk1>);</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>}</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>function</span><span class=mtk1> </span><span class=mtk9>Html_Div_Z721C83C5</span><span class=mtk1>(className) {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>throw</span><span class=mtk1> </span><span class=mtk14>new</span><span class=mtk1> </span><span class=mtk4>Error</span><span class=mtk1>(</span><span class=mtk10>"Not implemented"</span><span class=mtk1>);</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>}</span></span></span></code></pre><p>Note how each method has a different name in JavaScript.<h3 id=attachmembers><code>[&#60AttachMembers>]</code><a href=#attachmembers aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>If you want to have all members attached to a class (as in standard JS classes) and not-mangled use the <code>AttachMembers</code> attribute. But be aware overloads won't work in this case.<p class="is-info is-medium tag">Added in v3.2.2<pre class="atom-one-light grvsc-container"data-index=67 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60AttachMembers>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>MinStack</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>member</span><span class=mtk1> </span><span class=mtk5>_.push</span><span class=mtk14>(</span><span class=mtk1>a</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> failwith </span><span class=mtk10>"Not implemented"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>member</span><span class=mtk1> </span><span class=mtk5>_.pop</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> failwith </span><span class=mtk10>"Not implemented"</span></span></span></code></pre><p>generates<pre class="atom-one-light grvsc-container"data-index=68 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>class</span><span class=mtk1> </span><span class=mtk4>MinStack</span><span class=mtk1> {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>constructor</span><span class=mtk1>() {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    }</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk9>push</span><span class=mtk1>(a) {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>throw</span><span class=mtk1> </span><span class=mtk14>new</span><span class=mtk1> </span><span class=mtk4>Error</span><span class=mtk1>(</span><span class=mtk10>"Not implemented"</span><span class=mtk1>);</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    }</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk9>pop</span><span class=mtk1>() {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>throw</span><span class=mtk1> </span><span class=mtk14>new</span><span class=mtk1> </span><span class=mtk4>Error</span><span class=mtk1>(</span><span class=mtk10>"Not implemented"</span><span class=mtk1>);</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    }</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>}</span></span></span></code></pre><h3 id=mangle><code>[&#60Mangle>]</code><a href=#mangle aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p class="is-info is-medium tag">Added in v3.2.0<p>If you are not planning to use an interface to interact with JS and want to have overloaded members, you can decorate the interface declaration with the <code>Mangle</code> attribute.<blockquote><p>Interfaces coming from .NET BCL (like System.Collections.IEnumerator) are mangled by default.</blockquote><p>For example, the following F# code<pre class="atom-one-light grvsc-container"data-index=69 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>IRenderer</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>abstract</span><span class=mtk1> Render </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit</span><span class=mtk1> </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>string</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>abstract</span><span class=mtk1> Render </span><span class=mtk14>:</span><span class=mtk1> indentation </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk1> </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>string</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>Renderer</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>interface</span><span class=mtk1> IRenderer </span><span class=mtk14>with</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>member</span><span class=mtk1> </span><span class=mtk5>this.Render</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            failwith </span><span class=mtk10>"Not implemented"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>member</span><span class=mtk1> </span><span class=mtk5>this.Render</span><span class=mtk14>(</span><span class=mtk1>indentation</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            failwith </span><span class=mtk10>"Not implemented"</span></span></span></code></pre><p>generates an invalid JavaScript code<pre class="atom-one-light grvsc-container"data-index=70 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>class</span><span class=mtk1> </span><span class=mtk4>Renderer</span><span class=mtk1> {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>constructor</span><span class=mtk1>() {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    }</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk9>Render</span><span class=mtk1>() {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>throw</span><span class=mtk1> </span><span class=mtk14>new</span><span class=mtk1> </span><span class=mtk4>Error</span><span class=mtk1>(</span><span class=mtk10>"Not implemented"</span><span class=mtk1>);</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    }</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk9>Render</span><span class=mtk1>(indentation) {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>throw</span><span class=mtk1> </span><span class=mtk14>new</span><span class=mtk1> </span><span class=mtk4>Error</span><span class=mtk1>(</span><span class=mtk10>"Not implemented"</span><span class=mtk1>);</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    }</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>}</span></span></span></code></pre><p>Indeed, there are 2 methods named <code>Render</code> in the same class. To fix this, you can decorate the interface with the <code>Mangle</code> attribute:<pre class="atom-one-light grvsc-container"data-index=71 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Mangle>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>IRenderer</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>abstract</span><span class=mtk1> Render </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit</span><span class=mtk1> </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>string</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>abstract</span><span class=mtk1> Render </span><span class=mtk14>:</span><span class=mtk1> indentation </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk1> </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>string</span></span></span></code></pre><p>generates<pre class="atom-one-light grvsc-container"data-index=72 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>class</span><span class=mtk1> </span><span class=mtk4>Renderer</span><span class=mtk1> {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>constructor</span><span class=mtk1>() {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    }</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk10>"Program.IRenderer.Render"</span><span class=mtk1>() {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>throw</span><span class=mtk1> </span><span class=mtk14>new</span><span class=mtk1> </span><span class=mtk4>Error</span><span class=mtk1>(</span><span class=mtk10>"Not implemented"</span><span class=mtk1>);</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    }</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk10>"Program.IRenderer.RenderZ524259A4"</span><span class=mtk1>(indentation) {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>throw</span><span class=mtk1> </span><span class=mtk14>new</span><span class=mtk1> </span><span class=mtk4>Error</span><span class=mtk1>(</span><span class=mtk10>"Not implemented"</span><span class=mtk1>);</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    }</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>}</span></span></span></code></pre><h2 id=automatic-uncurrying>Automatic uncurrying<a href=#automatic-uncurrying aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h2><p>Fable will automatically uncurry functions in many situations: when they're passed as functions, when set as a record field... So in most cases you can pass them to and from JS as if they were functions without curried arguments.<pre class="atom-one-light grvsc-container"data-index=73 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>execute</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>f</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>-></span><span class=mtk4>int</span><span class=mtk14>-></span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> x y </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    f x y</span></span></span></code></pre><pre class="atom-one-light grvsc-container"data-index=74 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>import</span><span class=mtk1> { </span><span class=mtk5>execute</span><span class=mtk1> } </span><span class=mtk14>from</span><span class=mtk1> </span><span class=mtk10>"./TestFunctions.fs.js"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>export</span><span class=mtk1> </span><span class=mtk14>function</span><span class=mtk1> </span><span class=mtk9>execute</span><span class=mtk1>(f, x, y) {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>return</span><span class=mtk1> </span><span class=mtk9>f</span><span class=mtk1>(x, y);</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>}</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>const</span><span class=mtk1> </span><span class=mtk9>add</span><span class=mtk1> </span><span class=mtk8>=</span><span class=mtk1> </span><span class=mtk14>function</span><span class=mtk1> (x, y) {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>return</span><span class=mtk1> x </span><span class=mtk8>+</span><span class=mtk1> y;</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>};</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk9>execute</span><span class=mtk1>(add, </span><span class=mtk6>3</span><span class=mtk1>, </span><span class=mtk6>5</span><span class=mtk1>) </span><span class="mtki mtk7">// 8</span></span></span></code></pre><h3 id=using-delegates-for-disambiguation>Using delegates for disambiguation<a href=#using-delegates-for-disambiguation aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>There are some situations where Fable uncurrying mechanism can get confused, particularly with functions that return other functions. Let's consider the following example:<pre class="atom-one-light grvsc-container"data-index=75 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core.JsInterop</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>myEffect</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    printfn </span><span class=mtk10>"Effect!"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>fun</span><span class=mtk1> </span><span class=mtk14>()</span><span class=mtk1> </span><span class=mtk14>-></span><span class=mtk1> printfn </span><span class=mtk10>"Cleaning up"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Method from a JS module, expects a function</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// that returns another function for disposing</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>useEffect</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>effect</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit</span><span class=mtk14>)):</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    importMember </span><span class=mtk10>"my-js-module"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Fails, Fable thinks this is a 2-arity function</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>useEffect myEffect</span></span></span></code></pre><p>The problem here is the compiler cannot tell <code>unit -> unit -> unit</code> apart from <code>unit -> (unit -> unit)</code>, it can only see a 2-arity lambda (a function accepting two arguments). This won't be an issue if all your code is in F#, but if you're sending the function to JS as in this case, Fable will incorrectly try to uncurry it causing unexpected results.<p>To disambiguate these cases, you can use <a href=https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/delegates>delegates</a>, like <code>System.Func</code> which are not curried:<pre class="atom-one-light grvsc-container"data-index=76 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>System</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Remove the ambiguity by using a delegate</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>useEffect</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>effect</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>Func</span><span class=mtk14>&lt;</span><span class=mtk6>unit</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk4> unit</span><span class=mtk14>)>):</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    importMember </span><span class=mtk10>"my-js-module"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Works</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>useEffect</span><span class=mtk14>(</span><span class=mtk1>Func</span><span class=mtk14>&#60_,_></span><span class=mtk1> myEffect</span><span class=mtk14>)</span></span></span></code></pre><h2 id=dynamic-typing-proceed-with-caution>Dynamic typing, proceed with caution<a href=#dynamic-typing-proceed-with-caution aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h2><p>Dynamic typing allows you to access an object property by name<article class="message is-danger"><div class=message-body><div><p>This feature is not type-safe and should be used with caution.<p>Adocate use case for this feature is when you are prototyping or don't have the time to write a proper type-safe interop.</div></div></article><h3 id=property-access>Property access<a href=#property-access aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><pre class="atom-one-light grvsc-container"data-index=77 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core.JsInterop</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Direct access</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>jsObject?myProperty</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Generates: jsObject.myProperty</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>pname</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk10>"myProperty"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>jsObject?</span><span class=mtk14>(</span><span class=mtk1>pname</span><span class=mtk14>)</span><span class=mtk1> </span><span class="mtki mtk7">// Access with a reference</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Generates: jsObject[pname]</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>jsObject?myProperty </span><span class=mtk14>&#60-</span><span class=mtk1> </span><span class=mtk6>5</span><span class=mtk1> </span><span class="mtki mtk7">// Assignment is also possible</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtki mtk7">// Generates: jsObject.myProperty = 5;</span></span></span></code></pre><h3 id=function-application>Function application<a href=#function-application aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>When combining <code>?</code> with application, Fable will destructure tuple arguments as with normal method calls.<pre class="atom-one-light grvsc-container"data-index=78 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core.JsInterop</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>jsObject?myMethod</span><span class=mtk14>(</span><span class=mtk6>1</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk6>2</span><span class=mtk14>)</span></span></span></code></pre><p>generates<pre class="atom-one-light grvsc-container"data-index=79 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>jsObject.</span><span class=mtk9>myMethod</span><span class=mtk1>(</span><span class=mtk6>1</span><span class=mtk1>, </span><span class=mtk6>2</span><span class=mtk1>)</span></span></span></code></pre><h3 id=method-chaining>Method chaining<a href=#method-chaining aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>You can also use <code>?</code> to chain method calls.<pre class="atom-one-light grvsc-container"data-index=80 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>chart</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    ?width</span><span class=mtk14>(</span><span class=mtk6>768.</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    ?height</span><span class=mtk14>(</span><span class=mtk6>480.</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    ?on</span><span class=mtk14>(</span><span class=mtk10>"renderlet"</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk14>fun</span><span class=mtk1> chart </span><span class=mtk14>-></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        chart?selectAll</span><span class=mtk14>(</span><span class=mtk10>"rect"</span><span class=mtk14>)</span><span class=mtk1>?on</span><span class=mtk14>(</span><span class=mtk10>"click"</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk14>fun</span><span class=mtk1> sender args </span><span class=mtk14>-></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            JS.console.log</span><span class=mtk14>(</span><span class=mtk10>"click!"</span><span class=mtk14>,</span><span class=mtk1> args</span><span class=mtk14>)))</span></span></span></code></pre><p>generates<pre class="atom-one-light grvsc-container"data-index=81 data-language=js><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>chart</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    .</span><span class=mtk9>width</span><span class=mtk1>(</span><span class=mtk6>768.</span><span class=mtk1>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    .</span><span class=mtk9>height</span><span class=mtk1>(</span><span class=mtk6>480.</span><span class=mtk1>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    .</span><span class=mtk9>on</span><span class=mtk1>(</span><span class=mtk10>"renderlet"</span><span class=mtk1>, </span><span class=mtk14>function</span><span class=mtk1> (chart_1) {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        chart_1</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            .</span><span class=mtk9>selectAll</span><span class=mtk1>(</span><span class=mtk10>"rect"</span><span class=mtk1>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            .</span><span class=mtk9>on</span><span class=mtk1>(</span><span class=mtk10>"click"</span><span class=mtk1>, </span><span class=mtk14>function</span><span class=mtk1> (sender, args) {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                </span><span class=mtk4>console</span><span class=mtk1>.</span><span class=mtk8>log</span><span class=mtk1>(</span><span class=mtk10>"click!"</span><span class=mtk1>, args);</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            });</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    });</span></span></span></code></pre><h2 id=dynamic-casting>Dynamic casting<a href=#dynamic-casting aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h2><p>In some situations, when receiving an untyped object from JS you may want to cast it to a specific type. For this you can use the F# <code>unbox</code> function or the !! operator in Fable.Core.JsInterop. This will bypass the F# type checker but please note <strong>Fable will not add any runtime check to verify the cast is correct</strong>.</div></div></section><div class="section bd-docs-pagination bd-pagination-links"><a class="button bd-fat-button is-primary is-light bd-pagination-prev" href="/docs/javascript/build-and-run.html"><i>â</i><span class="is-hidden-mobile"><em>JavaScript</em><strong>Build and Run</strong></span></a><a class="button bd-fat-button is-primary is-light bd-pagination-next" href="/docs/javascript/compatibility.html"><span class="is-hidden-mobile"><em>JavaScript</em><strong>.NET and F# compatibility</strong></span><i>â</i></a></div></div></div></div></div><script async="" src="/resources/nacara-standard-layouts/scripts/menu.js"></script></body></html>