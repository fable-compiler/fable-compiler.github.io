<html class="has-navbar-fixed-top" lang="en"><head><title>Fable Â· Features</title><meta http-equiv="content-type" content="text/html; charset=UTF-8" charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" type="text/css" href="/style.css"/><script src="https://unpkg.com/scroll-into-view-if-needed@2.2.28/umd/scroll-into-view-if-needed.min.js"></script></head><body><nav class="navbar is-fixed-top is-spaced"><div class="container"><div class="navbar-brand"><a class="navbar-item title is-4" href="https://fable.io/">Fable</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-active" href="/docs">Documentation</a><a class="navbar-item is-hidden-mobile" href="/packages/">Packages</a><a class="navbar-item is-hidden-mobile" href="/repl/">Try</a><a class="navbar-item" href="/blog/index.html">Blog</a><a class="navbar-item is-hidden-mobile" href="/community.html">Community</a><a class="navbar-item is-hidden-mobile" href="/resources.html">Resources</a><div class="navbar-item navbar-burger-dots is-hidden-tablet"><svg height="4" stroke="none" viewBox="0 0 22 4" width="22"><circle cx="2" cy="2" r="2"></circle><circle cx="2" cy="2" r="2" transform="translate(9,0)"></circle><circle cx="2" cy="2" r="2" transform="translate(18,0)"></circle></svg></div></div><div class="navbar-end is-hidden-mobile"><a class="navbar-item" href="https://github.com/fable-compiler/fable"><span class="icon"><i class=" fab fa-github fa-lg"></i></span></a><a class="navbar-item" href="https://twitter.com/FableCompiler"><span class="icon"><i class=" fab fa-twitter fa-lg"></i></span></a><a class="navbar-item" href="https://gitter.im/fable-compiler/Fable"><span class="icon"><i class=" fab fa-gitter fa-lg"></i></span></a><a class="navbar-item" href="https://www.youtube.com/channel/UC6m70Jyr65ogDySbK7aMmzg/videos"><span class="icon"><i class=" fab fa-youtube fa-lg"></i></span></a></div></div><div class="nacara-navbar-menu"><a class="nacara-navbar-menu-item" href="/packages/">Packages</a><a class="nacara-navbar-menu-item" href="/repl/">Try</a><a class="nacara-navbar-menu-item" href="/community.html">Community</a><a class="nacara-navbar-menu-item" href="/resources.html">Resources</a><a class="nacara-navbar-menu-item" href="https://github.com/fable-compiler/fable">Github</a><a class="nacara-navbar-menu-item" href="https://twitter.com/FableCompiler">Twitter</a><a class="nacara-navbar-menu-item" href="https://gitter.im/fable-compiler/Fable">Gitter</a><a class="nacara-navbar-menu-item" href="https://www.youtube.com/channel/UC6m70Jyr65ogDySbK7aMmzg/videos">Youtube</a></div></div></nav><div class="grey-overlay"></div><div class="nacara-content"><div class="container"><div class="mobile-menu"><nav class="breadcrumb"><ul><li><a class="menu-trigger"><span></span><span></span><span></span></a></li><li class="is-active"><a>Documentation</a></li><li class="is-active"><a>Python</a></li><li class="is-active"><a>Features</a></li></ul></nav></div><div class="columns is-gapless is-mobile"><div class="column is-menu-column is-3-desktop is-hidden-touch"><div class="menu-container"><aside class="menu"><p class="menu-label">Introduction</p><ul class="menu-list"><li><a class=" " href="/docs/index.html">What is Fable?</a></li><li><a class=" " href="/docs/introduction/dotnet-users-read-this.html">Are you a .NET developer?</a></li><li><a class=" " href="/docs/introduction/js-users-read-this.html">Are you a JS developer?</a></li></ul><p class="menu-label">Getting started</p><ul class="menu-list"><li><a class=" " href="/docs/getting-started/setup.html">Setup</a></li><li><a class=" " href="/docs/getting-started/your-first-fable-project.html">Start a new project</a></li><li><a class=" " href="/docs/getting-started/javascript.html">JavaScript</a></li><li><a class=" " href="/docs/getting-started/typescript.html">TypeScript</a></li><li><a class=" " href="/docs/getting-started/python.html">Python</a></li><li><a class=" " href="/docs/getting-started/rust.html">Rust</a></li><li><a class=" " href="/docs/getting-started/cli.html">Fable CLI</a></li></ul><p class="menu-label">Your Fable project</p><ul class="menu-list"><li><a class=" " href="/docs/your-fable-project/use-a-fable-library.html">Use a Fable library</a></li><li><a class=" " href="/docs/your-fable-project/author-a-fable-library.html">Author a Fable package</a></li></ul><p class="menu-label">New to F#?</p><ul class="menu-list"><li><a class=" " href="/docs/new-to-fsharp/learning-the-language.html">Learning the language</a></li><li><a class=" " href="/docs/new-to-fsharp/let-keyword.html">The let keyword</a></li><li><a class=" " href="/docs/new-to-fsharp/project-file.html">The project file</a></li></ul><p class="menu-label">JavaScript</p><ul class="menu-list"><li><a class=" " href="/docs/javascript/build-and-run.html">Build and Run</a></li><li><a class=" " href="/docs/javascript/features.html">Features</a></li><li><a class=" " href="/docs/javascript/compatibility.html">.NET and F# compatibility</a></li></ul><p class="menu-label">TypeScript</p><ul class="menu-list"><li><a class=" " href="/docs/typescript/build-and-run.html">Build and Run</a></li><li><a class=" " href="/docs/typescript/features.html">Features</a></li><li><a class=" " href="/docs/typescript/compatibility.html">.NET and F# compatibility</a></li></ul><p class="menu-label">Python</p><ul class="menu-list"><li><a class=" " href="/docs/python/build-and-run.html">Build and Run</a></li><li><a class=" is-active" href="/docs/python/features.html">Features</a></li><li><ul class="table-of-content"><li data-toc-rank="2"><a href="#utilities" data-toc-element="true">Utilities</a></li><li data-toc-rank="3"><a href="#automatic-case-conversion" data-toc-element="true">Automatic case conversion</a></li><li data-toc-rank="3"><a href="#nativeonly" data-toc-element="true"><code>nativeOnly</code></a></li><li data-toc-rank="2"><a href="#imports" data-toc-element="true">Imports</a></li><li data-toc-rank="3"><a href="#attributes" data-toc-element="true">Attributes</a></li><li data-toc-rank="4"><a href="#global" data-toc-element="true"><code>[&#60Global>]</code></a></li><li data-toc-rank="4"><a href="#import" data-toc-element="true"><code>[&#60Import(...)>]</code></a></li><li data-toc-rank="4"><a href="#importall" data-toc-element="true"><code>[&#60ImportAll(...)>]</code></a></li><li data-toc-rank="4"><a href="#importmember" data-toc-element="true"><code>[&#60ImportMember(...)>]</code></a></li><li data-toc-rank="3"><a href="#functions" data-toc-element="true">Functions</a></li><li data-toc-rank="4"><a href="#import-1" data-toc-element="true"><code>import</code></a></li><li data-toc-rank="4"><a href="#importmember-1" data-toc-element="true"><code>importMember</code></a></li><li data-toc-rank="2"><a href="#emit-when-f-is-not-enough" data-toc-element="true">Emit, when F# is not enough</a></li><li data-toc-rank="3"><a href="#emit" data-toc-element="true"><code>[&#60Emit("...")>]</code></a></li><li data-toc-rank="3"><a href="#emitexpr" data-toc-element="true"><code>emitExpr</code></a></li><li data-toc-rank="3"><a href="#emitstatement" data-toc-element="true"><code>emitStatement</code></a></li><li data-toc-rank="3"><a href="#emitexpr-vs-emitstatement" data-toc-element="true"><code>emitExpr</code> vs <code>emitStatement</code></a></li><li data-toc-rank="2"><a href="#erase" data-toc-element="true"><code>[&#60Erase>]</code></a></li><li data-toc-rank="3"><a href="#erased-unions" data-toc-element="true">Erased unions</a></li><li data-toc-rank="4"><a href="#u2-u3--u9" data-toc-element="true"><code>U2</code>, <code>U3</code>, ..., <code>U9</code></a></li><li data-toc-rank="3"><a href="#erased-types" data-toc-element="true">Erased types</a></li><li data-toc-rank="2"><a href="#stringenum" data-toc-element="true"><code>[&#60StringEnum>]</code></a></li><li data-toc-rank="3"><a href="#caserules" data-toc-element="true"><code>CaseRules</code></a></li><li data-toc-rank="3"><a href="#compiledname" data-toc-element="true"><code>[&#60CompiledName>]</code></a></li><li data-toc-rank="2"><a href="#literal-python-object" data-toc-element="true">Literal Python object</a></li><li data-toc-rank="3"><a href="#anonymous-records" data-toc-element="true">Anonymous records</a></li><li data-toc-rank="3"><a href="#createobj" data-toc-element="true"><code>createObj</code></a></li><li data-toc-rank="2"><a href="#name-mangling" data-toc-element="true">Name mangling</a></li><li data-toc-rank="3"><a href="#attachmembers" data-toc-element="true"><code>[&#60AttachMembers>]</code></a></li><li data-toc-rank="3"><a href="#mangle" data-toc-element="true"><code>[&#60Mangle>]</code></a></li><li data-toc-rank="2"><a href="#automatic-uncurrying" data-toc-element="true">Automatic uncurrying</a></li><li data-toc-rank="3"><a href="#using-delegates-for-disambiguation" data-toc-element="true">Using delegates for disambiguation</a></li><li data-toc-rank="2"><a href="#dynamic-typing-proceed-with-caution" data-toc-element="true">Dynamic typing, proceed with caution</a></li><li data-toc-rank="3"><a href="#property-access" data-toc-element="true">Property access</a></li><li data-toc-rank="3"><a href="#function-application" data-toc-element="true">Function application</a></li><li data-toc-rank="3"><a href="#method-chaining" data-toc-element="true">Method chaining</a></li><li data-toc-rank="2"><a href="#dynamic-casting" data-toc-element="true">Dynamic casting</a></li></ul></li><li><a class=" " href="/docs/python/compatibility.html">.NET and F# compatibility</a></li></ul><p class="menu-label">Miscellaneous</p><ul class="menu-list"><li><a class=" " href="/docs/miscellaneous/official-samples.html">Check official samples</a></li><li><a class=" " href="/docs/miscellaneous/fable-in-videos.html">Fable in videos</a></li></ul></aside></div></div><div class="column is-9-desktop is-full-touch"><section class="section"><div class="content"><header class="page-header"><div class="columns is-vcentered"><div class="column"><nav class="breadcrumb is-category-navigation is-hidden-touch"><ul><li class="is-active"><a>Documentation</a></li><li class="is-active"><a>Python</a></li><li class="is-active"><a>Features</a></li></ul></nav></div><div class="column is-narrow"><a class="button is-hidden-touch is-ghost" target="_blank" href="https://github.com/fable-compiler/fable-compiler.github.io/edit/dev/docs/docs/python/features.md">Edit</a></div></div><h1 class="title is-1">Features</h1></header><div><style class=grvsc-styles>.grvsc-container{overflow:auto;position:relative;-webkit-overflow-scrolling:touch;padding-top:1rem;padding-top:var(--grvsc-padding-top,var(--grvsc-padding-v,1rem));padding-bottom:1rem;padding-bottom:var(--grvsc-padding-bottom,var(--grvsc-padding-v,1rem));border-radius:8px;border-radius:var(--grvsc-border-radius,8px);font-feature-settings:normal;line-height:1.4}.grvsc-code{display:table}.grvsc-line{display:table-row;box-sizing:border-box;width:100%;position:relative}.grvsc-line>*{position:relative}.grvsc-gutter-pad{display:table-cell;padding-left:.75rem;padding-left:calc(var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem))/ 2)}.grvsc-gutter{display:table-cell;-webkit-user-select:none;-moz-user-select:none;user-select:none}.grvsc-gutter::before{content:attr(data-content)}.grvsc-source{display:table-cell;padding-left:1.5rem;padding-left:var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem));padding-right:1.5rem;padding-right:var(--grvsc-padding-right,var(--grvsc-padding-h,1.5rem))}.grvsc-source:empty::after{content:' ';-webkit-user-select:none;-moz-user-select:none;user-select:none}.grvsc-gutter+.grvsc-source{padding-left:.75rem;padding-left:calc(var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem))/ 2)}.grvsc-has-line-highlighting>.grvsc-code>.grvsc-line::before{content:' ';position:absolute;width:100%}.grvsc-line-diff-add::before{background-color:var(--grvsc-line-diff-add-background-color,rgba(0,255,60,.2))}.grvsc-line-diff-del::before{background-color:var(--grvsc-line-diff-del-background-color,rgba(255,0,20,.2))}.grvsc-line-number{padding:0 2px;text-align:right;opacity:.7}.atom-one-light{background-color:#fafafa;color:#383a42}.atom-one-light .mtki{font-style:italic}.atom-one-light .mtk14{color:#a626a4}.atom-one-light .mtk1{color:#383a42}.atom-one-light .mtk5{color:#e45649}.atom-one-light .mtk9{color:#4078f2}.atom-one-light .mtk6{color:#986801}.atom-one-light .mtk8{color:#0184bc}.atom-one-light .mtk7{color:#a0a1a7}.atom-one-light .mtk4{color:#c18401}.atom-one-light .mtk10{color:#50a14f}.atom-one-light .mtk11{color:#000}.atom-one-light .grvsc-line-highlighted::before{background-color:var(--grvsc-line-highlighted-background-color,rgba(0,0,0,.05));box-shadow:inset var(--grvsc-line-highlighted-border-width,4px) 0 0 0 var(--grvsc-line-highlighted-border-color,rgba(0,0,0,.2))}</style><p>In this section, we will cover specific features of Fable that are used when interacting with Python.<article class="message is-warning"><div class=message-body><div><p>Python target is in beta meaning that breaking changes can happen between minor versions.</div></div></article><h2 id=utilities>Utilities<a href=#utilities aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h2><h3 id=automatic-case-conversion>Automatic case conversion<a href=#automatic-case-conversion aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>When targetting Python, Fable will automatically convert F# camelCase names to Python snake_case names.<pre class="atom-one-light grvsc-container"data-index=0 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>addTwoNumber</span><span class=mtk1> x y </span><span class=mtk14>=</span><span class=mtk1> </span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    x </span><span class=mtk14>+</span><span class=mtk1> y</span></span></span></code></pre><p>generates:<pre class="atom-one-light grvsc-container"data-index=1 data-language=py><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>add_two_number</span><span class=mtk1>(</span><span class=mtk6>x</span><span class=mtk1>:</span><span class=mtk6> </span><span class=mtk8>int</span><span class=mtk1>,</span><span class=mtk6> y</span><span class=mtk1>:</span><span class=mtk6> </span><span class=mtk8>int</span><span class=mtk1>) -> </span><span class=mtk8>int</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>return</span><span class=mtk1> x + y</span></span></span></code></pre><h3 id=nativeonly><code>nativeOnly</code><a href=#nativeonly aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p><code>nativeOnly</code> provide a dummy implementation that we use when writing bindings.<p>Here is its definition:<pre class="atom-one-light grvsc-container"data-index=2 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class="mtk7 mtki">/// Alias of nativeOnly</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let inline</span><span class=mtk1> </span><span class=mtk5>nativeOnly</span><span class=mtk14>&lt;</span><span class=mtk4>'T</span><span class=mtk14>></span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>'T </span><span class=mtk14>=</span><span class=mtk1> </span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        failwith </span><span class=mtk10>"You've hit dummy code used for Fable bindings. This probably means you're compiling Fable code to .NET by mistake, please check."</span></span></span></code></pre><p>The thrown exception should never be seen as <code>nativeOnly</code> calls should be replaced by actual Python code calls.<p>Examples:<p>If you have this <code>hello.py</code> file:<pre class="atom-one-light grvsc-container"data-index=3 data-language=py><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>say_hello</span><span class=mtk1>():</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk8>print</span><span class=mtk1>(</span><span class=mtk10>"Hello world"</span><span class=mtk1>)</span></span></span></code></pre><p>And this F# code:<pre class="atom-one-light grvsc-container"data-index=4 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Import</span><span class=mtk14>(</span><span class=mtk10>"say_hello"</span><span class=mtk14>,</span><span class=mtk8> </span><span class=mtk10>"hello"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>sayHello</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> nativeOnly</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>sayHello</span><span class=mtk6>()</span></span></span></code></pre><p>Then the generated code will be:<pre class="atom-one-light grvsc-container"data-index=5 data-language=py><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>from</span><span class=mtk1> hello </span><span class=mtk14>import</span><span class=mtk1> say_hello</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>say_hello()</span></span></span></code></pre><h2 id=imports>Imports<a href=#imports aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h2><p>In Python, the <code>import</code> declaration is used to import codes that are exported by another module.<p>Fable provides different ways to import Python code, to cover different scenarios.<p>There are 2 families of imports:<ul><li>Attribute-based imports<li>Function-based imports</ul><p>They archieve the same goal, but with a slightly generated code.<pre class="atom-one-light grvsc-container"data-index=6 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Import</span><span class=mtk14>(</span><span class=mtk10>"sayHello"</span><span class=mtk14>,</span><span class=mtk8> </span><span class=mtk10>"hello"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>sayHello</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> nativeOnly</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// ----</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>sayHello</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> import </span><span class=mtk10>"say_hello"</span><span class=mtk1> </span><span class=mtk10>"hello"</span></span></span></code></pre><p>generates:<pre class="atom-one-light grvsc-container"data-index=7 data-language=py><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>from</span><span class=mtk1> hello </span><span class=mtk14>import</span><span class=mtk1> say_hello</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>say_hello()</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>// ----</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>from</span><span class=mtk1> hello </span><span class=mtk14>import</span><span class=mtk1> say_hello </span><span class=mtk14>as</span><span class=mtk1> say_hello_1</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>from</span><span class=mtk1> typing </span><span class=mtk14>import</span><span class=mtk1> Callable</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>say_hello: Callable[[], </span><span class=mtk6>None</span><span class=mtk1>] = say_hello_1</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>say_hello()</span></span></span></code></pre><p>Using the attribute-based imports is recommanded as it generates a smaller output.<h3 id=attributes>Attributes<a href=#attributes aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><h4 id=global><code>[&#60Global>]</code><a href=#global aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p>When trying to bind a global variable, you can use the <code>[&#60Global>]</code> attribute.<pre class="atom-one-light grvsc-container"data-index=8 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Global>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>print</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>s </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>obj</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> nativeOnly</span></span></span></code></pre><p>If you want to use a different in you F# code, you can use the <code>name</code> parameter:<pre class="atom-one-light grvsc-container"data-index=9 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Global</span><span class=mtk14>(</span><span class=mtk10>"print"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>log</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>s </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>obj</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> nativeOnly</span></span></span></code></pre><h4 id=import><code>[&#60Import(...)>]</code><a href=#import aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p>This attributes takes two parameters:<ul><li><code>selector</code>: the import selector, can be <code>*</code>, or a name<li><code>from</code>: the path to the Python file / module</ul><pre class="atom-one-light grvsc-container"data-index=10 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Import</span><span class=mtk14>(</span><span class=mtk10>"say_hello"</span><span class=mtk14>,</span><span class=mtk8> </span><span class=mtk10>"./hello.py"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>hello</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> nativeOnly</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// Generates: from hello import say_hello</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Import</span><span class=mtk14>(</span><span class=mtk10>"*"</span><span class=mtk14>,</span><span class=mtk8> </span><span class=mtk10>"hello"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>hello</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> nativeOnly</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// Generates: import hello</span></span></span></code></pre><h4 id=importall><code>[&#60ImportAll(...)>]</code><a href=#importall aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p><code>ImportAll</code> is used to import all members from a Python module and use the F# value name as the name of the imported module.<pre class="atom-one-light grvsc-container"data-index=11 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60ImportAll</span><span class=mtk14>(</span><span class=mtk10>"hello"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>hello</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> nativeOnly</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// Generates: import hello</span></span></span></code></pre><article class="message is-info"><div class=message-body><div><p>We are currently checking if this is the correct behavior.<p>See <a href=https://github.com/fable-compiler/Fable/issues/3481>this issue</a> for more info.</div></div></article><h4 id=importmember><code>[&#60ImportMember(...)>]</code><a href=#importmember aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p><code>ImportMember</code> is used to import a specific member from a Python module, the name is based on the name of the F# value.<pre class="atom-one-light grvsc-container"data-index=12 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60ImportMember</span><span class=mtk14>(</span><span class=mtk10>"hello"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>sayHello</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> nativeOnly</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// Generates: from hello import say_hello</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60ImportMember</span><span class=mtk14>(</span><span class=mtk10>"hello"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>say_hello</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> nativeOnly</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// Generates: from hello import say_hello</span></span></span></code></pre><p>For the first example, remember that Fable will convert the F# name to snake_case.<h3 id=functions>Functions<a href=#functions aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><h4 id=import-1><code>import</code><a href=#import-1 aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p>This function takes two parameters:<ul><li><code>selector</code>: the import selector, can be <code>*</code>, <code>default</code> or a name<li><code>from</code>: the path to the JavaScript file / module</ul><pre class="atom-one-light grvsc-container"data-index=13 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>hi</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> import </span><span class=mtk10>"say_hello"</span><span class=mtk1> </span><span class=mtk10>"hello"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>hi</span><span class=mtk6>()</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// Generates: </span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// from typing import Callable</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// from hello import say_hello as say_hello_1</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// say_hello: Callable[[], None] = say_hello_1</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// say_hello()</span></span></span></code></pre><h4 id=importmember-1><code>importMember</code><a href=#importmember-1 aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p><code>importMember</code> is used to import a specific member from a JavaScript module, the name is based on the name of the F# value.<pre class="atom-one-light grvsc-container"data-index=14 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>say_hello</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> importMember </span><span class=mtk10>"hello"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// Generates:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// from typing import Callable</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// from hello import say_hello as say_hello_1</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// say_hello: Callable[[], None] = say_hello_1</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>sayHello</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> importMember </span><span class=mtk10>"hello"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// Generates:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// from typing import Callable</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// from hello import say_hello as say_hello_1</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// say_hello: Callable[[], None] = say_hello_1</span></span></span></code></pre><h2 id=emit-when-f-is-not-enough>Emit, when F# is not enough<a href=#emit-when-f-is-not-enough aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h2><p>Emit is a features offered by Fable, that allows you to write Python code directly in F#.<article class="message is-danger"><div class=message-body><div><p>Content of emit snippet, is not validated by F# compiler, so you should use this feature sparingly.</div></div></article><p>Main use cases:<ul><li>You want to test something quickly<li>You just need a few lines of Python code and don't want to create a <code>.py</code> file<li>You don't want to create a binding API to use a Python library</ul><p>When using <code>emit</code>, you can use placeholders like <code>$0</code>, <code>$1</code>, <code>$2</code>, ... to reference the arguments.<h3 id=emit><code>[&#60Emit("...")>]</code><a href=#emit aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>You can use the <code>Emit</code> attribute to decorate function, methods,<pre class="atom-one-light grvsc-container"data-index=15 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Emit</span><span class=mtk14>(</span><span class=mtk10>"$0 + $1"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>add</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>x</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>y</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>):</span><span class=mtk1> </span><span class=mtk4>int </span><span class=mtk14>=</span><span class=mtk1> nativeOnly</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>result</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> add </span><span class=mtk6>1</span><span class=mtk1> </span><span class=mtk6>2</span></span></span></code></pre><p>generates:<pre class="atom-one-light grvsc-container"data-index=16 data-language=py><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>result: </span><span class=mtk8>int</span><span class=mtk1> = </span><span class=mtk6>1</span><span class=mtk1> + </span><span class=mtk6>2</span></span></span></code></pre><p>When using classes, <code>$0</code> can be used to reference the current instance on methods.<pre class="atom-one-light grvsc-container"data-index=17 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>System</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>Test</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk8>[&#60Emit</span><span class=mtk14>(</span><span class=mtk10>"$0.Function($1...)"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>member</span><span class=mtk1> </span><span class=mtk5>__.Invoke</span><span class=mtk14>(</span><span class=mtk8>[&#60ParamArray>]</span><span class=mtk1> args</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>[]):</span><span class=mtk1> </span><span class=mtk4>obj </span><span class=mtk14>=</span><span class=mtk1> nativeOnly</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>testInstance</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> Test</span><span class=mtk6>()</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>testInstance.Invoke</span><span class=mtk14>(</span><span class=mtk6>1</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk6>2</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk6>3</span><span class=mtk14>)</span></span></span></code></pre><p>generates:<pre class="atom-one-light grvsc-container"data-index=18 data-language=py><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>class</span><span class=mtk4> Test</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk8>__init__</span><span class=mtk1>(</span><span class=mtk6>self</span><span class=mtk1>,</span><span class=mtk6> __unit</span><span class=mtk1>:</span><span class=mtk6> None</span><span class=mtk1>=</span><span class=mtk6>None</span><span class=mtk1>) -> </span><span class=mtk6>None</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>pass</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>Test__ctor</span><span class=mtk1>(</span><span class=mtk6>__unit</span><span class=mtk1>:</span><span class=mtk6> None</span><span class=mtk1>=</span><span class=mtk6>None</span><span class=mtk1>) -> Test:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>return</span><span class=mtk1> Test(__unit)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>test_instance: Test = Test__ctor()</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>test_instance.Function(</span><span class=mtk6>1</span><span class=mtk1>, </span><span class=mtk6>2</span><span class=mtk1>, </span><span class=mtk6>3</span><span class=mtk1>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki"># Note how $0 is replaced by testInstance</span></span></span></code></pre><h3 id=emitexpr><code>emitExpr</code><a href=#emitexpr aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>Destructure a tuple of arguments and applies to literal Python code as with <code>EmitAttribute</code>.<blockquote><p>Expressions are values or execute to values, they can be assigned or used as operands</blockquote><pre class="atom-one-light grvsc-container"data-index=19 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core.PyInterop</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>two</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    emitExpr </span><span class=mtk14>(</span><span class=mtk6>1</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk6>1</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk10>"$0 + $1"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>emitExpr </span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk10>"""print("Hello World")"""</span></span></span></code></pre><p>generates:<pre class="atom-one-light grvsc-container"data-index=20 data-language=py><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>two: </span><span class=mtk8>int</span><span class=mtk1> = </span><span class=mtk6>1</span><span class=mtk1> + </span><span class=mtk6>1</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>print</span><span class=mtk1>(</span><span class=mtk10>"Hello World"</span><span class=mtk1>)</span></span></span></code></pre><h3 id=emitstatement><code>emitStatement</code><a href=#emitstatement aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>Deconstruct a tuple of arguments and generate a Python statement.<blockquote><p>Statements are the whole structure, while expressions are the building blocks. For example, a line or a block of code is a statement.</blockquote><pre class="atom-one-light grvsc-container"data-index=21 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core.PyInterop</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>add</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>a </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>b </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int </span><span class=mtk14>=</span><span class=mtk1> </span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    emitStatement </span><span class=mtk14>(</span><span class=mtk1>a</span><span class=mtk14>,</span><span class=mtk1> b</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk10>"return $0 + $1;"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>repeatHello</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>count </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    emitStatement </span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        count</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk10>"""cond = count;</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>    while cond > 0:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        print("Hello from Fable!")</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>        cond = cond - 1</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>    """</span></span></span></code></pre><p>generates<pre class="atom-one-light grvsc-container"data-index=22 data-language=py><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>add</span><span class=mtk1>(</span><span class=mtk6>a</span><span class=mtk1>:</span><span class=mtk6> </span><span class=mtk8>int</span><span class=mtk1>,</span><span class=mtk6> b</span><span class=mtk1>:</span><span class=mtk6> </span><span class=mtk8>int</span><span class=mtk1>) -> </span><span class=mtk8>int</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>return</span><span class=mtk1> a + b</span><span class=mtk11>;</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>repeat_hello</span><span class=mtk1>(</span><span class=mtk6>count</span><span class=mtk1>:</span><span class=mtk6> </span><span class=mtk8>int</span><span class=mtk1>) -> </span><span class=mtk6>None</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    cond = count</span><span class=mtk11>;</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>while</span><span class=mtk1> cond > </span><span class=mtk6>0</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk8>print</span><span class=mtk1>(</span><span class=mtk10>"Hello from Fable!"</span><span class=mtk1>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        cond = cond - </span><span class=mtk6>1</span></span></span></code></pre><h3 id=emitexpr-vs-emitstatement><code>emitExpr</code> vs <code>emitStatement</code><a href=#emitexpr-vs-emitstatement aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><pre class="atom-one-light grvsc-container"data-index=23 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>add1</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>a </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>b </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    emitExpr </span><span class=mtk14>(</span><span class=mtk1>a</span><span class=mtk14>,</span><span class=mtk1> b</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk10>"$0 + $1"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>add2</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>a </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>b </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    emitStatement </span><span class=mtk14>(</span><span class=mtk1>a</span><span class=mtk14>,</span><span class=mtk1> b</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk10>"$0 + $1"</span></span></span></code></pre><p>generates:<pre class="atom-one-light grvsc-container"data-index=24 data-language=py><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>from</span><span class=mtk1> typing </span><span class=mtk14>import</span><span class=mtk1> Any</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>add1</span><span class=mtk1>(</span><span class=mtk6>a</span><span class=mtk1>:</span><span class=mtk6> </span><span class=mtk8>int</span><span class=mtk1>,</span><span class=mtk6> b</span><span class=mtk1>:</span><span class=mtk6> </span><span class=mtk8>int</span><span class=mtk1>) -> Any:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>return</span><span class=mtk1> a + b</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>add2</span><span class=mtk1>(</span><span class=mtk6>a</span><span class=mtk1>:</span><span class=mtk6> </span><span class=mtk8>int</span><span class=mtk1>,</span><span class=mtk6> b</span><span class=mtk1>:</span><span class=mtk6> </span><span class=mtk8>int</span><span class=mtk1>) -> Any:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    a + b</span></span></span></code></pre><p>Note how <code>return</code> has been added to <code>add1</code> and not to <code>add2</code>. In this situation if you use <code>emitStatement</code>, you need to write <code>return $0 + $1"</code><h2 id=erase><code>[&#60Erase>]</code><a href=#erase aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h2><h3 id=erased-unions>Erased unions<a href=#erased-unions aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>You can decode a type with <code>[&#60Erase>]</code> to tells fable to not emit code for that type.<p>This is useful for creating DSL for examples or when trying to represent a virtual type for which you don't want to impact the size of the generated code.<pre class="atom-one-light grvsc-container"data-index=25 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Erase>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>ValueType</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>|</span><span class=mtk1> Number </span><span class=mtk14>of</span><span class=mtk1> </span><span class=mtk4>int</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>|</span><span class=mtk1> String </span><span class=mtk14>of</span><span class=mtk1> </span><span class=mtk4>string</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>|</span><span class=mtk1> Object </span><span class=mtk14>of</span><span class=mtk1> </span><span class=mtk4>obj</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Global>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>prettyPrint</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>value </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>ValueType</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> nativeOnly</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>prettyPrint </span><span class=mtk14>(</span><span class=mtk1>Number </span><span class=mtk6>1</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>prettyPrint </span><span class=mtk14>(</span><span class=mtk1>String </span><span class=mtk10>"Hello"</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>prettyPrint </span><span class=mtk14>(</span><span class=mtk1>Object </span><span class=mtk14>{|</span><span class=mtk1> Name </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk10>"Fable"</span><span class=mtk1> </span><span class=mtk14>|})</span></span></span></code></pre><p>generates:<pre class="atom-one-light grvsc-container"data-index=26 data-language=py><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>prettyPrint(</span><span class=mtk6>1</span><span class=mtk1>)</span><span class=mtk11>;</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>prettyPrint(</span><span class=mtk10>"Hello"</span><span class=mtk1>)</span><span class=mtk11>;</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>prettyPrint({</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    Name: </span><span class=mtk10>"Fable"</span><span class=mtk1>,</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>})</span><span class=mtk11>;</span></span></span></code></pre><p>Note how Fable replaced the union union type with the underlying type.<h4 id=u2-u3--u9><code>U2</code>, <code>U3</code>, ..., <code>U9</code><a href=#u2-u3--u9 aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p>Fable provides already erased union types, from <code>U2</code> to <code>U9</code> than you can use without having to define custom erased union each time.<pre class="atom-one-light grvsc-container"data-index=27 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60ImportMember</span><span class=mtk14>(</span><span class=mtk10>"util"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>myFunction</span><span class=mtk14>(</span><span class=mtk1>arg</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>U2</span><span class=mtk14>&lt;</span><span class=mtk4>string</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>>):</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span><span class=mtk1> nativeOnly</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>myFunction</span><span class=mtk14>(</span><span class=mtk1>U2.Case1 </span><span class=mtk10>"testValue"</span><span class=mtk14>)</span></span></span></code></pre><p>When passing arguments to a method accepting U2, U3... you can use the !^ as syntax sugar so you don't need to type the exact case (the argument will still be type checked):<pre class="atom-one-light grvsc-container"data-index=28 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core.PyInterop</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>myFunction </span><span class=mtk14>!^</span><span class=mtk6>5</span><span class=mtk1> </span><span class="mtk7 mtki">// Equivalent to: my_function(U2.Case2 5)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// This doesn't compile, my_function doesn't accept floats</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>myFunction </span><span class=mtk14>!^</span><span class=mtk6>2.3</span></span></span></code></pre><article class="message is-info"><div class=message-body><div><p>Please note erased unions are mainly intended for typing the signature of imported Python functions and not as a cheap replacement of <code>Choice</code>. It's possible to do pattern matching against an erased union type but this will be compiled as type testing, and since <strong>type testing is very weak in Fable</strong>, this is only recommended if the generic arguments of the erased union are types that can be easily told apart in the Python runtime (like a string, a number and an array).</div></div></article><pre class="atom-one-light grvsc-container"data-index=29 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>test</span><span class=mtk14>(</span><span class=mtk1>arg</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>U3</span><span class=mtk14>&lt;</span><span class=mtk4>string</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk4>float</span><span class=mtk14>[]>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>match</span><span class=mtk1> arg </span><span class=mtk14>with</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>|</span><span class=mtk1> U3.Case1 x </span><span class=mtk14>-></span><span class=mtk1> printfn </span><span class=mtk10>"A string </span><span class=mtk14>%s</span><span class=mtk10>"</span><span class=mtk1> x</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>|</span><span class=mtk1> U3.Case2 x </span><span class=mtk14>-></span><span class=mtk1> printfn </span><span class=mtk10>"An int </span><span class=mtk14>%i</span><span class=mtk10>"</span><span class=mtk1> x</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>|</span><span class=mtk1> U3.Case3 xs </span><span class=mtk14>-></span><span class=mtk1> Array.sum xs </span><span class=mtk14>|></span><span class=mtk1> printfn </span><span class=mtk10>"An array with sum </span><span class=mtk14>%f</span><span class=mtk10>"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// In Python roughly translated as:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// def test(arg: Any) -> None:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">//     if str(type(arg)) == "&#60class \'int\'>":</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">//         to_console(printf("An int %i"))(arg)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">//     elif is_array_like(arg):</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">//         to_console(printf("An array with sum %f"))(arg)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">//     else: </span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">//         to_console(printf("A string %s"))(arg)</span></span></span></code></pre><h3 id=erased-types>Erased types<a href=#erased-types aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>Decoring a type with <code>[&#60Erase>]</code> allows you to instruct Fable to not generate any code for that type. This is useful when you want to use a type from a Python library that you don't want to generate bindings for.<pre class="atom-one-light grvsc-container"data-index=30 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>Component</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>interface</span><span class=mtk1> </span><span class=mtk14>end</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>User</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk8>[&#60Import</span><span class=mtk14>(</span><span class=mtk10>"Avatar"</span><span class=mtk14>,</span><span class=mtk8> </span><span class=mtk10>"user"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>static member inline</span><span class=mtk1> </span><span class=mtk5>Avatar</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>userId </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>string</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>Component </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        nativeOnly</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>x</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> User.Avatar </span><span class=mtk10>"123"</span></span></span></code></pre><p>generates:<pre class="atom-one-light grvsc-container"data-index=31 data-language=py><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>from</span><span class=mtk1> user </span><span class=mtk14>import</span><span class=mtk1> Avatar</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>from</span><span class=mtk1> fable_modules.fable_library.reflection </span><span class=mtk14>import</span><span class=mtk1> (TypeInfo, class_type)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>class</span><span class=mtk4> Component(Protocol)</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>pass</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>_expr25</span><span class=mtk1>() -> TypeInfo:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>return</span><span class=mtk1> class_type(</span><span class=mtk10>"Program.User"</span><span class=mtk1>, </span><span class=mtk6>None</span><span class=mtk1>, User)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>class</span><span class=mtk4> User</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk8>__init__</span><span class=mtk1>(</span><span class=mtk6>self</span><span class=mtk1>,</span><span class=mtk6> __unit</span><span class=mtk1>:</span><span class=mtk6> None</span><span class=mtk1>=</span><span class=mtk6>None</span><span class=mtk1>) -> </span><span class=mtk6>None</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>pass</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>User_reflection = _expr25</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>User__ctor</span><span class=mtk1>(</span><span class=mtk6>__unit</span><span class=mtk1>:</span><span class=mtk6> None</span><span class=mtk1>=</span><span class=mtk6>None</span><span class=mtk1>) -> User:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>return</span><span class=mtk1> User(__unit)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>x: Component = Avatar(</span><span class=mtk10>"123"</span><span class=mtk1>)</span></span></span></code></pre><p>As you can see, there are some reflection information generated for the type <code>User</code>. However, if you decorate the type with <code>[&#60Erase>]</code>:<pre class="atom-one-light grvsc-container"data-index=32 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>Component</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>interface</span><span class=mtk1> </span><span class=mtk14>end</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Erase>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>User</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk8>[&#60Import</span><span class=mtk14>(</span><span class=mtk10>"Avatar"</span><span class=mtk14>,</span><span class=mtk8> </span><span class=mtk10>"user"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>static member inline</span><span class=mtk1> </span><span class=mtk5>Avatar</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>userId </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>string</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>Component </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        nativeOnly</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>x</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> User.Avatar </span><span class=mtk10>"123"</span></span></span></code></pre><p>generates:<pre class="atom-one-light grvsc-container"data-index=33 data-language=py><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>from</span><span class=mtk1> </span><span class=mtk5>__future__</span><span class=mtk1> </span><span class=mtk14>import</span><span class=mtk1> annotations</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>from</span><span class=mtk1> typing </span><span class=mtk14>import</span><span class=mtk1> Protocol</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>from</span><span class=mtk1> user </span><span class=mtk14>import</span><span class=mtk1> Avatar</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>class</span><span class=mtk4> Component(Protocol)</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>pass</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>x: Component = Avatar(</span><span class=mtk10>"123"</span><span class=mtk1>)</span></span></span></code></pre><p>The generated code is much smaller and doesn't include any reflection information. This trick is useful when you want to minimize the size of your bundle.<h2 id=stringenum><code>[&#60StringEnum>]</code><a href=#stringenum aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h2><article class="message is-info"><div class=message-body><div><p>These union types must not have any data fields as they will be compiled to a string matching the name of the union case.</div></div></article><pre class="atom-one-light grvsc-container"data-index=34 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60StringEnum>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>EventType</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>|</span><span class=mtk1> Click</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>|</span><span class=mtk1> MouseOver</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60ImportMember</span><span class=mtk14>(</span><span class=mtk10>"event"</span><span class=mtk14>)</span><span class=mtk8>>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>onEvent</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>event </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>EventType</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>callback </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    nativeOnly</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>onEvent Click ignore</span></span></span></code></pre><p>generates<pre class="atom-one-light grvsc-container"data-index=35 data-language=py><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>from</span><span class=mtk1> event </span><span class=mtk14>import</span><span class=mtk1> on_event</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>from</span><span class=mtk1> fable_modules.fable_library.util </span><span class=mtk14>import</span><span class=mtk1> ignore</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>on_event(</span><span class=mtk10>"click"</span><span class=mtk1>, ignore)</span></span></span></code></pre><h3 id=caserules><code>CaseRules</code><a href=#caserules aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p><code>StringEnum</code> accept a parameters allowing you to control the casing used to conver the union case name to a string.<ul><li><code>CaseRules.None</code>: <code>MouseOver</code> becomes <code>MouseOver</code><li><code>CaseRules.LowerFirst</code>: <code>MouseOver</code> becomes <code>mouseOver</code><li><code>CaseRules.SnakeCase</code>: <code>MouseOver</code> becomes <code>mouse_over</code><li><code>CaseRules.SnakeCaseAllCaps</code>: <code>MouseOver</code> becomes <code>MOUSE-OVER</code><li><code>CaseRules.KebabCase</code>: <code>MouseOver</code> becomes <code>mouse-over</code></ul><p>The default is <code>CaseRules.LowerFirst</code>.<h3 id=compiledname><code>[&#60CompiledName>]</code><a href=#compiledname aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>You can also use <code>[&#60CompiledName>]</code> to specify the name of the union case in the generated python code.<pre class="atom-one-light grvsc-container"data-index=36 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60StringEnum>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>EventType</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>|</span><span class=mtk1> </span><span class=mtk8>[&#60CompiledName</span><span class=mtk14>(</span><span class=mtk10>"Abracadabra"</span><span class=mtk14>)</span><span class=mtk8>>]</span><span class=mtk1> MouveOver</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>eventType</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> EventType.MouveOver</span></span></span></code></pre><p>generates<pre class="atom-one-light grvsc-container"data-index=37 data-language=py><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>event_type: </span><span class=mtk8>str</span><span class=mtk1> = </span><span class=mtk10>"Abracadabra"</span></span></span></code></pre><h2 id=literal-python-object>Literal Python object<a href=#literal-python-object aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h2><h3 id=anonymous-records>Anonymous records<a href=#anonymous-records aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>Fable translates anonymous records to dict, making them perfect one of the simplest ways to work with.<pre class="atom-one-light grvsc-container"data-index=38 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>user</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>{|</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        Name </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk10>"Kaladin"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        Age </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk6>20</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>|}</span></span></span></code></pre><h3 id=createobj><code>createObj</code><a href=#createobj aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>Create a literal Python object from a collection of key-value tuples.<pre class="atom-one-light grvsc-container"data-index=39 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core.PyInterop</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>user</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    createObj </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk10>"Name"</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk10>"Kaladin"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk10>"Age"</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk6>20</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>]</span></span></span></code></pre><p>generates<pre class="atom-one-light grvsc-container"data-index=40 data-language=py><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>from</span><span class=mtk1> typing </span><span class=mtk14>import</span><span class=mtk1> Any</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>from</span><span class=mtk1> fable_modules.fable_library.list </span><span class=mtk14>import</span><span class=mtk1> of_array</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>from</span><span class=mtk1> fable_modules.fable_library.util </span><span class=mtk14>import</span><span class=mtk1> create_obj</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>user: Any = create_obj(of_array([(</span><span class=mtk10>"Name"</span><span class=mtk1>, </span><span class=mtk10>"Kaladin"</span><span class=mtk1>), (</span><span class=mtk10>"Age"</span><span class=mtk1>, </span><span class=mtk6>20</span><span class=mtk1>)]))</span></span></span></code></pre><p>Printing <code>user</code> returns:<p><code>{'Name': 'Kaladin', 'Age': 20}</code><p>You can also use the special <code>==></code> operator to create the tuples.<pre class="atom-one-light grvsc-container"data-index=41 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core.PyInterop</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>user</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    createObj </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk10>"Name"</span><span class=mtk1> </span><span class=mtk14>==></span><span class=mtk1> </span><span class=mtk10>"Kaladin"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk10>"Age"</span><span class=mtk1> </span><span class=mtk14>==></span><span class=mtk1> </span><span class=mtk6>20</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>]</span></span></span></code></pre><h2 id=name-mangling>Name mangling<a href=#name-mangling aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h2><p>Because Python doesn't support overloading or multiple modules in a single file, Fable needs to mangle the name of some members, functions to avoid clashes.<p>However, Fable will never changes the names of:<ul><li><p>Record fields<li><p>Interface and abstract members<li><p>Functions and values in the <strong>root module</strong><p>Fable consider the root module to be the first one containing actual code and not nested by any other module.</ul><pre class="atom-one-light grvsc-container"data-index=42 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>module</span><span class=mtk9> A.Long.Namespace.RootModule</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// The name of this function will be the same in Python</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>add</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>x</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>y</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> x </span><span class=mtk14>+</span><span class=mtk1> y</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>module</span><span class=mtk9> Nested </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class="mtk7 mtki">// This will be prefixed with the name of the module in Python</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>add</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>x</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>y</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> x </span><span class=mtk14>*</span><span class=mtk1> y</span></span></span></code></pre><p>generates:<pre class="atom-one-light grvsc-container"data-index=43 data-language=py><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>add</span><span class=mtk1>(</span><span class=mtk6>x</span><span class=mtk1>:</span><span class=mtk6> </span><span class=mtk8>int</span><span class=mtk1>,</span><span class=mtk6> y</span><span class=mtk1>:</span><span class=mtk6> </span><span class=mtk8>int</span><span class=mtk1>) -> </span><span class=mtk8>int</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>return</span><span class=mtk1> x + y</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>Nested_add</span><span class=mtk1>(</span><span class=mtk6>x</span><span class=mtk1>:</span><span class=mtk6> </span><span class=mtk8>int</span><span class=mtk1>,</span><span class=mtk6> y</span><span class=mtk1>:</span><span class=mtk6> </span><span class=mtk8>int</span><span class=mtk1>) -> </span><span class=mtk8>int</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>return</span><span class=mtk1> x * y</span></span></span></code></pre><p>Example of name mangling for methods overloading:<pre class="atom-one-light grvsc-container"data-index=44 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>Html</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>static member</span><span class=mtk1> </span><span class=mtk5>Div</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>className </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>string</span><span class=mtk14>,</span><span class=mtk1> content </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>obj</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        failwith </span><span class=mtk10>"Not implemented"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>static member</span><span class=mtk1> </span><span class=mtk5>Div</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>className </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>string</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        failwith </span><span class=mtk10>"Not implemented"</span></span></span></code></pre><p>generates:<pre class="atom-one-light grvsc-container"data-index=45 data-language=py><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>class</span><span class=mtk4> Html</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk8>__init__</span><span class=mtk1>(</span><span class=mtk6>self</span><span class=mtk1>,</span><span class=mtk6> __unit</span><span class=mtk1>:</span><span class=mtk6> None</span><span class=mtk1>=</span><span class=mtk6>None</span><span class=mtk1>) -> </span><span class=mtk6>None</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>pass</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>// Reflection code has been truncated</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>Html__ctor</span><span class=mtk1>(</span><span class=mtk6>__unit</span><span class=mtk1>:</span><span class=mtk6> None</span><span class=mtk1>=</span><span class=mtk6>None</span><span class=mtk1>) -> Html:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>return</span><span class=mtk1> Html(__unit)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>Html_Div_433E080</span><span class=mtk1>(</span><span class=mtk6>class_name</span><span class=mtk1>:</span><span class=mtk6> </span><span class=mtk8>str</span><span class=mtk1>,</span><span class=mtk6> content</span><span class=mtk1>:</span><span class=mtk6> Any</span><span class=mtk1>=</span><span class=mtk6>None</span><span class=mtk1>) -> Any:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>raise</span><span class=mtk1> </span><span class=mtk8>Exception</span><span class=mtk1>(</span><span class=mtk10>"Not implemented"</span><span class=mtk1>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>Html_Div_Z721C83C5</span><span class=mtk1>(</span><span class=mtk6>class_name</span><span class=mtk1>:</span><span class=mtk6> </span><span class=mtk8>str</span><span class=mtk1>) -> Any:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>raise</span><span class=mtk1> </span><span class=mtk8>Exception</span><span class=mtk1>(</span><span class=mtk10>"Not implemented"</span><span class=mtk1>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span></code></pre><p>Note how each method has a different name in Python.<h3 id=attachmembers><code>[&#60AttachMembers>]</code><a href=#attachmembers aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>If you want to have all members attached to a class (as in standard Python classes) and not-mangled use the <code>AttachMembers</code> attribute. But be aware overloads won't work in this case.<p class="is-info is-medium tag">Added in v3.2.2<pre class="atom-one-light grvsc-container"data-index=46 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60AttachMembers>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>MinStack</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>member</span><span class=mtk1> </span><span class=mtk5>_.push</span><span class=mtk14>(</span><span class=mtk1>a</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> failwith </span><span class=mtk10>"Not implemented"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>member</span><span class=mtk1> </span><span class=mtk5>_.pop</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> failwith </span><span class=mtk10>"Not implemented"</span></span></span></code></pre><p>generates<pre class="atom-one-light grvsc-container"data-index=47 data-language=py><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>class</span><span class=mtk4> MinStack</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk8>__init__</span><span class=mtk1>(</span><span class=mtk6>self</span><span class=mtk1>,</span><span class=mtk6> __unit</span><span class=mtk1>:</span><span class=mtk6> None</span><span class=mtk1>=</span><span class=mtk6>None</span><span class=mtk1>) -> </span><span class=mtk6>None</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>pass</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>push</span><span class=mtk1>(</span><span class=mtk6>self</span><span class=mtk1>,</span><span class=mtk6> a</span><span class=mtk1>:</span><span class=mtk6> Optional[Any]</span><span class=mtk1>=</span><span class=mtk6>None</span><span class=mtk1>) -> Any:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>raise</span><span class=mtk1> </span><span class=mtk8>Exception</span><span class=mtk1>(</span><span class=mtk10>"Not implemented"</span><span class=mtk1>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>pop</span><span class=mtk1>(</span><span class=mtk6>self</span><span class=mtk1>,</span><span class=mtk6> __unit</span><span class=mtk1>:</span><span class=mtk6> None</span><span class=mtk1>=</span><span class=mtk6>None</span><span class=mtk1>) -> Any:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>raise</span><span class=mtk1> </span><span class=mtk8>Exception</span><span class=mtk1>(</span><span class=mtk10>"Not implemented"</span><span class=mtk1>)</span></span></span></code></pre><h3 id=mangle><code>[&#60Mangle>]</code><a href=#mangle aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p class="is-info is-medium tag">Added in v3.2.0<p>If you are not planning to use an interface to interact with Python and want to have overloaded members, you can decorate the interface declaration with the <code>Mangle</code> attribute.<blockquote><p>Interfaces coming from .NET BCL (like System.Collections.IEnumerator) are mangled by default.</blockquote><p>For example, the following F# code<pre class="atom-one-light grvsc-container"data-index=48 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>IRenderer</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>abstract</span><span class=mtk1> Render </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit</span><span class=mtk1> </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>string</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>abstract</span><span class=mtk1> Render </span><span class=mtk14>:</span><span class=mtk1> indentation </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk1> </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>string</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>Renderer</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>interface</span><span class=mtk1> IRenderer </span><span class=mtk14>with</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>member</span><span class=mtk1> </span><span class=mtk5>this.Render</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            failwith </span><span class=mtk10>"Not implemented"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>member</span><span class=mtk1> </span><span class=mtk5>this.Render</span><span class=mtk14>(</span><span class=mtk1>indentation</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            failwith </span><span class=mtk10>"Not implemented"</span></span></span></code></pre><p>generates an invalid JavaScript code<pre class="atom-one-light grvsc-container"data-index=49 data-language=py><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>class</span><span class=mtk4> Renderer</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk8>__init__</span><span class=mtk1>(</span><span class=mtk6>self</span><span class=mtk1>,</span><span class=mtk6> __unit</span><span class=mtk1>:</span><span class=mtk6> None</span><span class=mtk1>=</span><span class=mtk6>None</span><span class=mtk1>) -> </span><span class=mtk6>None</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>pass</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>Render</span><span class=mtk1>(</span><span class=mtk6>self</span><span class=mtk1>,</span><span class=mtk6> __unit</span><span class=mtk1>:</span><span class=mtk6> None</span><span class=mtk1>=</span><span class=mtk6>None</span><span class=mtk1>) -> </span><span class=mtk8>str</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>raise</span><span class=mtk1> </span><span class=mtk8>Exception</span><span class=mtk1>(</span><span class=mtk10>"Not implemented"</span><span class=mtk1>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>Render</span><span class=mtk1>(</span><span class=mtk6>self</span><span class=mtk1>,</span><span class=mtk6> indentation</span><span class=mtk1>:</span><span class=mtk6> </span><span class=mtk8>int</span><span class=mtk1>) -> </span><span class=mtk8>str</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>raise</span><span class=mtk1> </span><span class=mtk8>Exception</span><span class=mtk1>(</span><span class=mtk10>"Not implemented"</span><span class=mtk1>)</span></span></span></code></pre><p>Indeed, there are 2 methods named <code>Render</code> in the same class. To fix this, you can decorate the interface with the <code>Mangle</code> attribute:<pre class="atom-one-light grvsc-container"data-index=50 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk8>[&#60Mangle>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>type</span><span class=mtk1> </span><span class=mtk4>IRenderer</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>abstract</span><span class=mtk1> Render </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit</span><span class=mtk1> </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>string</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>abstract</span><span class=mtk1> Render </span><span class=mtk14>:</span><span class=mtk1> indentation </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk1> </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>string</span></span></span></code></pre><p>generates<pre class="atom-one-light grvsc-container"data-index=51 data-language=py><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>class</span><span class=mtk4> Renderer</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk8>__init__</span><span class=mtk1>(</span><span class=mtk6>self</span><span class=mtk1>,</span><span class=mtk6> __unit</span><span class=mtk1>:</span><span class=mtk6> None</span><span class=mtk1>=</span><span class=mtk6>None</span><span class=mtk1>) -> </span><span class=mtk6>None</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>pass</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>Program_IRenderer_Render</span><span class=mtk1>(</span><span class=mtk6>self</span><span class=mtk1>,</span><span class=mtk6> __unit</span><span class=mtk1>:</span><span class=mtk6> None</span><span class=mtk1>=</span><span class=mtk6>None</span><span class=mtk1>) -> </span><span class=mtk8>str</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>raise</span><span class=mtk1> </span><span class=mtk8>Exception</span><span class=mtk1>(</span><span class=mtk10>"Not implemented"</span><span class=mtk1>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>Program_IRenderer_RenderZ524259A4</span><span class=mtk1>(</span><span class=mtk6>self</span><span class=mtk1>,</span><span class=mtk6> indentation</span><span class=mtk1>:</span><span class=mtk6> </span><span class=mtk8>int</span><span class=mtk1>) -> </span><span class=mtk8>str</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>raise</span><span class=mtk1> </span><span class=mtk8>Exception</span><span class=mtk1>(</span><span class=mtk10>"Not implemented"</span><span class=mtk1>)</span></span></span></code></pre><h2 id=automatic-uncurrying>Automatic uncurrying<a href=#automatic-uncurrying aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h2><p>Fable will automatically uncurry functions in many situations: when they're passed as functions, when set as a record field... So in most cases you can pass them to and from python as if they were functions without curried arguments.<pre class="atom-one-light grvsc-container"data-index=52 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>execute</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>f</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>int</span><span class=mtk14>-></span><span class=mtk4>int</span><span class=mtk14>-></span><span class=mtk4>int</span><span class=mtk14>)</span><span class=mtk1> x y </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    f x y</span></span></span></code></pre><pre class="atom-one-light grvsc-container"data-index=53 data-language=py><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>import</span><span class=mtk1> program</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>add</span><span class=mtk1>(</span><span class=mtk6>x</span><span class=mtk1>,</span><span class=mtk6> y</span><span class=mtk1>):</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>return</span><span class=mtk1> x + y</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>test = program.execute(add, </span><span class=mtk6>1</span><span class=mtk1>, </span><span class=mtk6>2</span><span class=mtk1>) // </span><span class=mtk6>3</span></span></span></code></pre><h3 id=using-delegates-for-disambiguation>Using delegates for disambiguation<a href=#using-delegates-for-disambiguation aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>There are some situations where Fable uncurrying mechanism can get confused, particularly with functions that return other functions. Let's consider the following example:<pre class="atom-one-light grvsc-container"data-index=54 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core.PyInterop</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>myEffect</span><span class=mtk6>()</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    printfn </span><span class=mtk10>"Effect!"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>fun</span><span class=mtk1> </span><span class=mtk14>()</span><span class=mtk1> </span><span class=mtk14>-></span><span class=mtk1> printfn </span><span class=mtk10>"Cleaning up"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// Method from a Python module, expects a function</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// that returns another function for disposing</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>useEffect</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>effect</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk1> </span><span class=mtk4>unit</span><span class=mtk14>)):</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    importMember </span><span class=mtk10>"my-py-module"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// Fails, Fable thinks this is a 2-arity function</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>useEffect myEffect</span></span></span></code></pre><p>The problem here is the compiler cannot tell <code>unit -> unit -> unit</code> apart from <code>unit -> (unit -> unit)</code>, it can only see a 2-arity lambda (a function accepting two arguments). This won't be an issue if all your code is in F#, but if you're sending the function to Python as in this case, Fable will incorrectly try to uncurry it causing unexpected results.<p>To disambiguate these cases, you can use <a href=https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/delegates>delegates</a>, like <code>System.Func</code> which are not curried:<pre class="atom-one-light grvsc-container"data-index=55 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>System</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// Remove the ambiguity by using a delegate</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>useEffect</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>effect</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>Func</span><span class=mtk14>&lt;</span><span class=mtk6>unit</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk4>unit </span><span class=mtk14>-></span><span class=mtk4> unit</span><span class=mtk14>)>):</span><span class=mtk1> </span><span class=mtk4>unit </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    importMember </span><span class=mtk10>"my-py-module"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// Works</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>useEffect</span><span class=mtk14>(</span><span class=mtk1>Func</span><span class=mtk14>&#60_,_></span><span class=mtk1> myEffect</span><span class=mtk14>)</span></span></span></code></pre><h2 id=dynamic-typing-proceed-with-caution>Dynamic typing, proceed with caution<a href=#dynamic-typing-proceed-with-caution aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h2><p>Dynamic typing allows you to access an object property by name<article class="message is-danger"><div class=message-body><div><p>This feature is not type-safe and should be used with caution.<p>Adocate use case for this feature is when you are prototyping or don't have the time to write a proper type-safe interop.</div></div></article><h3 id=property-access>Property access<a href=#property-access aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><pre class="atom-one-light grvsc-container"data-index=56 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core.PyInterop</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// Direct access</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>pyObject?myProperty</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// Generates: pyObject?myProperty</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>pname</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk10>"myProperty"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>pyObject?</span><span class=mtk14>(</span><span class=mtk1>pname</span><span class=mtk14>)</span><span class=mtk1> </span><span class="mtk7 mtki">// Access with a reference</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// Generates: pyObject[pname]</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>pyObject?myProperty </span><span class=mtk14>&#60-</span><span class=mtk1> </span><span class=mtk6>5</span><span class=mtk1> </span><span class="mtk7 mtki">// Assignment is also possible</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// Generates: pyObject.myProperty = 5;</span></span></span></code></pre><h3 id=function-application>Function application<a href=#function-application aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>When combining <code>?</code> with application, Fable will destructure tuple arguments as with normal method calls.<pre class="atom-one-light grvsc-container"data-index=57 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Fable.Core.PyInterop</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>pyObject?myMethod</span><span class=mtk14>(</span><span class=mtk6>1</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk6>2</span><span class=mtk14>)</span></span></span></code></pre><p>generates<pre class="atom-one-light grvsc-container"data-index=58 data-language=py><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>pyObject.myMethod(</span><span class=mtk6>1</span><span class=mtk1>, </span><span class=mtk6>2</span><span class=mtk1>)</span></span></span></code></pre><h3 id=method-chaining>Method chaining<a href=#method-chaining aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>You can also use <code>?</code> to chain method calls.<pre class="atom-one-light grvsc-container"data-index=59 data-language=fs><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>chart</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    ?width</span><span class=mtk14>(</span><span class=mtk6>768.</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    ?height</span><span class=mtk14>(</span><span class=mtk6>480.</span><span class=mtk14>)</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    ?on</span><span class=mtk14>(</span><span class=mtk10>"renderlet"</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk14>fun</span><span class=mtk1> chart </span><span class=mtk14>-></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        chart?selectAll</span><span class=mtk14>(</span><span class=mtk10>"rect"</span><span class=mtk14>)</span><span class=mtk1>?on</span><span class=mtk14>(</span><span class=mtk10>"click"</span><span class=mtk14>,</span><span class=mtk1> </span><span class=mtk14>fun</span><span class=mtk1> sender args </span><span class=mtk14>-></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            printfn </span><span class=mtk10>"click: </span><span class=mtk14>%A</span><span class=mtk10>"</span><span class=mtk14>,</span><span class=mtk1> args</span><span class=mtk14>))</span></span></span></code></pre><p>generates<pre class="atom-one-light grvsc-container"data-index=60 data-language=py><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>_arrow55</span><span class=mtk1>(</span><span class=mtk6>chart_1</span><span class=mtk1>:</span><span class=mtk6> Any</span><span class=mtk1>=</span><span class=mtk6>None</span><span class=mtk1>) -> Any:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>_arrow54</span><span class=mtk1>(</span><span class=mtk6>sender</span><span class=mtk1>:</span><span class=mtk6> Any</span><span class=mtk1>=</span><span class=mtk6>None</span><span class=mtk1>,</span><span class=mtk6> args</span><span class=mtk1>:</span><span class=mtk6> Any</span><span class=mtk1>=</span><span class=mtk6>None</span><span class=mtk1>) -> Tuple[Callable[[Any], </span><span class=mtk6>None</span><span class=mtk1>], Any]:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>_arrow53</span><span class=mtk1>(</span><span class=mtk6>__unit</span><span class=mtk1>:</span><span class=mtk6> None</span><span class=mtk1>=</span><span class=mtk6>None</span><span class=mtk1>) -> Callable[[Any], </span><span class=mtk6>None</span><span class=mtk1>]:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            clo: Callable[[Any], </span><span class=mtk6>None</span><span class=mtk1>] = to_console(printf(</span><span class=mtk10>"click: %A"</span><span class=mtk1>))</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            </span><span class=mtk14>def</span><span class=mtk1> </span><span class=mtk9>_arrow52</span><span class=mtk1>(</span><span class=mtk6>arg</span><span class=mtk1>:</span><span class=mtk6> Any</span><span class=mtk1>=</span><span class=mtk6>None</span><span class=mtk1>) -> </span><span class=mtk6>None</span><span class=mtk1>:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                clo(arg)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            </span><span class=mtk14>return</span><span class=mtk1> _arrow52</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>return</span><span class=mtk1> (_arrow53(), args)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>return</span><span class=mtk1> chart_1.selectAll(</span><span class=mtk10>"rect"</span><span class=mtk1>).on(</span><span class=mtk10>"click"</span><span class=mtk1>, _arrow54)</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>chart.width(</span><span class=mtk6>768.0</span><span class=mtk1>).height(</span><span class=mtk6>480.0</span><span class=mtk1>).on(</span><span class=mtk10>"renderlet"</span><span class=mtk1>, _arrow55)</span></span></span></code></pre><h2 id=dynamic-casting>Dynamic casting<a href=#dynamic-casting aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h2><p>In some situations, when receiving an untyped object from Python you may want to cast it to a specific type. For this you can use the F# <code>unbox</code> function or the !! operator in Fable.Core.PyInterop. This will bypass the F# type checker but please note <strong>Fable will not add any runtime check to verify the cast is correct</strong>.</div></div></section><div class="section bd-docs-pagination bd-pagination-links"><a class="button bd-fat-button is-primary is-light bd-pagination-prev" href="/docs/python/build-and-run.html"><i>â</i><span class="is-hidden-mobile"><em>Python</em><strong>Build and Run</strong></span></a><a class="button bd-fat-button is-primary is-light bd-pagination-next" href="/docs/python/compatibility.html"><span class="is-hidden-mobile"><em>Python</em><strong>.NET and F# compatibility</strong></span><i>â</i></a></div></div></div></div></div><script async="" src="/resources/nacara-standard-layouts/scripts/menu.js"></script></body></html>