<html class="has-navbar-fixed-top" lang="en"><head><title>Fable · .NET and F# compatibility</title><meta http-equiv="content-type" content="text/html; charset=UTF-8" charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" type="text/css" href="/style.css"/><script src="https://unpkg.com/scroll-into-view-if-needed@2.2.28/umd/scroll-into-view-if-needed.min.js"></script></head><body><nav class="navbar is-fixed-top is-spaced"><div class="container"><div class="navbar-brand"><a class="navbar-item title is-4" href="https://fable.io/">Fable</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-active" href="/docs">Documentation</a><a class="navbar-item is-hidden-mobile" href="/repl/">Try</a><a class="navbar-item" href="/blog/index.html">Blog</a><a class="navbar-item is-hidden-mobile" href="/community.html">Community</a><a class="navbar-item is-hidden-mobile" href="/resources.html">Resources</a><div class="navbar-item navbar-burger-dots is-hidden-tablet"><svg height="4" stroke="none" viewBox="0 0 22 4" width="22"><circle cx="2" cy="2" r="2"></circle><circle cx="2" cy="2" r="2" transform="translate(9,0)"></circle><circle cx="2" cy="2" r="2" transform="translate(18,0)"></circle></svg></div></div><div class="navbar-end is-hidden-mobile"><a class="navbar-item" href="https://github.com/fable-compiler/fable"><span class="icon"><i class=" fab fa-github fa-lg"></i></span></a><a class="navbar-item" href="https://twitter.com/FableCompiler"><span class="icon"><i class=" fab fa-twitter fa-lg"></i></span></a><a class="navbar-item" href="https://gitter.im/fable-compiler/Fable"><span class="icon"><i class=" fab fa-gitter fa-lg"></i></span></a><a class="navbar-item" href="https://www.youtube.com/channel/UC6m70Jyr65ogDySbK7aMmzg/videos"><span class="icon"><i class=" fab fa-youtube fa-lg"></i></span></a></div></div><div class="nacara-navbar-menu"><a class="nacara-navbar-menu-item" href="/repl/">Try</a><a class="nacara-navbar-menu-item" href="/community.html">Community</a><a class="nacara-navbar-menu-item" href="/resources.html">Resources</a><a class="nacara-navbar-menu-item" href="https://github.com/fable-compiler/fable">Github</a><a class="nacara-navbar-menu-item" href="https://twitter.com/FableCompiler">Twitter</a><a class="nacara-navbar-menu-item" href="https://gitter.im/fable-compiler/Fable">Gitter</a><a class="nacara-navbar-menu-item" href="https://www.youtube.com/channel/UC6m70Jyr65ogDySbK7aMmzg/videos">Youtube</a></div></div></nav><div class="grey-overlay"></div><div class="nacara-content"><div class="container"><div class="mobile-menu"><nav class="breadcrumb"><ul><li><a class="menu-trigger"><span></span><span></span><span></span></a></li><li class="is-active"><a>Documentation</a></li><li class="is-active"><a>From .NET to Fable</a></li><li class="is-active"><a>.NET and F# compatibility</a></li></ul></nav></div><div class="columns is-gapless is-mobile"><div class="column is-menu-column is-3-desktop is-hidden-touch"><div class="menu-container"><aside class="menu"><p class="menu-label">Introduction</p><ul class="menu-list"><li><a class=" " href="/docs/index.html">What is Fable?</a></li><li><a class=" " href="/docs/introduction/dotnet-users-read-this.html">Are you a .NET developer?</a></li><li><a class=" " href="/docs/introduction/js-users-read-this.html">Are you a JS developer?</a></li></ul><p class="menu-label">New to F#?</p><ul class="menu-list"><li><a class=" " href="/docs/new-to-fsharp/learning-the-language.html">Learning the language</a></li><li><a class=" " href="/docs/new-to-fsharp/let-keyword.html">The let keyword</a></li></ul><p class="menu-label">Fable in 2 steps</p><ul class="menu-list"><li><a class=" " href="/docs/2-steps/setup.html">Setup</a></li><li><a class=" " href="/docs/2-steps/your-first-fable-project.html">Start a new project</a></li></ul><p class="menu-label">Your Fable project</p><ul class="menu-list"><li><a class=" " href="/docs/your-fable-project/project-file.html">The project file</a></li><li><a class=" " href="/docs/your-fable-project/use-a-fable-library.html">Use a Fable library</a></li><li><a class=" " href="/docs/your-fable-project/author-a-fable-library.html">Author a Fable library</a></li><li><a class=" " href="/docs/your-fable-project/build-and-run.html">Build &amp; run</a></li><li><a class=" " href="/docs/your-fable-project/testing.html">Testing</a></li></ul><p class="menu-label">Communicate with Javascript</p><ul class="menu-list"><li><a class=" " href="/docs/communicate/js-from-fable.html">Call JS from Fable</a></li><li><a class=" " href="/docs/communicate/fable-from-js.html">Call Fable from JavaScript</a></li></ul><p class="menu-label">From .NET to Fable</p><ul class="menu-list"><li><a class=" is-active" href="/docs/dotnet/compatibility.html">.NET and F# compatibility</a></li><li><a class=" " href="/docs/dotnet/numbers.html">Numeric types</a></li></ul><p class="menu-label">Miscellaneous</p><ul class="menu-list"><li><a class=" " href="/docs/miscellaneous/official-samples.html">Check official samples</a></li><li><a class=" " href="/docs/miscellaneous/fable-in-videos.html">Fable in videos</a></li></ul></aside></div></div><div class="column is-8-desktop is-full-touch"><section class="section"><div class="content"><header class="page-header"><div class="columns is-vcentered"><div class="column"><nav class="breadcrumb is-category-navigation is-hidden-touch"><ul><li class="is-active"><a>Documentation</a></li><li class="is-active"><a>From .NET to Fable</a></li><li class="is-active"><a>.NET and F# compatibility</a></li></ul></nav></div><div class="column is-narrow"><a class="button is-hidden-touch is-ghost" target="_blank" href="https://github.com/fable-compiler/fable-compiler.github.io/edit/dev/docs/docs/dotnet/compatibility.md">Edit</a></div></div><h1 class="title is-1">.NET and F# compatibility</h1></header><div><style class=grvsc-styles>.grvsc-container{overflow:auto;position:relative;-webkit-overflow-scrolling:touch;padding-top:1rem;padding-top:var(--grvsc-padding-top,var(--grvsc-padding-v,1rem));padding-bottom:1rem;padding-bottom:var(--grvsc-padding-bottom,var(--grvsc-padding-v,1rem));border-radius:8px;border-radius:var(--grvsc-border-radius,8px);font-feature-settings:normal;line-height:1.4}.grvsc-code{display:table}.grvsc-line{display:table-row;box-sizing:border-box;width:100%;position:relative}.grvsc-line>*{position:relative}.grvsc-gutter-pad{display:table-cell;padding-left:.75rem;padding-left:calc(var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem))/ 2)}.grvsc-gutter{display:table-cell;-webkit-user-select:none;-moz-user-select:none;user-select:none}.grvsc-gutter::before{content:attr(data-content)}.grvsc-source{display:table-cell;padding-left:1.5rem;padding-left:var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem));padding-right:1.5rem;padding-right:var(--grvsc-padding-right,var(--grvsc-padding-h,1.5rem))}.grvsc-source:empty::after{content:' ';-webkit-user-select:none;-moz-user-select:none;user-select:none}.grvsc-gutter+.grvsc-source{padding-left:.75rem;padding-left:calc(var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem))/ 2)}.grvsc-has-line-highlighting>.grvsc-code>.grvsc-line::before{content:' ';position:absolute;width:100%}.grvsc-line-diff-add::before{background-color:var(--grvsc-line-diff-add-background-color,rgba(0,255,60,.2))}.grvsc-line-diff-del::before{background-color:var(--grvsc-line-diff-del-background-color,rgba(255,0,20,.2))}.grvsc-line-number{padding:0 2px;text-align:right;opacity:.7}.atom-one-light{background-color:#fafafa;color:#383a42}.atom-one-light .mtk14{color:#a626a4}.atom-one-light .mtk1{color:#383a42}.atom-one-light .mtk5{color:#e45649}.atom-one-light .mtk4{color:#c18401}.atom-one-light .mtk10{color:#50a14f}.atom-one-light .mtk6{color:#986801}.atom-one-light .grvsc-line-highlighted::before{background-color:var(--grvsc-line-highlighted-background-color,rgba(0,0,0,.05));box-shadow:inset var(--grvsc-line-highlighted-border-width,4px) 0 0 0 var(--grvsc-line-highlighted-border-color,rgba(0,0,0,.2))}</style><p>Fable provides support for some classes of .NET BCL (Base Class Library) and most of FSharp.Core library. When possible, Fable translates .NET types and methods to native JavaScript APIs for minimum overhead.<h2 id=net-base-class-library>.NET Base Class Library<a href=#net-base-class-library aria-hidden=true tabindex=-1><span class=[anchor]></span>#</a></h2><p>The following classes are translated to JS and most of their methods (static and instance) should be available in Fable.<p>.NET | JavaScript --------------------------------------|---------------------------- Numeric Types | number Arrays | Array / Typed Arrays Events | fable-core/Event System.Boolean | boolean System.Char | string System.String | string System.Guid | string System.TimeSpan | number System.DateTime | Date System.DateTimeOffset | Date System.Timers.Timer | fable-core/Timer System.Collections.Generic.List | Array System.Collections.Generic.HashSet | Set System.Collections.Generic.Dictionary | Map System.Text.RegularExpressions.Regex | RegExp System.Lazy | fable-core/Lazy System.Random | {} System.Math | (native JS functions)<p>The following static methods are also available:<ul><li><code>System.Console.WriteLine</code> (also with formatting)<li><code>System.Diagnostics.Debug.WriteLine</code> (also with formatting)<li><code>System.Diagnostics.Debug.Assert(condition: bool)</code><li><code>System.Diagnostics.Debugger.Break()</code><li><code>System.Activator.CreateInstance&#60'T>()</code></ul><p>There is also support to convert between numeric types and to parse strings, check <a href=https://github.com/fable-compiler/Fable/blob/master/tests/Main/ConvertTests.fs>the conversion tests</a>.<h3 id=caveats>Caveats<a href=#caveats aria-hidden=true tabindex=-1><span class=[anchor]></span>#</a></h3><ul><li>All numeric types become JS <code>number</code> (64-bit floating type), except for <code>int64</code>, <code>uint64</code>, <code>bigint</code> and <code>decimal</code>. Check the <a href=numbers.html>Numeric Types</a> section to learn more about the differences between .NET and JS.<li>Numeric arrays are compiled to <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray>Typed Arrays</a> when possible.<li>No bound checks for numeric types (unless you do explicit conversions like <code>byte 500</code>) nor for array indices.<li><code>Regex</code> will always behave as if passed <code>RegexOptions.ECMAScript</code> flag (e.g., no negative look-behind or named groups).</ul><h2 id=fsharpcore>FSharp.Core<a href=#fsharpcore aria-hidden=true tabindex=-1><span class=[anchor]></span>#</a></h2><p>Most of FSharp.Core operators are supported, as well as formatting with <code>sprintf</code>, <code>printfn</code> or <code>failwithf</code> (<code>String.Format</code> is also available). The following types and/or corresponding modules from FSharp.Core lib will likewise translate to JS:<p>.NET | JavaScript ------------------|---------------------------------------------------------- Tuples | Array Option | (erased) Choice | fable-core/Choice Result | fable-core/Result String | fable-core/String (module) Seq | <a href=http://babeljs.io/docs/learn-es2015/#iterators-for-of>Iterable</a> List | fable-core/List Map | fable-core/Map Set | fable-core/Set Async | fable-core/Async Event | fable-core/Event (module) Observable | fable-core/Observable (module) Arrays | Array / Typed Arrays Events | fable-core/Event MailboxProcessor | fable-core/MailboxProcessor (limited support)<h3 id=caveats-ii>Caveats II<a href=#caveats-ii aria-hidden=true tabindex=-1><span class=[anchor]></span>#</a></h3><ul><li>Options are <strong>erased</strong> in JS (<code>Some 5</code> becomes just <code>5</code> in JS and <code>None</code> translates to <code>null</code>). This is needed for example, to represent TypeScript <a href=https://www.typescriptlang.org/docs/handbook/interfaces.html#optional-properties>optional properties</a>. However in a few cases (like nested options) there is an actual representation of the option in the runtime.<li><code>Async.RunSynchronously</code> is not supported.<li><code>MailboxProcessor</code> is single-threaded in JS and currently only <code>Start</code>, <code>Receive</code>, <code>Post</code> and <code>PostAndAsyncReply</code> are implemented (<code>cancellationToken</code> or <code>timeout</code> optional arguments are not supported).</ul><h2 id=object-oriented-programming>Object Oriented Programming<a href=#object-oriented-programming aria-hidden=true tabindex=-1><span class=[anchor]></span>#</a></h2><p>Most of F# OOP features are compatible with Fable: interfaces and abstract classes, structs, inheritance, overloading, etc. However, please note that due to some limitations of <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes>ES2015 classes</a> the generated code uses the <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain>prototype chain</a> instead. Also note that instance members are not attached to the prototype, which means they won't be accessible from native JS code. The exception to this rule are the implementations of <strong>interface and abstract members</strong>.<h3 id=caveats-iii>Caveats III<a href=#caveats-iii aria-hidden=true tabindex=-1><span class=[anchor]></span>#</a></h3><ul><li>It's not possible to type test against interfaces or generic types.</ul><h2 id=reflection-and-generics>Reflection and Generics<a href=#reflection-and-generics aria-hidden=true tabindex=-1><span class=[anchor]></span>#</a></h2><p>There is some reflection support in Fable, you can check the <a href=https://github.com/fable-compiler/Fable/blob/master/tests/Main/ReflectionTests.fs>reflection tests</a> to see what is currently possible.<p>Generics are erased by default in the generated JS code. However, it is still possible to access generic information (like <code>typeof&#60'T></code>) at runtime by marking functions with <code>inline</code>:<pre class="atom-one-light grvsc-container"data-index=0 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>doesNotCompileInFable</span><span class=mtk14>(</span><span class=mtk1>x</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>'T</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    typeof</span><span class=mtk14>&lt;</span><span class=mtk1>'T</span><span class=mtk14>></span><span class=mtk1>.FullName </span><span class=mtk14>|></span><span class=mtk1> printfn </span><span class=mtk10>"</span><span class=mtk14>%s</span><span class=mtk10>"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let inline</span><span class=mtk1> </span><span class=mtk5>doesWork</span><span class=mtk14>(</span><span class=mtk1>x</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>'T</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    typeof</span><span class=mtk14>&lt;</span><span class=mtk1>'T</span><span class=mtk14>></span><span class=mtk1>.FullName </span><span class=mtk14>|></span><span class=mtk1> printfn </span><span class=mtk10>"</span><span class=mtk14>%s</span><span class=mtk10>"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>doesWork </span><span class=mtk6>5</span></span></span></code></pre></div></div></section><div class="section bd-docs-pagination bd-pagination-links"><a class="button bd-fat-button is-primary is-light bd-pagination-prev" href="/docs/communicate/fable-from-js.html"><i>←</i><span class="is-hidden-mobile"><em>Communicate with Javascript</em><strong>Call Fable from JavaScript</strong></span></a><a class="button bd-fat-button is-primary is-light bd-pagination-next" href="/docs/dotnet/numbers.html"><span class="is-hidden-mobile"><em>From .NET to Fable</em><strong>Numeric types</strong></span><i>→</i></a></div></div></div></div></div><script async="" src="/resources/nacara-standard-layouts/scripts/menu.js"></script></body></html>