<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Alfonso Garcia-Caro">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-2.2.3.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <link href='https://fonts.googleapis.com/css?family=Josefin+Sans:400,300,600,700|Roboto+Mono' rel='stylesheet' type='text/css'>
    <link href="//fable-compiler.github.io/content/custom.css" rel='stylesheet' type='text/css'>
    <script src="//fable-compiler.github.io/content/tips.js"></script>
    <link rel="stylesheet" type="text/css" href="//fable-compiler.github.io/content/snippets.css" />
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" />
    <!--<script language="javascript" type="text/javascript">
      function init() {
          try {
            websocket = new WebSocket("ws://"+window.location.host+"/websocket");
            websocket.onmessage = function(evt) { location.reload(); };
          } catch(e) { /* For local development only */ }
      }
      window.addEventListener("load", init, false);
    </script>-->
    
  <title>WebGL Geometry Terrain - F# |> BABEL</title>
  <script src="../scripts/core.min.js"></script>
  <script src="../scripts/require.js"></script>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/three.js/r77/three.js"></script>
  <script src="js/FirstPersonControls.js"></script>
  <script src="js/ImprovedNoise.js"></script>
  <script>define("three", [], THREE);</script>
  
  <meta name="description" content="A 3D world right in the browser">

</head>
<body>

  <div class="fb-navbar">
  <div class="container">
  <nav class="navbar navbar-default">
    <div class="navbar-wrapper">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="//fable-compiler.github.io">Fable</a>
      </div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
          <li class=""><a href="//fable-compiler.github.io">home</a></li>
          <li class="active"><a href="//fable-compiler.github.io/samples.html">samples</a></li>
          <li class=""><a href="//fable-compiler.github.io/docs.html">docs</a></li>
          <li><a href="https://github.com/fable-compiler/Fable">source</a></li>
        </ul>
      </div>
    </div>
  </nav>
  </div>
  </div>

  <div class="fb-content-wrapper">
  
<div class="fb-heading">
<div class="container">
  <div class="row">
    <div class="col-sm-12">
      <h1>WebGL Geometry Terrain</h1>
      <p>A 3D world right in the browser</p>
    </div>
  </div>
</div>
</div>

<div class="container fb-content">
  <div class="row">
    <div class="col-md-1 col-lg-2"></div>
    <div class="col-sm-12 col-md-10 col-lg-8">
      <p><p> This demo is a Fable port of the <a href="http://threejs.org/examples/#webgl_geometry_terrain">WebGL Geometry Terrain</a>
three.js demo. It uses the three.js library to randomly generate a 3D terrain which can be navigated in a first-person view.
The code was originally written by <a href="https://github.com/jmquigs">John Quigley</a> for FunScript,
you can find <a href="https://github.com/fable-compiler/Fable/blob/master/samples/browser/webGLTerrain/webGLTerrain.fsx">Fable's version on GitHub</a>.</p>
<p>On the technical side, the demo shows some of the more interesting aspects of
calling JavaScript libraries from Fable. You'll learn how to define mapping for
global objects and other useful functions.</p></p>
    </div>
    <div class="col-md-1 col-lg-2"></div>
  </div>

  <div class="row">
    <div class="col-sm-12">
      <div class="app-container" style="height:450px; width:800px; margin:20px auto 50px auto;">
        
  <div id="container"><br /><br /><br /><br /><br />Generating world...
  <br>
  If this message doesn't disappear after a few seconds, you may want to verify that WebGL
  <a href="http://get.webgl.org">is enabled in your web browser</a>
  </div>
  <div id="info">
  <a href="http://threejs.org" target="_blank">three.js</a> - webgl terrain demo<br />(left click: forward, right click: backward; or WASD to move)
  </div>
  
      </div>
      <script>
        requirejs.config({
          baseUrl: '.',
          paths: { 'fable-core': '../scripts/fable-core.min',  }
        });
        requirejs(["webGLTerrain"]);
      </script>
    </div>
  </div>

  <div class="row">
    <div class="col-md-1 col-lg-2"></div>
    <div class="col-sm-12 col-md-10 col-lg-8">
      <h2><a name="JavaScript-helpers-and-imports" class="anchor" href="#JavaScript-helpers-and-imports">JavaScript helpers and imports</a></h2>
<p>Fable comes with <a href="https://github.com/fable-compiler/Fable/tree/master/import/three">an F# mapping for three.js</a>,
which defines all the types and functions for three.js that we'll need in this example.
In addition this demo uses custom scripts for ImprovedNoise and FirstPersonControls.
We'll write the mappings for those two inline.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">System</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="i">Fable</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="i">Core</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs2', 4)" onmouseover="showTip(event, 'fs2', 4)" class="i">Fable</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs3', 5)" onmouseover="showTip(event, 'fs3', 5)" class="i">Core</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 6)" onmouseover="showTip(event, 'fs4', 6)" class="i">JsInterop</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs2', 7)" onmouseover="showTip(event, 'fs2', 7)" class="i">Fable</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs5', 8)" onmouseover="showTip(event, 'fs5', 8)" class="i">Import</span>

<span class="c">/// Represents the API exposed by ImprovedNoise script</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs6', 9)" onmouseover="showTip(event, 'fs6', 9)" class="t">IPerlin</span> <span class="o">=</span>
    <span class="k">abstract</span> <span onmouseout="hideTip(event, 'fs7', 10)" onmouseover="showTip(event, 'fs7', 10)" class="f">noise</span><span class="o">:</span> <span class="i">x</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs8', 11)" onmouseover="showTip(event, 'fs8', 11)" class="t">float</span> <span class="o">*</span> <span class="i">y</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs8', 12)" onmouseover="showTip(event, 'fs8', 12)" class="t">float</span> <span class="o">*</span> <span class="i">z</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs8', 13)" onmouseover="showTip(event, 'fs8', 13)" class="t">float</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs8', 14)" onmouseover="showTip(event, 'fs8', 14)" class="t">float</span>

<span class="c">/// Represents the API exposed by FirstPersonControls script</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs9', 15)" onmouseover="showTip(event, 'fs9', 15)" class="t">IFirstPersonControls</span> <span class="o">=</span>
    <span class="k">abstract</span> <span onmouseout="hideTip(event, 'fs10', 16)" onmouseover="showTip(event, 'fs10', 16)" class="i">movementSpeed</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs8', 17)" onmouseover="showTip(event, 'fs8', 17)" class="t">float</span> <span class="k">with</span> <span class="i">get</span>, <span onmouseout="hideTip(event, 'fs11', 18)" onmouseover="showTip(event, 'fs11', 18)" class="i">set</span>
    <span class="k">abstract</span> <span onmouseout="hideTip(event, 'fs12', 19)" onmouseover="showTip(event, 'fs12', 19)" class="i">lookSpeed</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs8', 20)" onmouseover="showTip(event, 'fs8', 20)" class="t">float</span> <span class="k">with</span> <span class="i">get</span>, <span onmouseout="hideTip(event, 'fs11', 21)" onmouseover="showTip(event, 'fs11', 21)" class="i">set</span>
    <span class="k">abstract</span> <span onmouseout="hideTip(event, 'fs13', 22)" onmouseover="showTip(event, 'fs13', 22)" class="f">handleResize</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs14', 23)" onmouseover="showTip(event, 'fs14', 23)" class="t">unit</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs14', 24)" onmouseover="showTip(event, 'fs14', 24)" class="t">unit</span>
    <span class="k">abstract</span> <span onmouseout="hideTip(event, 'fs15', 25)" onmouseover="showTip(event, 'fs15', 25)" class="f">update</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs8', 26)" onmouseover="showTip(event, 'fs8', 26)" class="t">float</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs14', 27)" onmouseover="showTip(event, 'fs14', 27)" class="t">unit</span>
</code></pre></td>
</tr>
</table>
<p>The <code>Global</code> attribute on ImprovedNoise specifies that the function is globally available.</p>
<p>FirstPersonControls is a bit more complicated because we need to use the <code>new</code> keyword.
Fable won't do this automatically so we make sure the proper JS is emitted with <code>Emit</code> attribute.
The dots after the placeholder <code>$0...</code> indicate any additional argument must also be applied in JS.
This is very useful when we have a method with <code>ParamArray</code> args.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Globally imported JS libs (loaded with &lt;script&gt; tag)    </span>
[&lt;<span onmouseout="hideTip(event, 'fs16', 28)" onmouseover="showTip(event, 'fs16', 28)" class="t">Global</span>&gt;]
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs17', 29)" onmouseover="showTip(event, 'fs17', 29)" class="f">ImprovedNoise</span>()<span class="o">:</span> <span onmouseout="hideTip(event, 'fs6', 30)" onmouseover="showTip(event, 'fs6', 30)" class="t">IPerlin</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs18', 31)" onmouseover="showTip(event, 'fs18', 31)" class="f">failwith</span> <span class="s">&quot;JS only&quot;</span>

[&lt;<span onmouseout="hideTip(event, 'fs19', 32)" onmouseover="showTip(event, 'fs19', 32)" class="t">Emit</span>(<span class="s">&quot;new THREE.FirstPersonControls($0...)&quot;</span>)&gt;]
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs20', 33)" onmouseover="showTip(event, 'fs20', 33)" class="f">FirstPersonControls</span>(<span onmouseout="hideTip(event, 'fs21', 34)" onmouseover="showTip(event, 'fs21', 34)" class="i">camera</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs22', 35)" onmouseover="showTip(event, 'fs22', 35)" class="t">Three</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs23', 36)" onmouseover="showTip(event, 'fs23', 36)" class="t">Camera</span>,
                        <span onmouseout="hideTip(event, 'fs24', 37)" onmouseover="showTip(event, 'fs24', 37)" class="i">domElement</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs25', 38)" onmouseover="showTip(event, 'fs25', 38)" class="t">Browser</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 39)" onmouseover="showTip(event, 'fs26', 39)" class="t">HTMLElement</span>)<span class="o">:</span>
                        <span onmouseout="hideTip(event, 'fs9', 40)" onmouseover="showTip(event, 'fs9', 40)" class="t">IFirstPersonControls</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs18', 41)" onmouseover="showTip(event, 'fs18', 41)" class="f">failwith</span> <span class="s">&quot;JS only&quot;</span>
</code></pre></td>
</tr>
</table>
<h2><a name="Initial-settings-and-helper-functions" class="anchor" href="#Initial-settings-and-helper-functions">Initial settings and helper functions</a></h2>
<p>Note: this sample is intended to be a direct port of the original
and doesn't attempt to refactor the original to be more "functional".</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs27', 42)" onmouseover="showTip(event, 'fs27', 42)" class="i">worldWidth</span> <span class="o">=</span> <span class="n">256</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs28', 43)" onmouseover="showTip(event, 'fs28', 43)" class="i">worldDepth</span> <span class="o">=</span> <span class="n">256</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs29', 44)" onmouseover="showTip(event, 'fs29', 44)" class="i">worldHalfWidth</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs27', 45)" onmouseover="showTip(event, 'fs27', 45)" class="i">worldWidth</span> <span class="o">/</span> <span class="n">2</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs30', 46)" onmouseover="showTip(event, 'fs30', 46)" class="i">worldHalfDepth</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs28', 47)" onmouseover="showTip(event, 'fs28', 47)" class="i">worldDepth</span> <span class="o">/</span> <span class="n">2</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs31', 48)" onmouseover="showTip(event, 'fs31', 48)" class="i">clock</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 49)" onmouseover="showTip(event, 'fs22', 49)" class="t">Three</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs32', 50)" onmouseover="showTip(event, 'fs32', 50)" class="t">Clock</span>()

<span class="c">// We can also use `System.Random`, but the native JS `Math.random`</span>
<span class="c">// will be a bit more performant here.</span>
<span class="k">let</span> <span class="k">inline</span> <span onmouseout="hideTip(event, 'fs33', 51)" onmouseover="showTip(event, 'fs33', 51)" class="f">rand</span>() <span class="o">=</span> <span onmouseout="hideTip(event, 'fs34', 52)" onmouseover="showTip(event, 'fs34', 52)" class="t">JS</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs35', 53)" onmouseover="showTip(event, 'fs35', 53)" class="i">Math</span><span class="o">.</span><span class="f">random</span>()
</code></pre></td>
</tr>
</table>
<p>Using the perlin library (ImprovedNoise script) define the peaks
of the mountains in our random terrain.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs36', 54)" onmouseover="showTip(event, 'fs36', 54)" class="f">generateHeight</span> <span onmouseout="hideTip(event, 'fs37', 55)" onmouseover="showTip(event, 'fs37', 55)" class="i">width</span> <span onmouseout="hideTip(event, 'fs38', 56)" onmouseover="showTip(event, 'fs38', 56)" class="i">height</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs39', 57)" onmouseover="showTip(event, 'fs39', 57)" class="i">size</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs37', 58)" onmouseover="showTip(event, 'fs37', 58)" class="i">width</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs38', 59)" onmouseover="showTip(event, 'fs38', 59)" class="i">height</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs40', 60)" onmouseover="showTip(event, 'fs40', 60)" class="i">data</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs8', 61)" onmouseover="showTip(event, 'fs8', 61)" class="t">float</span>[] <span class="o">=</span> <span onmouseout="hideTip(event, 'fs41', 62)" onmouseover="showTip(event, 'fs41', 62)" class="t">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs42', 63)" onmouseover="showTip(event, 'fs42', 63)" class="f">zeroCreate</span> <span onmouseout="hideTip(event, 'fs39', 64)" onmouseover="showTip(event, 'fs39', 64)" class="i">size</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs43', 65)" onmouseover="showTip(event, 'fs43', 65)" class="i">perlin</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs17', 66)" onmouseover="showTip(event, 'fs17', 66)" class="f">ImprovedNoise</span>()
    <span class="k">let</span> <span class="k">mutable</span> <span onmouseout="hideTip(event, 'fs44', 67)" onmouseover="showTip(event, 'fs44', 67)" class="v">quality</span> <span class="o">=</span> <span class="n">1.0</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs45', 68)" onmouseover="showTip(event, 'fs45', 68)" class="i">z</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs33', 69)" onmouseover="showTip(event, 'fs33', 69)" class="f">rand</span>() <span class="o">*</span> <span class="n">100.0</span>

    <span class="k">for</span> <span onmouseout="hideTip(event, 'fs46', 70)" onmouseover="showTip(event, 'fs46', 70)" class="i">j</span> <span class="k">in</span> <span class="n">0..</span><span class="n">3</span> <span class="k">do</span>
        <span class="k">for</span> <span onmouseout="hideTip(event, 'fs47', 71)" onmouseover="showTip(event, 'fs47', 71)" class="i">i</span> <span class="k">in</span> <span class="n">0..</span>(<span onmouseout="hideTip(event, 'fs39', 72)" onmouseover="showTip(event, 'fs39', 72)" class="i">size</span><span class="o">-</span><span class="n">1</span>) <span class="k">do</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs48', 73)" onmouseover="showTip(event, 'fs48', 73)" class="i">x</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs47', 74)" onmouseover="showTip(event, 'fs47', 74)" class="i">i</span> <span class="o">%</span> <span onmouseout="hideTip(event, 'fs37', 75)" onmouseover="showTip(event, 'fs37', 75)" class="i">width</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs49', 76)" onmouseover="showTip(event, 'fs49', 76)" class="i">y</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs47', 77)" onmouseover="showTip(event, 'fs47', 77)" class="i">i</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs37', 78)" onmouseover="showTip(event, 'fs37', 78)" class="i">width</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs50', 79)" onmouseover="showTip(event, 'fs50', 79)" class="i">noise</span> <span class="o">=</span>
                <span onmouseout="hideTip(event, 'fs43', 80)" onmouseover="showTip(event, 'fs43', 80)" class="i">perlin</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 81)" onmouseover="showTip(event, 'fs51', 81)" class="f">noise</span>(<span onmouseout="hideTip(event, 'fs8', 82)" onmouseover="showTip(event, 'fs8', 82)" class="f">float</span> <span onmouseout="hideTip(event, 'fs48', 83)" onmouseover="showTip(event, 'fs48', 83)" class="i">x</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs44', 84)" onmouseover="showTip(event, 'fs44', 84)" class="v">quality</span>, <span onmouseout="hideTip(event, 'fs8', 85)" onmouseover="showTip(event, 'fs8', 85)" class="f">float</span> <span onmouseout="hideTip(event, 'fs49', 86)" onmouseover="showTip(event, 'fs49', 86)" class="i">y</span> <span class="o">/</span> <span onmouseout="hideTip(event, 'fs44', 87)" onmouseover="showTip(event, 'fs44', 87)" class="v">quality</span>, <span onmouseout="hideTip(event, 'fs45', 88)" onmouseover="showTip(event, 'fs45', 88)" class="i">z</span>)
                    <span class="o">*</span> <span onmouseout="hideTip(event, 'fs44', 89)" onmouseover="showTip(event, 'fs44', 89)" class="v">quality</span> <span class="o">*</span> <span class="n">1.75</span>
            <span onmouseout="hideTip(event, 'fs40', 90)" onmouseover="showTip(event, 'fs40', 90)" class="i">data</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs47', 91)" onmouseover="showTip(event, 'fs47', 91)" class="i">i</span>] <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs40', 92)" onmouseover="showTip(event, 'fs40', 92)" class="i">data</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs47', 93)" onmouseover="showTip(event, 'fs47', 93)" class="i">i</span>] <span class="o">+</span> (<span onmouseout="hideTip(event, 'fs34', 94)" onmouseover="showTip(event, 'fs34', 94)" class="t">JS</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs35', 95)" onmouseover="showTip(event, 'fs35', 95)" class="i">Math</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs52', 96)" onmouseover="showTip(event, 'fs52', 96)" class="f">abs</span> ( <span onmouseout="hideTip(event, 'fs50', 97)" onmouseover="showTip(event, 'fs50', 97)" class="i">noise</span> ))
        <span onmouseout="hideTip(event, 'fs44', 98)" onmouseover="showTip(event, 'fs44', 98)" class="v">quality</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs44', 99)" onmouseover="showTip(event, 'fs44', 99)" class="v">quality</span> <span class="o">*</span> <span class="n">5.0</span>
    <span onmouseout="hideTip(event, 'fs40', 100)" onmouseover="showTip(event, 'fs40', 100)" class="i">data</span>
</code></pre></td>
</tr>
</table>
<p>To generate the textures for the terrain, we'll be using a canvas element
to draw the image and later pass it directly to THREE.Texture class.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
<span class="l">35: </span>
<span class="l">36: </span>
<span class="l">37: </span>
<span class="l">38: </span>
<span class="l">39: </span>
<span class="l">40: </span>
<span class="l">41: </span>
<span class="l">42: </span>
<span class="l">43: </span>
<span class="l">44: </span>
<span class="l">45: </span>
<span class="l">46: </span>
<span class="l">47: </span>
<span class="l">48: </span>
<span class="l">49: </span>
<span class="l">50: </span>
<span class="l">51: </span>
<span class="l">52: </span>
<span class="l">53: </span>
<span class="l">54: </span>
<span class="l">55: </span>
<span class="l">56: </span>
<span class="l">57: </span>
<span class="l">58: </span>
<span class="l">59: </span>
<span class="l">60: </span>
<span class="l">61: </span>
<span class="l">62: </span>
<span class="l">63: </span>
<span class="l">64: </span>
<span class="l">65: </span>
<span class="l">66: </span>
<span class="l">67: </span>
<span class="l">68: </span>
<span class="l">69: </span>
<span class="l">70: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs53', 101)" onmouseover="showTip(event, 'fs53', 101)" class="f">generateTexture</span> (<span onmouseout="hideTip(event, 'fs40', 102)" onmouseover="showTip(event, 'fs40', 102)" class="i">data</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs8', 103)" onmouseover="showTip(event, 'fs8', 103)" class="t">float</span>[]) (<span onmouseout="hideTip(event, 'fs54', 104)" onmouseover="showTip(event, 'fs54', 104)" class="i">width</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs55', 105)" onmouseover="showTip(event, 'fs55', 105)" class="t">int</span>) (<span onmouseout="hideTip(event, 'fs56', 106)" onmouseover="showTip(event, 'fs56', 106)" class="i">height</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs55', 107)" onmouseover="showTip(event, 'fs55', 107)" class="t">int</span>) <span class="o">=</span> 
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs57', 108)" onmouseover="showTip(event, 'fs57', 108)" class="i">vector3</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 109)" onmouseover="showTip(event, 'fs22', 109)" class="t">Three</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs58', 110)" onmouseover="showTip(event, 'fs58', 110)" class="t">Vector3</span>(<span class="n">0.0</span>, <span class="n">0.0</span>, <span class="n">0.0</span>)
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs59', 111)" onmouseover="showTip(event, 'fs59', 111)" class="i">sun</span> <span class="o">=</span> (<span onmouseout="hideTip(event, 'fs22', 112)" onmouseover="showTip(event, 'fs22', 112)" class="t">Three</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs58', 113)" onmouseover="showTip(event, 'fs58', 113)" class="t">Vector3</span>(<span class="n">1.0</span>, <span class="n">1.0</span>, <span class="n">1.0</span>) <span class="o">:&gt;</span> <span onmouseout="hideTip(event, 'fs22', 114)" onmouseover="showTip(event, 'fs22', 114)" class="t">Three</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs60', 115)" onmouseover="showTip(event, 'fs60', 115)" class="t">Vector</span>)<span class="o">.</span><span class="f">normalize</span>()

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs61', 116)" onmouseover="showTip(event, 'fs61', 116)" class="i">canvas</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs25', 117)" onmouseover="showTip(event, 'fs25', 117)" class="t">Browser</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs62', 118)" onmouseover="showTip(event, 'fs62', 118)" class="i">document</span><span class="o">.</span><span class="f">createElement_canvas</span>()
    <span onmouseout="hideTip(event, 'fs61', 119)" onmouseover="showTip(event, 'fs61', 119)" class="i">canvas</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs63', 120)" onmouseover="showTip(event, 'fs63', 120)" class="i">width</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs8', 121)" onmouseover="showTip(event, 'fs8', 121)" class="f">float</span> <span onmouseout="hideTip(event, 'fs54', 122)" onmouseover="showTip(event, 'fs54', 122)" class="i">width</span>
    <span onmouseout="hideTip(event, 'fs61', 123)" onmouseover="showTip(event, 'fs61', 123)" class="i">canvas</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs64', 124)" onmouseover="showTip(event, 'fs64', 124)" class="i">height</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs8', 125)" onmouseover="showTip(event, 'fs8', 125)" class="f">float</span> <span onmouseout="hideTip(event, 'fs56', 126)" onmouseover="showTip(event, 'fs56', 126)" class="i">height</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs65', 127)" onmouseover="showTip(event, 'fs65', 127)" class="i">context</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs61', 128)" onmouseover="showTip(event, 'fs61', 128)" class="i">canvas</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs66', 129)" onmouseover="showTip(event, 'fs66', 129)" class="f">getContext_2d</span>()
    <span onmouseout="hideTip(event, 'fs65', 130)" onmouseover="showTip(event, 'fs65', 130)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs67', 131)" onmouseover="showTip(event, 'fs67', 131)" class="i">fillStyle</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs68', 132)" onmouseover="showTip(event, 'fs68', 132)" class="t">U3</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs69', 133)" onmouseover="showTip(event, 'fs69', 133)" class="p">Case1</span> <span class="s">&quot;#000&quot;</span>
    <span onmouseout="hideTip(event, 'fs65', 134)" onmouseover="showTip(event, 'fs65', 134)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs70', 135)" onmouseover="showTip(event, 'fs70', 135)" class="f">fillRect</span>(<span class="n">0.0</span>, <span class="n">0.0</span>, <span onmouseout="hideTip(event, 'fs8', 136)" onmouseover="showTip(event, 'fs8', 136)" class="f">float</span> <span onmouseout="hideTip(event, 'fs54', 137)" onmouseover="showTip(event, 'fs54', 137)" class="i">width</span>, <span onmouseout="hideTip(event, 'fs8', 138)" onmouseover="showTip(event, 'fs8', 138)" class="f">float</span> <span onmouseout="hideTip(event, 'fs56', 139)" onmouseover="showTip(event, 'fs56', 139)" class="i">height</span>)

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs71', 140)" onmouseover="showTip(event, 'fs71', 140)" class="i">image</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs65', 141)" onmouseover="showTip(event, 'fs65', 141)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs72', 142)" onmouseover="showTip(event, 'fs72', 142)" class="f">getImageData</span>(
                    <span class="n">0.0</span>, <span class="n">0.0</span>, <span onmouseout="hideTip(event, 'fs61', 143)" onmouseover="showTip(event, 'fs61', 143)" class="i">canvas</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs63', 144)" onmouseover="showTip(event, 'fs63', 144)" class="i">width</span>, <span onmouseout="hideTip(event, 'fs61', 145)" onmouseover="showTip(event, 'fs61', 145)" class="i">canvas</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs64', 146)" onmouseover="showTip(event, 'fs64', 146)" class="i">height</span>)
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs73', 147)" onmouseover="showTip(event, 'fs73', 147)" class="i">imageData</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs71', 148)" onmouseover="showTip(event, 'fs71', 148)" class="i">image</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs74', 149)" onmouseover="showTip(event, 'fs74', 149)" class="i">data</span>

    <span class="k">let</span> <span class="k">mutable</span> <span onmouseout="hideTip(event, 'fs75', 150)" onmouseover="showTip(event, 'fs75', 150)" class="v">i</span> <span class="o">=</span> <span class="n">0</span>
    <span class="k">let</span> <span class="k">mutable</span> <span onmouseout="hideTip(event, 'fs76', 151)" onmouseover="showTip(event, 'fs76', 151)" class="v">j</span> <span class="o">=</span> <span class="n">0</span>
    <span class="k">let</span> <span class="k">mutable</span> <span onmouseout="hideTip(event, 'fs77', 152)" onmouseover="showTip(event, 'fs77', 152)" class="v">l</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs55', 153)" onmouseover="showTip(event, 'fs55', 153)" class="f">int</span> <span onmouseout="hideTip(event, 'fs73', 154)" onmouseover="showTip(event, 'fs73', 154)" class="i">imageData</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs78', 155)" onmouseover="showTip(event, 'fs78', 155)" class="i">length</span>

    <span class="k">while</span> <span onmouseout="hideTip(event, 'fs75', 156)" onmouseover="showTip(event, 'fs75', 156)" class="v">i</span> <span class="o">&lt;</span> <span onmouseout="hideTip(event, 'fs77', 157)" onmouseover="showTip(event, 'fs77', 157)" class="v">l</span> <span class="k">do</span>
        <span class="c">// Note: data elements -2 and -1 are accessed here at the start</span>
        <span class="c">// of the loop. It&#39;s a bug in the original (producing NaN after</span>
        <span class="c">// normalize()), but JS just keeps on truckin&#39;. There is a similar</span>
        <span class="c">// issue with z.  The result is that imageData is set to zero (black)</span>
        <span class="c">// in these cases</span>
        <span onmouseout="hideTip(event, 'fs57', 158)" onmouseover="showTip(event, 'fs57', 158)" class="i">vector3</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs79', 159)" onmouseover="showTip(event, 'fs79', 159)" class="i">x</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs40', 160)" onmouseover="showTip(event, 'fs40', 160)" class="i">data</span><span class="o">.</span>[ <span onmouseout="hideTip(event, 'fs76', 161)" onmouseover="showTip(event, 'fs76', 161)" class="v">j</span> <span class="o">-</span> <span class="n">2</span> ] <span class="o">-</span> <span onmouseout="hideTip(event, 'fs40', 162)" onmouseover="showTip(event, 'fs40', 162)" class="i">data</span><span class="o">.</span>[ <span onmouseout="hideTip(event, 'fs76', 163)" onmouseover="showTip(event, 'fs76', 163)" class="v">j</span> <span class="o">+</span> <span class="n">2</span> ]
        <span onmouseout="hideTip(event, 'fs57', 164)" onmouseover="showTip(event, 'fs57', 164)" class="i">vector3</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs80', 165)" onmouseover="showTip(event, 'fs80', 165)" class="i">y</span> <span class="o">&lt;-</span> <span class="n">2.0</span>
        <span onmouseout="hideTip(event, 'fs57', 166)" onmouseover="showTip(event, 'fs57', 166)" class="i">vector3</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs81', 167)" onmouseover="showTip(event, 'fs81', 167)" class="i">z</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs40', 168)" onmouseover="showTip(event, 'fs40', 168)" class="i">data</span><span class="o">.</span>[ <span onmouseout="hideTip(event, 'fs76', 169)" onmouseover="showTip(event, 'fs76', 169)" class="v">j</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs54', 170)" onmouseover="showTip(event, 'fs54', 170)" class="i">width</span> <span class="o">*</span> <span class="n">2</span> ] <span class="o">-</span> <span onmouseout="hideTip(event, 'fs40', 171)" onmouseover="showTip(event, 'fs40', 171)" class="i">data</span><span class="o">.</span>[ <span onmouseout="hideTip(event, 'fs76', 172)" onmouseover="showTip(event, 'fs76', 172)" class="v">j</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs54', 173)" onmouseover="showTip(event, 'fs54', 173)" class="i">width</span> <span class="o">*</span> <span class="n">2</span> ]
        (<span onmouseout="hideTip(event, 'fs57', 174)" onmouseover="showTip(event, 'fs57', 174)" class="i">vector3</span> <span class="o">:&gt;</span> <span onmouseout="hideTip(event, 'fs22', 175)" onmouseover="showTip(event, 'fs22', 175)" class="t">Three</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs60', 176)" onmouseover="showTip(event, 'fs60', 176)" class="t">Vector</span>)<span class="o">.</span><span class="f">normalize</span>() <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs82', 177)" onmouseover="showTip(event, 'fs82', 177)" class="f">ignore</span>

        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs83', 178)" onmouseover="showTip(event, 'fs83', 178)" class="i">shade</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs57', 179)" onmouseover="showTip(event, 'fs57', 179)" class="i">vector3</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs84', 180)" onmouseover="showTip(event, 'fs84', 180)" class="f">dot</span>(<span onmouseout="hideTip(event, 'fs59', 181)" onmouseover="showTip(event, 'fs59', 181)" class="i">sun</span> <span class="o">:?&gt;</span> <span onmouseout="hideTip(event, 'fs22', 182)" onmouseover="showTip(event, 'fs22', 182)" class="t">Three</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs58', 183)" onmouseover="showTip(event, 'fs58', 183)" class="t">Vector3</span>)

        <span onmouseout="hideTip(event, 'fs73', 184)" onmouseover="showTip(event, 'fs73', 184)" class="i">imageData</span><span class="o">.</span>[ <span onmouseout="hideTip(event, 'fs75', 185)" onmouseover="showTip(event, 'fs75', 185)" class="v">i</span> ] <span class="o">&lt;-</span>
            (<span class="n">96.0</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs83', 186)" onmouseover="showTip(event, 'fs83', 186)" class="i">shade</span> <span class="o">*</span> <span class="n">128.0</span>) <span class="o">*</span> (<span class="n">0.5</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs40', 187)" onmouseover="showTip(event, 'fs40', 187)" class="i">data</span><span class="o">.</span>[ <span onmouseout="hideTip(event, 'fs76', 188)" onmouseover="showTip(event, 'fs76', 188)" class="v">j</span> ] <span class="o">*</span> <span class="n">0.007</span>)
        <span onmouseout="hideTip(event, 'fs73', 189)" onmouseover="showTip(event, 'fs73', 189)" class="i">imageData</span><span class="o">.</span>[ <span onmouseout="hideTip(event, 'fs75', 190)" onmouseover="showTip(event, 'fs75', 190)" class="v">i</span> <span class="o">+</span> <span class="n">1</span> ] <span class="o">&lt;-</span>
            (<span class="n">32.0</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs83', 191)" onmouseover="showTip(event, 'fs83', 191)" class="i">shade</span> <span class="o">*</span> <span class="n">96.0</span>) <span class="o">*</span> (<span class="n">0.5</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs40', 192)" onmouseover="showTip(event, 'fs40', 192)" class="i">data</span><span class="o">.</span>[ <span onmouseout="hideTip(event, 'fs76', 193)" onmouseover="showTip(event, 'fs76', 193)" class="v">j</span> ] <span class="o">*</span> <span class="n">0.007</span>)
        <span onmouseout="hideTip(event, 'fs73', 194)" onmouseover="showTip(event, 'fs73', 194)" class="i">imageData</span><span class="o">.</span>[ <span onmouseout="hideTip(event, 'fs75', 195)" onmouseover="showTip(event, 'fs75', 195)" class="v">i</span> <span class="o">+</span> <span class="n">2</span> ] <span class="o">&lt;-</span>
            (<span onmouseout="hideTip(event, 'fs83', 196)" onmouseover="showTip(event, 'fs83', 196)" class="i">shade</span> <span class="o">*</span> <span class="n">96.0</span>) <span class="o">*</span> (<span class="n">0.5</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs40', 197)" onmouseover="showTip(event, 'fs40', 197)" class="i">data</span><span class="o">.</span>[ <span onmouseout="hideTip(event, 'fs76', 198)" onmouseover="showTip(event, 'fs76', 198)" class="v">j</span> ] <span class="o">*</span> <span class="n">0.007</span>)

        <span onmouseout="hideTip(event, 'fs75', 199)" onmouseover="showTip(event, 'fs75', 199)" class="v">i</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs75', 200)" onmouseover="showTip(event, 'fs75', 200)" class="v">i</span> <span class="o">+</span> <span class="n">4</span>
        <span onmouseout="hideTip(event, 'fs76', 201)" onmouseover="showTip(event, 'fs76', 201)" class="v">j</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs76', 202)" onmouseover="showTip(event, 'fs76', 202)" class="v">j</span> <span class="o">+</span> <span class="n">1</span>

    <span onmouseout="hideTip(event, 'fs65', 203)" onmouseover="showTip(event, 'fs65', 203)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs85', 204)" onmouseover="showTip(event, 'fs85', 204)" class="f">putImageData</span>( <span onmouseout="hideTip(event, 'fs71', 205)" onmouseover="showTip(event, 'fs71', 205)" class="i">image</span>, <span class="n">0.0</span>, <span class="n">0.0</span> );

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs86', 206)" onmouseover="showTip(event, 'fs86', 206)" class="i">canvasScaled</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs25', 207)" onmouseover="showTip(event, 'fs25', 207)" class="t">Browser</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs62', 208)" onmouseover="showTip(event, 'fs62', 208)" class="i">document</span><span class="o">.</span><span class="f">createElement_canvas</span>()
    <span onmouseout="hideTip(event, 'fs86', 209)" onmouseover="showTip(event, 'fs86', 209)" class="i">canvasScaled</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs63', 210)" onmouseover="showTip(event, 'fs63', 210)" class="i">width</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs8', 211)" onmouseover="showTip(event, 'fs8', 211)" class="f">float</span>(<span onmouseout="hideTip(event, 'fs54', 212)" onmouseover="showTip(event, 'fs54', 212)" class="i">width</span> <span class="o">*</span> <span class="n">4</span>)
    <span onmouseout="hideTip(event, 'fs86', 213)" onmouseover="showTip(event, 'fs86', 213)" class="i">canvasScaled</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs64', 214)" onmouseover="showTip(event, 'fs64', 214)" class="i">height</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs8', 215)" onmouseover="showTip(event, 'fs8', 215)" class="f">float</span>(<span onmouseout="hideTip(event, 'fs56', 216)" onmouseover="showTip(event, 'fs56', 216)" class="i">height</span> <span class="o">*</span> <span class="n">4</span>)

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs65', 217)" onmouseover="showTip(event, 'fs65', 217)" class="i">context</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs86', 218)" onmouseover="showTip(event, 'fs86', 218)" class="i">canvasScaled</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs66', 219)" onmouseover="showTip(event, 'fs66', 219)" class="f">getContext_2d</span>()
    <span onmouseout="hideTip(event, 'fs65', 220)" onmouseover="showTip(event, 'fs65', 220)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs87', 221)" onmouseover="showTip(event, 'fs87', 221)" class="f">scale</span>(<span class="n">4.0</span>,<span class="n">4.0</span>)
    <span onmouseout="hideTip(event, 'fs65', 222)" onmouseover="showTip(event, 'fs65', 222)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs88', 223)" onmouseover="showTip(event, 'fs88', 223)" class="f">drawImage</span>(<span onmouseout="hideTip(event, 'fs68', 224)" onmouseover="showTip(event, 'fs68', 224)" class="t">U3</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs89', 225)" onmouseover="showTip(event, 'fs89', 225)" class="p">Case2</span> <span onmouseout="hideTip(event, 'fs61', 226)" onmouseover="showTip(event, 'fs61', 226)" class="i">canvas</span>, <span class="n">0.0</span>, <span class="n">0.0</span>)

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs71', 227)" onmouseover="showTip(event, 'fs71', 227)" class="i">image</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs65', 228)" onmouseover="showTip(event, 'fs65', 228)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs72', 229)" onmouseover="showTip(event, 'fs72', 229)" class="f">getImageData</span>(
                    <span class="n">0.0</span>, <span class="n">0.0</span>, <span onmouseout="hideTip(event, 'fs86', 230)" onmouseover="showTip(event, 'fs86', 230)" class="i">canvasScaled</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs63', 231)" onmouseover="showTip(event, 'fs63', 231)" class="i">width</span>, <span onmouseout="hideTip(event, 'fs86', 232)" onmouseover="showTip(event, 'fs86', 232)" class="i">canvasScaled</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs64', 233)" onmouseover="showTip(event, 'fs64', 233)" class="i">height</span>)
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs73', 234)" onmouseover="showTip(event, 'fs73', 234)" class="i">imageData</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs71', 235)" onmouseover="showTip(event, 'fs71', 235)" class="i">image</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs74', 236)" onmouseover="showTip(event, 'fs74', 236)" class="i">data</span>

    <span class="k">let</span> <span class="k">mutable</span> <span onmouseout="hideTip(event, 'fs75', 237)" onmouseover="showTip(event, 'fs75', 237)" class="v">i</span> <span class="o">=</span> <span class="n">0</span>
    <span class="k">let</span> <span class="k">mutable</span> <span onmouseout="hideTip(event, 'fs77', 238)" onmouseover="showTip(event, 'fs77', 238)" class="v">l</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs55', 239)" onmouseover="showTip(event, 'fs55', 239)" class="f">int</span> <span onmouseout="hideTip(event, 'fs73', 240)" onmouseover="showTip(event, 'fs73', 240)" class="i">imageData</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs78', 241)" onmouseover="showTip(event, 'fs78', 241)" class="i">length</span>
    <span class="k">while</span> <span onmouseout="hideTip(event, 'fs75', 242)" onmouseover="showTip(event, 'fs75', 242)" class="v">i</span> <span class="o">&lt;</span> <span onmouseout="hideTip(event, 'fs77', 243)" onmouseover="showTip(event, 'fs77', 243)" class="v">l</span> <span class="k">do</span>
        <span class="c">// I presume double-not is used here for this reason:</span>
        <span class="c">// http://james.padolsey.com/javascript/double-bitwise-not/</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs90', 244)" onmouseover="showTip(event, 'fs90', 244)" class="i">v</span> <span class="o">=</span> <span class="o">~~~</span> (<span class="o">~~~</span> (<span onmouseout="hideTip(event, 'fs33', 245)" onmouseover="showTip(event, 'fs33', 245)" class="f">rand</span>() <span class="o">*</span> <span class="n">5.0</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs55', 246)" onmouseover="showTip(event, 'fs55', 246)" class="f">int</span>)) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 247)" onmouseover="showTip(event, 'fs8', 247)" class="f">float</span>
        <span onmouseout="hideTip(event, 'fs73', 248)" onmouseover="showTip(event, 'fs73', 248)" class="i">imageData</span><span class="o">.</span>[ <span onmouseout="hideTip(event, 'fs75', 249)" onmouseover="showTip(event, 'fs75', 249)" class="v">i</span> ] <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs73', 250)" onmouseover="showTip(event, 'fs73', 250)" class="i">imageData</span><span class="o">.</span>[ <span onmouseout="hideTip(event, 'fs75', 251)" onmouseover="showTip(event, 'fs75', 251)" class="v">i</span> ] <span class="o">+</span> <span onmouseout="hideTip(event, 'fs90', 252)" onmouseover="showTip(event, 'fs90', 252)" class="i">v</span>
        <span onmouseout="hideTip(event, 'fs73', 253)" onmouseover="showTip(event, 'fs73', 253)" class="i">imageData</span><span class="o">.</span>[ <span onmouseout="hideTip(event, 'fs75', 254)" onmouseover="showTip(event, 'fs75', 254)" class="v">i</span> <span class="o">+</span> <span class="n">1</span> ] <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs73', 255)" onmouseover="showTip(event, 'fs73', 255)" class="i">imageData</span><span class="o">.</span>[ <span onmouseout="hideTip(event, 'fs75', 256)" onmouseover="showTip(event, 'fs75', 256)" class="v">i</span> <span class="o">+</span> <span class="n">1</span> ] <span class="o">+</span> <span onmouseout="hideTip(event, 'fs90', 257)" onmouseover="showTip(event, 'fs90', 257)" class="i">v</span>
        <span onmouseout="hideTip(event, 'fs73', 258)" onmouseover="showTip(event, 'fs73', 258)" class="i">imageData</span><span class="o">.</span>[ <span onmouseout="hideTip(event, 'fs75', 259)" onmouseover="showTip(event, 'fs75', 259)" class="v">i</span> <span class="o">+</span> <span class="n">2</span> ] <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs73', 260)" onmouseover="showTip(event, 'fs73', 260)" class="i">imageData</span><span class="o">.</span>[ <span onmouseout="hideTip(event, 'fs75', 261)" onmouseover="showTip(event, 'fs75', 261)" class="v">i</span> <span class="o">+</span> <span class="n">2</span> ] <span class="o">+</span> <span onmouseout="hideTip(event, 'fs90', 262)" onmouseover="showTip(event, 'fs90', 262)" class="i">v</span>
        <span onmouseout="hideTip(event, 'fs75', 263)" onmouseover="showTip(event, 'fs75', 263)" class="v">i</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs75', 264)" onmouseover="showTip(event, 'fs75', 264)" class="v">i</span> <span class="o">+</span> <span class="n">4</span>

    <span onmouseout="hideTip(event, 'fs65', 265)" onmouseover="showTip(event, 'fs65', 265)" class="i">context</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs85', 266)" onmouseover="showTip(event, 'fs85', 266)" class="f">putImageData</span>(<span onmouseout="hideTip(event, 'fs71', 267)" onmouseover="showTip(event, 'fs71', 267)" class="i">image</span>, <span class="n">0.0</span>, <span class="n">0.0</span>)
    <span onmouseout="hideTip(event, 'fs86', 268)" onmouseover="showTip(event, 'fs86', 268)" class="i">canvasScaled</span>
</code></pre></td>
</tr>
</table>
<h2><a name="Initialize-elements" class="anchor" href="#Initialize-elements">Initialize elements</a></h2>
<p>Here we initialize the elements necessary to draw the scene:
the renderer, the scene itself, a camera and controls to move it.</p>
<p>Note the use of a compiler directive: normally we take the whole window space,
but if we are in the tutorial we should leave space for the explanations.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
<span class="l">35: </span>
<span class="l">36: </span>
<span class="l">37: </span>
<span class="l">38: </span>
<span class="l">39: </span>
<span class="l">40: </span>
<span class="l">41: </span>
<span class="l">42: </span>
<span class="l">43: </span>
<span class="l">44: </span>
<span class="l">45: </span>
<span class="l">46: </span>
<span class="l">47: </span>
<span class="l">48: </span>
<span class="l">49: </span>
<span class="l">50: </span>
<span class="l">51: </span>
<span class="l">52: </span>
<span class="l">53: </span>
<span class="l">54: </span>
<span class="l">55: </span>
<span class="l">56: </span>
<span class="l">57: </span>
<span class="l">58: </span>
<span class="l">59: </span>
<span class="l">60: </span>
<span class="l">61: </span>
<span class="l">62: </span>
<span class="l">63: </span>
<span class="l">64: </span>
<span class="l">65: </span>
<span class="l">66: </span>
<span class="l">67: </span>
<span class="l">68: </span>
<span class="l">69: </span>
<span class="l">70: </span>
<span class="l">71: </span>
<span class="l">72: </span>
<span class="l">73: </span>
<span class="l">74: </span>
<span class="l">75: </span>
<span class="l">76: </span>
<span class="l">77: </span>
<span class="l">78: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs91', 269)" onmouseover="showTip(event, 'fs91', 269)" class="f">init</span>() <span class="o">=</span>
    <span class="prep">#if</span> <span class="i">TUTORIAL</span>
<span class="inactive">    </span><span class="inactive">let</span><span class="inactive"> </span><span class="inactive">getWidth()</span><span class="inactive"> </span><span class="inactive">=</span><span class="inactive"> </span><span class="inactive">800.</span>
<span class="inactive">    </span><span class="inactive">let</span><span class="inactive"> </span><span class="inactive">getHeight()</span><span class="inactive"> </span><span class="inactive">=</span><span class="inactive"> </span><span class="inactive">450.</span>
    <span class="prep">#else</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs92', 270)" onmouseover="showTip(event, 'fs92', 270)" class="f">getWidth</span>() <span class="o">=</span> <span onmouseout="hideTip(event, 'fs25', 271)" onmouseover="showTip(event, 'fs25', 271)" class="t">Browser</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs93', 272)" onmouseover="showTip(event, 'fs93', 272)" class="i">window</span><span class="o">.</span><span class="i">innerWidth</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs94', 273)" onmouseover="showTip(event, 'fs94', 273)" class="f">getHeight</span>() <span class="o">=</span> <span onmouseout="hideTip(event, 'fs25', 274)" onmouseover="showTip(event, 'fs25', 274)" class="t">Browser</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs93', 275)" onmouseover="showTip(event, 'fs93', 275)" class="i">window</span><span class="o">.</span><span class="i">innerHeight</span>
    <span class="prep">#endif</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs95', 276)" onmouseover="showTip(event, 'fs95', 276)" class="i">container</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs25', 277)" onmouseover="showTip(event, 'fs25', 277)" class="t">Browser</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs62', 278)" onmouseover="showTip(event, 'fs62', 278)" class="i">document</span><span class="o">.</span><span class="f">getElementById</span>(<span class="s">&quot;container&quot;</span>)
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs96', 279)" onmouseover="showTip(event, 'fs96', 279)" class="i">camera</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 280)" onmouseover="showTip(event, 'fs22', 280)" class="t">Three</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs97', 281)" onmouseover="showTip(event, 'fs97', 281)" class="t">PerspectiveCamera</span>(
                    <span class="n">60.0</span>, <span onmouseout="hideTip(event, 'fs92', 282)" onmouseover="showTip(event, 'fs92', 282)" class="f">getWidth</span>() <span class="o">/</span> <span onmouseout="hideTip(event, 'fs94', 283)" onmouseover="showTip(event, 'fs94', 283)" class="f">getHeight</span>(), <span class="n">1.0</span>, <span class="n">20000.0</span>)
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs98', 284)" onmouseover="showTip(event, 'fs98', 284)" class="i">scene</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 285)" onmouseover="showTip(event, 'fs22', 285)" class="t">Three</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs99', 286)" onmouseover="showTip(event, 'fs99', 286)" class="t">Scene</span>()
    
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs100', 287)" onmouseover="showTip(event, 'fs100', 287)" class="i">renderer</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 288)" onmouseover="showTip(event, 'fs22', 288)" class="t">Three</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs101', 289)" onmouseover="showTip(event, 'fs101', 289)" class="t">WebGLRenderer</span>()
    <span onmouseout="hideTip(event, 'fs100', 290)" onmouseover="showTip(event, 'fs100', 290)" class="i">renderer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs102', 291)" onmouseover="showTip(event, 'fs102', 291)" class="f">setClearColor</span>(<span class="s">&quot;#bfd1e5&quot;</span>)
    (<span onmouseout="hideTip(event, 'fs100', 292)" onmouseover="showTip(event, 'fs100', 292)" class="i">renderer</span> <span class="o">:&gt;</span> <span onmouseout="hideTip(event, 'fs22', 293)" onmouseover="showTip(event, 'fs22', 293)" class="t">Three</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs103', 294)" onmouseover="showTip(event, 'fs103', 294)" class="t">Renderer</span>)<span class="o">.</span><span class="f">setSize</span>(<span onmouseout="hideTip(event, 'fs92', 295)" onmouseover="showTip(event, 'fs92', 295)" class="f">getWidth</span>(), <span onmouseout="hideTip(event, 'fs94', 296)" onmouseover="showTip(event, 'fs94', 296)" class="f">getHeight</span>())
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs104', 297)" onmouseover="showTip(event, 'fs104', 297)" class="i">domElement</span> <span class="o">=</span> (<span onmouseout="hideTip(event, 'fs100', 298)" onmouseover="showTip(event, 'fs100', 298)" class="i">renderer</span> <span class="o">:&gt;</span> <span onmouseout="hideTip(event, 'fs22', 299)" onmouseover="showTip(event, 'fs22', 299)" class="t">Three</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs103', 300)" onmouseover="showTip(event, 'fs103', 300)" class="t">Renderer</span>)<span class="o">.</span><span onmouseout="hideTip(event, 'fs104', 301)" onmouseover="showTip(event, 'fs104', 301)" class="i">domElement</span>
    <span onmouseout="hideTip(event, 'fs95', 302)" onmouseover="showTip(event, 'fs95', 302)" class="i">container</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs105', 303)" onmouseover="showTip(event, 'fs105', 303)" class="i">innerHTML</span> <span class="o">&lt;-</span> <span class="s">&quot;&quot;</span>
    <span onmouseout="hideTip(event, 'fs95', 304)" onmouseover="showTip(event, 'fs95', 304)" class="i">container</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs106', 305)" onmouseover="showTip(event, 'fs106', 305)" class="f">appendChild</span>(<span onmouseout="hideTip(event, 'fs104', 306)" onmouseover="showTip(event, 'fs104', 306)" class="i">domElement</span>) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs82', 307)" onmouseover="showTip(event, 'fs82', 307)" class="f">ignore</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs107', 308)" onmouseover="showTip(event, 'fs107', 308)" class="i">controls</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs20', 309)" onmouseover="showTip(event, 'fs20', 309)" class="f">FirstPersonControls</span>(<span onmouseout="hideTip(event, 'fs96', 310)" onmouseover="showTip(event, 'fs96', 310)" class="i">camera</span> <span class="o">:&gt;</span> <span onmouseout="hideTip(event, 'fs22', 311)" onmouseover="showTip(event, 'fs22', 311)" class="t">Three</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs23', 312)" onmouseover="showTip(event, 'fs23', 312)" class="t">Camera</span>, <span onmouseout="hideTip(event, 'fs104', 313)" onmouseover="showTip(event, 'fs104', 313)" class="i">domElement</span>)
    <span onmouseout="hideTip(event, 'fs107', 314)" onmouseover="showTip(event, 'fs107', 314)" class="i">controls</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs108', 315)" onmouseover="showTip(event, 'fs108', 315)" class="i">movementSpeed</span> <span class="o">&lt;-</span> <span class="n">1000.0</span>
    <span onmouseout="hideTip(event, 'fs107', 316)" onmouseover="showTip(event, 'fs107', 316)" class="i">controls</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs109', 317)" onmouseover="showTip(event, 'fs109', 317)" class="i">lookSpeed</span> <span class="o">&lt;-</span> <span class="n">0.1</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs40', 318)" onmouseover="showTip(event, 'fs40', 318)" class="i">data</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs36', 319)" onmouseover="showTip(event, 'fs36', 319)" class="f">generateHeight</span> <span onmouseout="hideTip(event, 'fs27', 320)" onmouseover="showTip(event, 'fs27', 320)" class="i">worldWidth</span> <span onmouseout="hideTip(event, 'fs28', 321)" onmouseover="showTip(event, 'fs28', 321)" class="i">worldDepth</span>

    <span onmouseout="hideTip(event, 'fs96', 322)" onmouseover="showTip(event, 'fs96', 322)" class="i">camera</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs110', 323)" onmouseover="showTip(event, 'fs110', 323)" class="i">position</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs80', 324)" onmouseover="showTip(event, 'fs80', 324)" class="i">y</span> <span class="o">&lt;-</span>
        <span onmouseout="hideTip(event, 'fs40', 325)" onmouseover="showTip(event, 'fs40', 325)" class="i">data</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs29', 326)" onmouseover="showTip(event, 'fs29', 326)" class="i">worldHalfWidth</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs30', 327)" onmouseover="showTip(event, 'fs30', 327)" class="i">worldHalfDepth</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs27', 328)" onmouseover="showTip(event, 'fs27', 328)" class="i">worldWidth</span>] <span class="o">*</span> <span class="n">10.</span> <span class="o">+</span> <span class="n">500.</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs111', 329)" onmouseover="showTip(event, 'fs111', 329)" class="i">geometry</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 330)" onmouseover="showTip(event, 'fs22', 330)" class="t">Three</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs112', 331)" onmouseover="showTip(event, 'fs112', 331)" class="t">PlaneBufferGeometry</span>(
                        <span class="n">7500.0</span>, <span class="n">7500.0</span>,
                        <span onmouseout="hideTip(event, 'fs8', 332)" onmouseover="showTip(event, 'fs8', 332)" class="f">float</span> (<span onmouseout="hideTip(event, 'fs27', 333)" onmouseover="showTip(event, 'fs27', 333)" class="i">worldWidth</span> <span class="o">-</span> <span class="n">1</span>), <span onmouseout="hideTip(event, 'fs8', 334)" onmouseover="showTip(event, 'fs8', 334)" class="f">float</span> (<span onmouseout="hideTip(event, 'fs28', 335)" onmouseover="showTip(event, 'fs28', 335)" class="i">worldDepth</span> <span class="o">-</span> <span class="n">1</span>))
    <span onmouseout="hideTip(event, 'fs111', 336)" onmouseover="showTip(event, 'fs111', 336)" class="i">geometry</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs113', 337)" onmouseover="showTip(event, 'fs113', 337)" class="f">applyMatrix</span>(<span onmouseout="hideTip(event, 'fs22', 338)" onmouseover="showTip(event, 'fs22', 338)" class="t">Three</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs114', 339)" onmouseover="showTip(event, 'fs114', 339)" class="t">Matrix4</span>()
            <span class="o">.</span><span class="f">makeRotationX</span>(<span class="o">-</span><span onmouseout="hideTip(event, 'fs34', 340)" onmouseover="showTip(event, 'fs34', 340)" class="t">JS</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs35', 341)" onmouseover="showTip(event, 'fs35', 341)" class="i">Math</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs115', 342)" onmouseover="showTip(event, 'fs115', 342)" class="i">PI</span> <span class="o">/</span> <span class="n">2.0</span>))
            <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs82', 343)" onmouseover="showTip(event, 'fs82', 343)" class="f">ignore</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs116', 344)" onmouseover="showTip(event, 'fs116', 344)" class="i">vertices</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs111', 345)" onmouseover="showTip(event, 'fs111', 345)" class="i">geometry</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs117', 346)" onmouseover="showTip(event, 'fs117', 346)" class="f">getAttribute</span>(<span class="s">&quot;position&quot;</span>)
                    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs118', 347)" onmouseover="showTip(event, 'fs118', 347)" class="f">unbox</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs22', 348)" onmouseover="showTip(event, 'fs22', 348)" class="t">Three</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs119', 349)" onmouseover="showTip(event, 'fs119', 349)" class="t">BufferAttribute</span><span class="o">&gt;</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs120', 350)" onmouseover="showTip(event, 'fs120', 350)" class="i">vertices</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs120', 351)" onmouseover="showTip(event, 'fs120', 351)" class="i">vertices</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs121', 352)" onmouseover="showTip(event, 'fs121', 352)" class="i">array</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs122', 353)" onmouseover="showTip(event, 'fs122', 353)" class="i">l</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs55', 354)" onmouseover="showTip(event, 'fs55', 354)" class="f">int</span> <span onmouseout="hideTip(event, 'fs120', 355)" onmouseover="showTip(event, 'fs120', 355)" class="i">vertices</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs123', 356)" onmouseover="showTip(event, 'fs123', 356)" class="i">length</span>
    <span class="k">let</span> <span class="k">mutable</span> <span onmouseout="hideTip(event, 'fs75', 357)" onmouseover="showTip(event, 'fs75', 357)" class="v">i</span> <span class="o">=</span> <span class="n">0</span>
    <span class="k">let</span> <span class="k">mutable</span> <span onmouseout="hideTip(event, 'fs76', 358)" onmouseover="showTip(event, 'fs76', 358)" class="v">j</span> <span class="o">=</span> <span class="n">0</span>
    <span class="k">while</span> <span onmouseout="hideTip(event, 'fs75', 359)" onmouseover="showTip(event, 'fs75', 359)" class="v">i</span> <span class="o">&lt;</span> <span onmouseout="hideTip(event, 'fs122', 360)" onmouseover="showTip(event, 'fs122', 360)" class="i">l</span> <span class="k">do</span>
        <span onmouseout="hideTip(event, 'fs120', 361)" onmouseover="showTip(event, 'fs120', 361)" class="i">vertices</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs76', 362)" onmouseover="showTip(event, 'fs76', 362)" class="v">j</span> <span class="o">+</span> <span class="n">1</span>] <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs40', 363)" onmouseover="showTip(event, 'fs40', 363)" class="i">data</span><span class="o">.</span>[<span onmouseout="hideTip(event, 'fs75', 364)" onmouseover="showTip(event, 'fs75', 364)" class="v">i</span>] <span class="o">*</span> <span class="n">10.0</span>
        <span onmouseout="hideTip(event, 'fs75', 365)" onmouseover="showTip(event, 'fs75', 365)" class="v">i</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs75', 366)" onmouseover="showTip(event, 'fs75', 366)" class="v">i</span> <span class="o">+</span> <span class="n">1</span>
        <span onmouseout="hideTip(event, 'fs76', 367)" onmouseover="showTip(event, 'fs76', 367)" class="v">j</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs76', 368)" onmouseover="showTip(event, 'fs76', 368)" class="v">j</span> <span class="o">+</span> <span class="n">3</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs124', 369)" onmouseover="showTip(event, 'fs124', 369)" class="i">texCanvas</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs53', 370)" onmouseover="showTip(event, 'fs53', 370)" class="f">generateTexture</span> <span onmouseout="hideTip(event, 'fs40', 371)" onmouseover="showTip(event, 'fs40', 371)" class="i">data</span> <span onmouseout="hideTip(event, 'fs27', 372)" onmouseover="showTip(event, 'fs27', 372)" class="i">worldWidth</span> <span onmouseout="hideTip(event, 'fs28', 373)" onmouseover="showTip(event, 'fs28', 373)" class="i">worldDepth</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs125', 374)" onmouseover="showTip(event, 'fs125', 374)" class="i">texture</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 375)" onmouseover="showTip(event, 'fs22', 375)" class="t">Three</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs126', 376)" onmouseover="showTip(event, 'fs126', 376)" class="t">Texture</span>(
                    <span onmouseout="hideTip(event, 'fs68', 377)" onmouseover="showTip(event, 'fs68', 377)" class="t">U3</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs89', 378)" onmouseover="showTip(event, 'fs89', 378)" class="p">Case2</span> <span onmouseout="hideTip(event, 'fs124', 379)" onmouseover="showTip(event, 'fs124', 379)" class="i">texCanvas</span>, <span onmouseout="hideTip(event, 'fs22', 380)" onmouseover="showTip(event, 'fs22', 380)" class="t">Three</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs127', 381)" onmouseover="showTip(event, 'fs127', 381)" class="i">UVMapping</span>,
                    <span onmouseout="hideTip(event, 'fs22', 382)" onmouseover="showTip(event, 'fs22', 382)" class="t">Three</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs128', 383)" onmouseover="showTip(event, 'fs128', 383)" class="i">ClampToEdgeWrapping</span>,
                    <span onmouseout="hideTip(event, 'fs22', 384)" onmouseover="showTip(event, 'fs22', 384)" class="t">Three</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs128', 385)" onmouseover="showTip(event, 'fs128', 385)" class="i">ClampToEdgeWrapping</span>)
    <span onmouseout="hideTip(event, 'fs125', 386)" onmouseover="showTip(event, 'fs125', 386)" class="i">texture</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs129', 387)" onmouseover="showTip(event, 'fs129', 387)" class="i">needsUpdate</span> <span class="o">&lt;-</span> <span class="k">true</span>

    <span class="c">// We use createEmpty here to create an empty object used to set</span>
    <span class="c">// configuration parameters. The type qualifier indicates what fields</span>
    <span class="c">// we will be able to set on the resulting object. For those fields that</span>
    <span class="c">// are enum types, the possible values are usually found in three globals.</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs130', 388)" onmouseover="showTip(event, 'fs130', 388)" class="i">matProps</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs131', 389)" onmouseover="showTip(event, 'fs131', 389)" class="i">createEmpty</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs22', 390)" onmouseover="showTip(event, 'fs22', 390)" class="t">Three</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs132', 391)" onmouseover="showTip(event, 'fs132', 391)" class="t">MeshBasicMaterialParameters</span><span class="o">&gt;</span>
    <span onmouseout="hideTip(event, 'fs130', 392)" onmouseover="showTip(event, 'fs130', 392)" class="i">matProps</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs133', 393)" onmouseover="showTip(event, 'fs133', 393)" class="i">map</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs134', 394)" onmouseover="showTip(event, 'fs134', 394)" class="p">Some</span> <span onmouseout="hideTip(event, 'fs125', 395)" onmouseover="showTip(event, 'fs125', 395)" class="i">texture</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs135', 396)" onmouseover="showTip(event, 'fs135', 396)" class="i">mesh</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 397)" onmouseover="showTip(event, 'fs22', 397)" class="t">Three</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs136', 398)" onmouseover="showTip(event, 'fs136', 398)" class="t">Mesh</span>(<span onmouseout="hideTip(event, 'fs111', 399)" onmouseover="showTip(event, 'fs111', 399)" class="i">geometry</span>, <span onmouseout="hideTip(event, 'fs22', 400)" onmouseover="showTip(event, 'fs22', 400)" class="t">Three</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs137', 401)" onmouseover="showTip(event, 'fs137', 401)" class="t">MeshBasicMaterial</span>(<span onmouseout="hideTip(event, 'fs130', 402)" onmouseover="showTip(event, 'fs130', 402)" class="i">matProps</span>))
    <span onmouseout="hideTip(event, 'fs98', 403)" onmouseover="showTip(event, 'fs98', 403)" class="i">scene</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs138', 404)" onmouseover="showTip(event, 'fs138', 404)" class="f">add</span> <span onmouseout="hideTip(event, 'fs135', 405)" onmouseover="showTip(event, 'fs135', 405)" class="i">mesh</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs139', 406)" onmouseover="showTip(event, 'fs139', 406)" class="f">onWindowResize</span>(<span onmouseout="hideTip(event, 'fs140', 407)" onmouseover="showTip(event, 'fs140', 407)" class="i">e</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs25', 408)" onmouseover="showTip(event, 'fs25', 408)" class="t">Browser</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs141', 409)" onmouseover="showTip(event, 'fs141', 409)" class="t">UIEvent</span>)<span class="o">:</span><span onmouseout="hideTip(event, 'fs142', 410)" onmouseover="showTip(event, 'fs142', 410)" class="t">obj</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs96', 411)" onmouseover="showTip(event, 'fs96', 411)" class="i">camera</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs143', 412)" onmouseover="showTip(event, 'fs143', 412)" class="i">aspect</span> <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs92', 413)" onmouseover="showTip(event, 'fs92', 413)" class="f">getWidth</span>() <span class="o">/</span> <span onmouseout="hideTip(event, 'fs94', 414)" onmouseover="showTip(event, 'fs94', 414)" class="f">getHeight</span>()
        <span onmouseout="hideTip(event, 'fs96', 415)" onmouseover="showTip(event, 'fs96', 415)" class="i">camera</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs144', 416)" onmouseover="showTip(event, 'fs144', 416)" class="f">updateProjectionMatrix</span>()
        (<span onmouseout="hideTip(event, 'fs100', 417)" onmouseover="showTip(event, 'fs100', 417)" class="i">renderer</span> <span class="o">:&gt;</span> <span onmouseout="hideTip(event, 'fs22', 418)" onmouseover="showTip(event, 'fs22', 418)" class="t">Three</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs103', 419)" onmouseover="showTip(event, 'fs103', 419)" class="t">Renderer</span>)<span class="o">.</span><span class="f">setSize</span>(<span onmouseout="hideTip(event, 'fs92', 420)" onmouseover="showTip(event, 'fs92', 420)" class="f">getWidth</span>(), <span onmouseout="hideTip(event, 'fs94', 421)" onmouseover="showTip(event, 'fs94', 421)" class="f">getHeight</span>())
        <span onmouseout="hideTip(event, 'fs107', 422)" onmouseover="showTip(event, 'fs107', 422)" class="i">controls</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs145', 423)" onmouseover="showTip(event, 'fs145', 423)" class="f">handleResize</span>() 
        <span class="k">null</span>

    <span onmouseout="hideTip(event, 'fs25', 424)" onmouseover="showTip(event, 'fs25', 424)" class="t">Browser</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs93', 425)" onmouseover="showTip(event, 'fs93', 425)" class="i">window</span><span class="o">.</span><span class="f">addEventListener_resize</span>(
        <span onmouseout="hideTip(event, 'fs146', 426)" onmouseover="showTip(event, 'fs146', 426)" class="t">Func</span><span class="o">&lt;</span>_,_<span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs139', 427)" onmouseover="showTip(event, 'fs139', 427)" class="f">onWindowResize</span>, <span class="k">false</span>)

    <span onmouseout="hideTip(event, 'fs100', 428)" onmouseover="showTip(event, 'fs100', 428)" class="i">renderer</span>, <span onmouseout="hideTip(event, 'fs98', 429)" onmouseover="showTip(event, 'fs98', 429)" class="i">scene</span>, <span onmouseout="hideTip(event, 'fs96', 430)" onmouseover="showTip(event, 'fs96', 430)" class="i">camera</span>, <span onmouseout="hideTip(event, 'fs107', 431)" onmouseover="showTip(event, 'fs107', 431)" class="i">controls</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs147', 432)" onmouseover="showTip(event, 'fs147', 432)" class="i">renderer</span>,<span onmouseout="hideTip(event, 'fs148', 433)" onmouseover="showTip(event, 'fs148', 433)" class="i">scene</span>,<span onmouseout="hideTip(event, 'fs149', 434)" onmouseover="showTip(event, 'fs149', 434)" class="i">camera</span>,<span onmouseout="hideTip(event, 'fs150', 435)" onmouseover="showTip(event, 'fs150', 435)" class="i">controls</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs91', 436)" onmouseover="showTip(event, 'fs91', 436)" class="f">init</span>()
</code></pre></td>
</tr>
</table>
<h2><a name="Start-animation" class="anchor" href="#Start-animation">Start animation</a></h2>
<p>Now the only thing left is to start the animation. Note we use the
<code>window.requestAnimationFrame</code> function here, this will make sure
<code>animate</code> is executed at a proper frame rate.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs151', 437)" onmouseover="showTip(event, 'fs151', 437)" class="f">render</span>() <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs150', 438)" onmouseover="showTip(event, 'fs150', 438)" class="i">controls</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs152', 439)" onmouseover="showTip(event, 'fs152', 439)" class="f">update</span>(<span onmouseout="hideTip(event, 'fs31', 440)" onmouseover="showTip(event, 'fs31', 440)" class="i">clock</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs153', 441)" onmouseover="showTip(event, 'fs153', 441)" class="f">getDelta</span>())
    <span onmouseout="hideTip(event, 'fs147', 442)" onmouseover="showTip(event, 'fs147', 442)" class="i">renderer</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs154', 443)" onmouseover="showTip(event, 'fs154', 443)" class="f">render</span>(<span onmouseout="hideTip(event, 'fs148', 444)" onmouseover="showTip(event, 'fs148', 444)" class="i">scene</span>, <span onmouseout="hideTip(event, 'fs149', 445)" onmouseover="showTip(event, 'fs149', 445)" class="i">camera</span>)

<span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs155', 446)" onmouseover="showTip(event, 'fs155', 446)" class="f">animate</span> (<span onmouseout="hideTip(event, 'fs156', 447)" onmouseover="showTip(event, 'fs156', 447)" class="i">dt</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs8', 448)" onmouseover="showTip(event, 'fs8', 448)" class="t">float</span>) <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs25', 449)" onmouseover="showTip(event, 'fs25', 449)" class="t">Browser</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs93', 450)" onmouseover="showTip(event, 'fs93', 450)" class="i">window</span><span class="o">.</span><span class="f">requestAnimationFrame</span>(<span onmouseout="hideTip(event, 'fs146', 451)" onmouseover="showTip(event, 'fs146', 451)" class="t">Func</span><span class="o">&lt;</span>_,_<span class="o">&gt;</span> <span onmouseout="hideTip(event, 'fs155', 452)" onmouseover="showTip(event, 'fs155', 452)" class="f">animate</span>)
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs82', 453)" onmouseover="showTip(event, 'fs82', 453)" class="f">ignore</span>
    <span onmouseout="hideTip(event, 'fs151', 454)" onmouseover="showTip(event, 'fs151', 454)" class="f">render</span>()

<span class="c">// kick it off</span>
<span onmouseout="hideTip(event, 'fs155', 455)" onmouseover="showTip(event, 'fs155', 455)" class="f">animate</span>(<span class="n">0.0</span>)
</code></pre></td>
</tr>
</table>


<div class="tip" id="fs1">namespace System</div>
<div class="tip" id="fs2">namespace Fable</div>
<div class="tip" id="fs3">namespace Fable.Core</div>
<div class="tip" id="fs4">module JsInterop<br /><br />from Fable.Core</div>
<div class="tip" id="fs5">namespace Fable.Import</div>
<div class="tip" id="fs6">type IPerlin =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member noise : x:float * y:float * z:float -&gt; float<br />&#160;&#160;end<br /><br />Full name: WebGLTerrain.IPerlin<br /><em><br /><br />&#160;Represents the API exposed by ImprovedNoise script</em></div>
<div class="tip" id="fs7">abstract member IPerlin.noise : x:float * y:float * z:float -&gt; float<br /><br />Full name: WebGLTerrain.IPerlin.noise</div>
<div class="tip" id="fs8">Multiple items<br />val float : value:&#39;T -&gt; float (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.float<br /><br />--------------------<br />type float = Double<br /><br />Full name: Microsoft.FSharp.Core.float<br /><br />--------------------<br />type float&lt;&#39;Measure&gt; = float<br /><br />Full name: Microsoft.FSharp.Core.float&lt;_&gt;</div>
<div class="tip" id="fs9">type IFirstPersonControls =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member lookSpeed : float<br />&#160;&#160;&#160;&#160;abstract member movementSpeed : float<br />&#160;&#160;&#160;&#160;abstract member handleResize : unit -&gt; unit<br />&#160;&#160;&#160;&#160;abstract member lookSpeed : float with set<br />&#160;&#160;&#160;&#160;abstract member movementSpeed : float with set<br />&#160;&#160;&#160;&#160;abstract member update : float -&gt; unit<br />&#160;&#160;end<br /><br />Full name: WebGLTerrain.IFirstPersonControls<br /><em><br /><br />&#160;Represents the API exposed by FirstPersonControls script</em></div>
<div class="tip" id="fs10">abstract member IFirstPersonControls.movementSpeed : float with set<br /><br />Full name: WebGLTerrain.IFirstPersonControls.movementSpeed</div>
<div class="tip" id="fs11">val set : elements:seq&lt;&#39;T&gt; -&gt; Set&lt;&#39;T&gt; (requires comparison)<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.set</div>
<div class="tip" id="fs12">abstract member IFirstPersonControls.lookSpeed : float with set<br /><br />Full name: WebGLTerrain.IFirstPersonControls.lookSpeed</div>
<div class="tip" id="fs13">abstract member IFirstPersonControls.handleResize : unit -&gt; unit<br /><br />Full name: WebGLTerrain.IFirstPersonControls.handleResize</div>
<div class="tip" id="fs14">type unit = Unit<br /><br />Full name: Microsoft.FSharp.Core.unit</div>
<div class="tip" id="fs15">abstract member IFirstPersonControls.update : float -&gt; unit<br /><br />Full name: WebGLTerrain.IFirstPersonControls.update</div>
<div class="tip" id="fs16">Multiple items<br />type GlobalAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;new : unit -&gt; GlobalAttribute<br /><br />Full name: Fable.Core.GlobalAttribute<br /><br />--------------------<br />new : unit -&gt; GlobalAttribute</div>
<div class="tip" id="fs17">val ImprovedNoise : unit -&gt; IPerlin<br /><br />Full name: WebGLTerrain.ImprovedNoise</div>
<div class="tip" id="fs18">val failwith : message:string -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.Operators.failwith</div>
<div class="tip" id="fs19">Multiple items<br />type EmitAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;private new : unit -&gt; EmitAttribute<br />&#160;&#160;new : macro:string -&gt; EmitAttribute<br />&#160;&#160;new : emitterType:Type * methodName:string -&gt; EmitAttribute<br /><br />Full name: Fable.Core.EmitAttribute<br /><br />--------------------<br />new : macro:string -&gt; EmitAttribute<br />new : emitterType:Type * methodName:string -&gt; EmitAttribute</div>
<div class="tip" id="fs20">val FirstPersonControls : camera:Three.Camera * domElement:Browser.HTMLElement -&gt; IFirstPersonControls<br /><br />Full name: WebGLTerrain.FirstPersonControls</div>
<div class="tip" id="fs21">val camera : Three.Camera</div>
<div class="tip" id="fs22">module Three<br /><br />from Fable.Import</div>
<div class="tip" id="fs23">Multiple items<br />type Camera =<br />&#160;&#160;inherit Object3D<br />&#160;&#160;new : unit -&gt; Camera<br />&#160;&#160;member clone : unit -&gt; Camera<br />&#160;&#160;member copy : ?camera:Camera -&gt; Camera<br />&#160;&#160;member getWorldDirection : ?optionalTarget:Vector3 -&gt; Vector3<br />&#160;&#160;member matrixWorldInverse : Matrix4<br />&#160;&#160;member projectionMatrix : Matrix4<br />&#160;&#160;member lookAt : vector:Vector3 -&gt; unit<br />&#160;&#160;member matrixWorldInverse : Matrix4 with set<br />&#160;&#160;member projectionMatrix : Matrix4 with set<br /><br />Full name: Fable.Import.Three.Camera<br /><br />--------------------<br />new : unit -&gt; Three.Camera</div>
<div class="tip" id="fs24">val domElement : Browser.HTMLElement</div>
<div class="tip" id="fs25">module Browser<br /><br />from Fable.Import</div>
<div class="tip" id="fs26">Multiple items<br />val HTMLElement : Browser.HTMLElementType<br /><br />Full name: Fable.Import.Browser.HTMLElement<br /><br />--------------------<br />type HTMLElement =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;inherit Element<br />&#160;&#160;&#160;&#160;abstract member addEventListener : type:string * listener:EventListenerOrEventListenerObject * ?useCapture:bool -&gt; unit<br />&#160;&#160;&#160;&#160;abstract member addEventListener_MSContentZoom : listener:Func&lt;UIEvent,obj&gt; * ?useCapture:bool -&gt; unit<br />&#160;&#160;&#160;&#160;abstract member addEventListener_MSGestureChange : listener:Func&lt;MSGestureEvent,obj&gt; * ?useCapture:bool -&gt; unit<br />&#160;&#160;&#160;&#160;abstract member addEventListener_MSGestureDoubleTap : listener:Func&lt;MSGestureEvent,obj&gt; * ?useCapture:bool -&gt; unit<br />&#160;&#160;&#160;&#160;abstract member addEventListener_MSGestureEnd : listener:Func&lt;MSGestureEvent,obj&gt; * ?useCapture:bool -&gt; unit<br />&#160;&#160;&#160;&#160;abstract member addEventListener_MSGestureHold : listener:Func&lt;MSGestureEvent,obj&gt; * ?useCapture:bool -&gt; unit<br />&#160;&#160;&#160;&#160;abstract member addEventListener_MSGestureStart : listener:Func&lt;MSGestureEvent,obj&gt; * ?useCapture:bool -&gt; unit<br />&#160;&#160;&#160;&#160;abstract member addEventListener_MSGestureTap : listener:Func&lt;MSGestureEvent,obj&gt; * ?useCapture:bool -&gt; unit<br />&#160;&#160;&#160;&#160;abstract member addEventListener_MSGotPointerCapture : listener:Func&lt;MSPointerEvent,obj&gt; * ?useCapture:bool -&gt; unit<br />&#160;&#160;&#160;&#160;...<br />&#160;&#160;end<br /><br />Full name: Fable.Import.Browser.HTMLElement</div>
<div class="tip" id="fs27">val worldWidth : int<br /><br />Full name: WebGLTerrain.worldWidth</div>
<div class="tip" id="fs28">val worldDepth : int<br /><br />Full name: WebGLTerrain.worldDepth</div>
<div class="tip" id="fs29">val worldHalfWidth : int<br /><br />Full name: WebGLTerrain.worldHalfWidth</div>
<div class="tip" id="fs30">val worldHalfDepth : int<br /><br />Full name: WebGLTerrain.worldHalfDepth</div>
<div class="tip" id="fs31">val clock : Three.Clock<br /><br />Full name: WebGLTerrain.clock</div>
<div class="tip" id="fs32">Multiple items<br />type Clock =<br />&#160;&#160;new : ?autoStart:bool -&gt; Clock<br />&#160;&#160;member getDelta : unit -&gt; float<br />&#160;&#160;member getElapsedTime : unit -&gt; float<br />&#160;&#160;member autoStart : bool<br />&#160;&#160;member elapsedTime : float<br />&#160;&#160;member oldTime : float<br />&#160;&#160;member running : bool<br />&#160;&#160;member startTime : float<br />&#160;&#160;member autoStart : bool with set<br />&#160;&#160;member elapsedTime : float with set<br />&#160;&#160;...<br /><br />Full name: Fable.Import.Three.Clock<br /><br />--------------------<br />new : ?autoStart:bool -&gt; Three.Clock</div>
<div class="tip" id="fs33">val rand : unit -&gt; float<br /><br />Full name: WebGLTerrain.rand</div>
<div class="tip" id="fs34">module JS<br /><br />from Fable.Import</div>
<div class="tip" id="fs35">Multiple items<br />val Math : JS.Math<br /><br />Full name: Fable.Import.JS.Math<br /><br />--------------------<br />type Math =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member abs : x:float -&gt; float<br />&#160;&#160;&#160;&#160;abstract member acos : x:float -&gt; float<br />&#160;&#160;&#160;&#160;abstract member acosh : x:float -&gt; float<br />&#160;&#160;&#160;&#160;abstract member asin : x:float -&gt; float<br />&#160;&#160;&#160;&#160;abstract member asinh : x:float -&gt; float<br />&#160;&#160;&#160;&#160;abstract member atan : x:float -&gt; float<br />&#160;&#160;&#160;&#160;abstract member atan2 : y:float * x:float -&gt; float<br />&#160;&#160;&#160;&#160;abstract member atanh : x:float -&gt; float<br />&#160;&#160;&#160;&#160;abstract member cbrt : x:float -&gt; float<br />&#160;&#160;&#160;&#160;abstract member ceil : x:float -&gt; float<br />&#160;&#160;&#160;&#160;...<br />&#160;&#160;end<br /><br />Full name: Fable.Import.JS.Math</div>
<div class="tip" id="fs36">val generateHeight : width:int32 -&gt; height:int32 -&gt; float []<br /><br />Full name: WebGLTerrain.generateHeight</div>
<div class="tip" id="fs37">val width : int32</div>
<div class="tip" id="fs38">val height : int32</div>
<div class="tip" id="fs39">val size : int</div>
<div class="tip" id="fs40">val data : float []</div>
<div class="tip" id="fs41">type Array =<br />&#160;&#160;member Clone : unit -&gt; obj<br />&#160;&#160;member CopyTo : array:Array * index:int -&gt; unit + 1 overload<br />&#160;&#160;member GetEnumerator : unit -&gt; IEnumerator<br />&#160;&#160;member GetLength : dimension:int -&gt; int<br />&#160;&#160;member GetLongLength : dimension:int -&gt; int64<br />&#160;&#160;member GetLowerBound : dimension:int -&gt; int<br />&#160;&#160;member GetUpperBound : dimension:int -&gt; int<br />&#160;&#160;member GetValue : [&lt;ParamArray&gt;] indices:int[] -&gt; obj + 7 overloads<br />&#160;&#160;member Initialize : unit -&gt; unit<br />&#160;&#160;member IsFixedSize : bool<br />&#160;&#160;...<br /><br />Full name: System.Array</div>
<div class="tip" id="fs42">val zeroCreate : count:int -&gt; &#39;T []<br /><br />Full name: Microsoft.FSharp.Collections.Array.zeroCreate</div>
<div class="tip" id="fs43">val perlin : IPerlin</div>
<div class="tip" id="fs44">val mutable quality : float</div>
<div class="tip" id="fs45">val z : float</div>
<div class="tip" id="fs46">val j : int32</div>
<div class="tip" id="fs47">val i : int32</div>
<div class="tip" id="fs48">val x : int32</div>
<div class="tip" id="fs49">val y : int32</div>
<div class="tip" id="fs50">val noise : float</div>
<div class="tip" id="fs51">abstract member IPerlin.noise : x:float * y:float * z:float -&gt; float</div>
<div class="tip" id="fs52">val abs : value:&#39;T -&gt; &#39;T (requires member Abs)<br /><br />Full name: Microsoft.FSharp.Core.Operators.abs</div>
<div class="tip" id="fs53">val generateTexture : data:float [] -&gt; width:int -&gt; height:int -&gt; Browser.HTMLCanvasElement<br /><br />Full name: WebGLTerrain.generateTexture</div>
<div class="tip" id="fs54">val width : int</div>
<div class="tip" id="fs55">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.int<br /><br />--------------------<br />type int = int32<br /><br />Full name: Microsoft.FSharp.Core.int<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int<br /><br />Full name: Microsoft.FSharp.Core.int&lt;_&gt;</div>
<div class="tip" id="fs56">val height : int</div>
<div class="tip" id="fs57">val vector3 : Three.Vector3</div>
<div class="tip" id="fs58">Multiple items<br />type Vector3 =<br />&#160;&#160;interface Vector<br />&#160;&#160;new : ?x:float * ?y:float * ?z:float -&gt; Vector3<br />&#160;&#160;member add : a:Vector3 -&gt; Vector3<br />&#160;&#160;member addScalar : s:float -&gt; Vector3<br />&#160;&#160;member addScaledVector : v:Vector3 * s:float -&gt; Vector3<br />&#160;&#160;member addVectors : a:Vector3 * b:Vector3 -&gt; Vector3<br />&#160;&#160;member angleTo : v:Vector3 -&gt; float<br />&#160;&#160;member applyAxisAngle : axis:Vector3 * angle:float -&gt; Vector3<br />&#160;&#160;member applyEuler : euler:Euler -&gt; Vector3<br />&#160;&#160;member applyMatrix3 : m:Matrix3 -&gt; Vector3<br />&#160;&#160;...<br /><br />Full name: Fable.Import.Three.Vector3<br /><br />--------------------<br />new : ?x:float * ?y:float * ?z:float -&gt; Three.Vector3</div>
<div class="tip" id="fs59">val sun : Three.Vector</div>
<div class="tip" id="fs60">type Vector =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member add : v:Vector -&gt; Vector<br />&#160;&#160;&#160;&#160;abstract member addVectors : a:Vector * b:Vector -&gt; Vector<br />&#160;&#160;&#160;&#160;abstract member clone : unit -&gt; Vector<br />&#160;&#160;&#160;&#160;abstract member copy : v:Vector -&gt; Vector<br />&#160;&#160;&#160;&#160;abstract member distanceTo : v:Vector -&gt; float<br />&#160;&#160;&#160;&#160;abstract member distanceToSquared : v:Vector -&gt; float<br />&#160;&#160;&#160;&#160;abstract member divideScalar : s:float -&gt; Vector<br />&#160;&#160;&#160;&#160;abstract member dot : v:Vector -&gt; float<br />&#160;&#160;&#160;&#160;abstract member equals : v:Vector -&gt; bool<br />&#160;&#160;&#160;&#160;abstract member getComponent : index:float -&gt; float<br />&#160;&#160;&#160;&#160;...<br />&#160;&#160;end<br /><br />Full name: Fable.Import.Three.Vector</div>
<div class="tip" id="fs61">val canvas : Browser.HTMLCanvasElement</div>
<div class="tip" id="fs62">val document : Browser.Document<br /><br />Full name: Fable.Import.Browser.document</div>
<div class="tip" id="fs63">property Browser.HTMLCanvasElement.width: float</div>
<div class="tip" id="fs64">property Browser.HTMLCanvasElement.height: float</div>
<div class="tip" id="fs65">val context : Browser.CanvasRenderingContext2D</div>
<div class="tip" id="fs66">abstract member Browser.HTMLCanvasElement.getContext_2d : unit -&gt; Browser.CanvasRenderingContext2D</div>
<div class="tip" id="fs67">property Browser.CanvasRenderingContext2D.fillStyle: U3&lt;string,Browser.CanvasGradient,Browser.CanvasPattern&gt;</div>
<div class="tip" id="fs68">type U3&lt;&#39;a,&#39;b,&#39;c&gt; =<br />&#160;&#160;| Case1 of &#39;a<br />&#160;&#160;| Case2 of &#39;b<br />&#160;&#160;| Case3 of &#39;c<br /><br />Full name: Fable.Core.U3&lt;_,_,_&gt;</div>
<div class="tip" id="fs69">union case U3.Case1: &#39;a -&gt; U3&lt;&#39;a,&#39;b,&#39;c&gt;</div>
<div class="tip" id="fs70">abstract member Browser.CanvasRenderingContext2D.fillRect : x:float * y:float * w:float * h:float -&gt; unit</div>
<div class="tip" id="fs71">val image : Browser.ImageData</div>
<div class="tip" id="fs72">abstract member Browser.CanvasRenderingContext2D.getImageData : sx:float * sy:float * sw:float * sh:float -&gt; Browser.ImageData</div>
<div class="tip" id="fs73">val imageData : JS.Uint8ClampedArray</div>
<div class="tip" id="fs74">property Browser.ImageData.data: JS.Uint8ClampedArray</div>
<div class="tip" id="fs75">val mutable i : int</div>
<div class="tip" id="fs76">val mutable j : int</div>
<div class="tip" id="fs77">val mutable l : int</div>
<div class="tip" id="fs78">property JS.Uint8ClampedArray.length: float</div>
<div class="tip" id="fs79">property Three.Vector3.x: float</div>
<div class="tip" id="fs80">property Three.Vector3.y: float</div>
<div class="tip" id="fs81">property Three.Vector3.z: float</div>
<div class="tip" id="fs82">val ignore : value:&#39;T -&gt; unit<br /><br />Full name: Microsoft.FSharp.Core.Operators.ignore</div>
<div class="tip" id="fs83">val shade : float</div>
<div class="tip" id="fs84">member Three.Vector3.dot : v:Three.Vector3 -&gt; float</div>
<div class="tip" id="fs85">abstract member Browser.CanvasRenderingContext2D.putImageData : imagedata:Browser.ImageData * dx:float * dy:float * ?dirtyX:float * ?dirtyY:float * ?dirtyWidth:float * ?dirtyHeight:float -&gt; unit</div>
<div class="tip" id="fs86">val canvasScaled : Browser.HTMLCanvasElement</div>
<div class="tip" id="fs87">abstract member Browser.CanvasRenderingContext2D.scale : x:float * y:float -&gt; unit</div>
<div class="tip" id="fs88">abstract member Browser.CanvasRenderingContext2D.drawImage : image:U3&lt;Browser.HTMLImageElement,Browser.HTMLCanvasElement,Browser.HTMLVideoElement&gt; * offsetX:float * offsetY:float * ?width:float * ?height:float * ?canvasOffsetX:float * ?canvasOffsetY:float * ?canvasImageWidth:float * ?canvasImageHeight:float -&gt; unit</div>
<div class="tip" id="fs89">union case U3.Case2: &#39;b -&gt; U3&lt;&#39;a,&#39;b,&#39;c&gt;</div>
<div class="tip" id="fs90">val v : float</div>
<div class="tip" id="fs91">val init : unit -&gt; Three.WebGLRenderer * Three.Scene * Three.PerspectiveCamera * IFirstPersonControls<br /><br />Full name: WebGLTerrain.init</div>
<div class="tip" id="fs92">val getWidth : (unit -&gt; float)</div>
<div class="tip" id="fs93">val window : Browser.Window<br /><br />Full name: Fable.Import.Browser.window</div>
<div class="tip" id="fs94">val getHeight : (unit -&gt; float)</div>
<div class="tip" id="fs95">val container : Browser.HTMLElement</div>
<div class="tip" id="fs96">val camera : Three.PerspectiveCamera</div>
<div class="tip" id="fs97">Multiple items<br />type PerspectiveCamera =<br />&#160;&#160;inherit Camera<br />&#160;&#160;new : ?fov:float * ?aspect:float * ?near:float * ?far:float -&gt; PerspectiveCamera<br />&#160;&#160;member clone : unit -&gt; PerspectiveCamera<br />&#160;&#160;member copy : source:PerspectiveCamera -&gt; PerspectiveCamera<br />&#160;&#160;member aspect : float<br />&#160;&#160;member far : float<br />&#160;&#160;member focalLength : float<br />&#160;&#160;member fov : float<br />&#160;&#160;member near : float<br />&#160;&#160;member zoom : float<br />&#160;&#160;...<br /><br />Full name: Fable.Import.Three.PerspectiveCamera<br /><br />--------------------<br />new : ?fov:float * ?aspect:float * ?near:float * ?far:float -&gt; Three.PerspectiveCamera</div>
<div class="tip" id="fs98">val scene : Three.Scene</div>
<div class="tip" id="fs99">Multiple items<br />type Scene =<br />&#160;&#160;inherit Object3D<br />&#160;&#160;new : unit -&gt; Scene<br />&#160;&#160;member copy : source:Scene * ?recursive:bool -&gt; Scene<br />&#160;&#160;member autoUpdate : bool<br />&#160;&#160;member fog : IFog<br />&#160;&#160;member overrideMaterial : Material<br />&#160;&#160;member autoUpdate : bool with set<br />&#160;&#160;member fog : IFog with set<br />&#160;&#160;member overrideMaterial : Material with set<br /><br />Full name: Fable.Import.Three.Scene<br /><br />--------------------<br />new : unit -&gt; Three.Scene</div>
<div class="tip" id="fs100">val renderer : Three.WebGLRenderer</div>
<div class="tip" id="fs101">Multiple items<br />type WebGLRenderer =<br />&#160;&#160;interface Renderer<br />&#160;&#160;new : ?parameters:WebGLRendererParameters -&gt; WebGLRenderer<br />&#160;&#160;member clear : ?color:bool * ?depth:bool * ?stencil:bool -&gt; unit<br />&#160;&#160;member clearColor : unit -&gt; unit<br />&#160;&#160;member clearDepth : unit -&gt; unit<br />&#160;&#160;member clearStencil : unit -&gt; unit<br />&#160;&#160;member clearTarget : renderTarget:WebGLRenderTarget * color:bool * depth:bool * stencil:bool -&gt; unit<br />&#160;&#160;member dispose : unit -&gt; unit<br />&#160;&#160;member enableScissorTest : boolean:obj -&gt; obj<br />&#160;&#160;member forceContextLoss : unit -&gt; unit<br />&#160;&#160;...<br /><br />Full name: Fable.Import.Three.WebGLRenderer<br /><br />--------------------<br />new : ?parameters:Three.WebGLRendererParameters -&gt; Three.WebGLRenderer</div>
<div class="tip" id="fs102">member Three.WebGLRenderer.setClearColor : color:Three.Color * ?alpha:float -&gt; unit<br />member Three.WebGLRenderer.setClearColor : color:string * ?alpha:float -&gt; unit<br />member Three.WebGLRenderer.setClearColor : color:float * ?alpha:float -&gt; unit</div>
<div class="tip" id="fs103">type Renderer =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;abstract member domElement : HTMLCanvasElement<br />&#160;&#160;&#160;&#160;abstract member render : scene:Scene * camera:Camera -&gt; unit<br />&#160;&#160;&#160;&#160;abstract member setSize : width:float * height:float * ?updateStyle:bool -&gt; unit<br />&#160;&#160;&#160;&#160;abstract member domElement : HTMLCanvasElement with set<br />&#160;&#160;end<br /><br />Full name: Fable.Import.Three.Renderer</div>
<div class="tip" id="fs104">val domElement : Browser.HTMLCanvasElement</div>
<div class="tip" id="fs105">property Browser.HTMLElement.innerHTML: string</div>
<div class="tip" id="fs106">abstract member Browser.Node.appendChild : newChild:Browser.Node -&gt; Browser.Node</div>
<div class="tip" id="fs107">val controls : IFirstPersonControls</div>
<div class="tip" id="fs108">property IFirstPersonControls.movementSpeed: float</div>
<div class="tip" id="fs109">property IFirstPersonControls.lookSpeed: float</div>
<div class="tip" id="fs110">property Three.Object3D.position: Three.Vector3</div>
<div class="tip" id="fs111">val geometry : Three.PlaneBufferGeometry</div>
<div class="tip" id="fs112">Multiple items<br />type PlaneBufferGeometry =<br />&#160;&#160;inherit BufferGeometry<br />&#160;&#160;new : width:float * height:float * ?widthSegments:float * ?heightSegments:float -&gt; PlaneBufferGeometry<br />&#160;&#160;member parameters : obj<br />&#160;&#160;member parameters : obj with set<br /><br />Full name: Fable.Import.Three.PlaneBufferGeometry<br /><br />--------------------<br />new : width:float * height:float * ?widthSegments:float * ?heightSegments:float -&gt; Three.PlaneBufferGeometry</div>
<div class="tip" id="fs113">member Three.BufferGeometry.applyMatrix : matrix:Three.Matrix4 -&gt; Three.BufferGeometry</div>
<div class="tip" id="fs114">Multiple items<br />type Matrix4 =<br />&#160;&#160;interface Matrix<br />&#160;&#160;new : unit -&gt; Matrix4<br />&#160;&#160;member applyToBuffer : buffer:BufferAttribute * ?offset:float * ?length:float -&gt; BufferAttribute<br />&#160;&#160;member applyToVector3Array : array:ResizeArray&lt;float&gt; * ?offset:float * ?length:float -&gt; ResizeArray&lt;float&gt;<br />&#160;&#160;member compose : translation:Vector3 * rotation:Quaternion * scale:Vector3 -&gt; Matrix4<br />&#160;&#160;member copy : m:Matrix4 -&gt; Matrix4<br />&#160;&#160;member copyPosition : m:Matrix4 -&gt; Matrix4<br />&#160;&#160;member crossVector : v:obj -&gt; unit<br />&#160;&#160;member decompose : ?translation:Vector3 * ?rotation:Quaternion * ?scale:Vector3 -&gt; ResizeArray&lt;obj&gt;<br />&#160;&#160;member equals : matrix:Matrix4 -&gt; bool<br />&#160;&#160;...<br /><br />Full name: Fable.Import.Three.Matrix4<br /><br />--------------------<br />new : unit -&gt; Three.Matrix4</div>
<div class="tip" id="fs115">property JS.Math.PI: float</div>
<div class="tip" id="fs116">val vertices : Three.BufferAttribute</div>
<div class="tip" id="fs117">member Three.BufferGeometry.getAttribute : name:string -&gt; U2&lt;Three.BufferAttribute,Three.InterleavedBufferAttribute&gt;</div>
<div class="tip" id="fs118">val unbox : value:obj -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.Operators.unbox</div>
<div class="tip" id="fs119">Multiple items<br />type BufferAttribute =<br />&#160;&#160;new : array:ArrayLike&lt;float&gt; * itemSize:float -&gt; BufferAttribute<br />&#160;&#160;member clone : unit -&gt; BufferAttribute<br />&#160;&#160;member copy : source:BufferAttribute -&gt; BufferAttribute<br />&#160;&#160;member copyArray : array:ArrayLike&lt;float&gt; -&gt; BufferAttribute<br />&#160;&#160;member copyAt : index1:float * attribute:BufferAttribute * index2:float -&gt; BufferAttribute<br />&#160;&#160;member copyColorsArray : colors:ResizeArray&lt;obj&gt; -&gt; BufferAttribute<br />&#160;&#160;member copyIndicesArray : indices:ResizeArray&lt;obj&gt; -&gt; BufferAttribute<br />&#160;&#160;member copyVector2sArray : vectors:ResizeArray&lt;obj&gt; -&gt; BufferAttribute<br />&#160;&#160;member copyVector3sArray : vectors:ResizeArray&lt;obj&gt; -&gt; BufferAttribute<br />&#160;&#160;member copyVector4sArray : vectors:ResizeArray&lt;obj&gt; -&gt; BufferAttribute<br />&#160;&#160;...<br /><br />Full name: Fable.Import.Three.BufferAttribute<br /><br />--------------------<br />new : array:JS.ArrayLike&lt;float&gt; * itemSize:float -&gt; Three.BufferAttribute</div>
<div class="tip" id="fs120">val vertices : JS.ArrayLike&lt;float&gt;</div>
<div class="tip" id="fs121">type &#39;T array = &#39;T []<br /><br />Full name: Microsoft.FSharp.Core.array&lt;_&gt;</div>
<div class="tip" id="fs122">val l : int</div>
<div class="tip" id="fs123">property JS.ArrayLike.length: float</div>
<div class="tip" id="fs124">val texCanvas : Browser.HTMLCanvasElement</div>
<div class="tip" id="fs125">val texture : Three.Texture</div>
<div class="tip" id="fs126">Multiple items<br />type Texture =<br />&#160;&#160;new : image:U3&lt;HTMLImageElement,HTMLCanvasElement,HTMLVideoElement&gt; * ?mapping:Mapping * ?wrapS:Wrapping * ?wrapT:Wrapping * ?magFilter:TextureFilter * ?minFilter:TextureFilter * ?format:PixelFormat * ?type:TextureDataType * ?anisotropy:float -&gt; Texture<br />&#160;&#160;member addEventListener : type:string * listener:Func&lt;Event,unit&gt; -&gt; unit<br />&#160;&#160;member clone : unit -&gt; Texture<br />&#160;&#160;member copy : source:Texture -&gt; Texture<br />&#160;&#160;member dispatchEvent : event:obj -&gt; unit<br />&#160;&#160;member dispose : unit -&gt; unit<br />&#160;&#160;member DEFAULT_IMAGE : obj<br />&#160;&#160;member DEFAULT_MAPPING : obj<br />&#160;&#160;member anisotropy : float<br />&#160;&#160;member encoding : TextureEncoding<br />&#160;&#160;...<br /><br />Full name: Fable.Import.Three.Texture<br /><br />--------------------<br />new : image:U3&lt;Browser.HTMLImageElement,Browser.HTMLCanvasElement,Browser.HTMLVideoElement&gt; * ?mapping:Three.Mapping * ?wrapS:Three.Wrapping * ?wrapT:Three.Wrapping * ?magFilter:Three.TextureFilter * ?minFilter:Three.TextureFilter * ?format:Three.PixelFormat * ?type:Three.TextureDataType * ?anisotropy:float -&gt; Three.Texture</div>
<div class="tip" id="fs127">val UVMapping : Three.Mapping<br /><br />Full name: Fable.Import.Three.UVMapping</div>
<div class="tip" id="fs128">val ClampToEdgeWrapping : Three.Wrapping<br /><br />Full name: Fable.Import.Three.ClampToEdgeWrapping</div>
<div class="tip" id="fs129">property Three.Texture.needsUpdate: bool</div>
<div class="tip" id="fs130">val matProps : Three.MeshBasicMaterialParameters</div>
<div class="tip" id="fs131">val createEmpty&lt;&#39;T&gt; : &#39;T<br /><br />Full name: Fable.Core.JsInterop.createEmpty</div>
<div class="tip" id="fs132">type MeshBasicMaterialParameters =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;inherit MaterialParameters<br />&#160;&#160;&#160;&#160;abstract member alphaMap : Texture option<br />&#160;&#160;&#160;&#160;abstract member aoMap : Texture option<br />&#160;&#160;&#160;&#160;abstract member aoMapIntensity : float option<br />&#160;&#160;&#160;&#160;abstract member blending : Blending option<br />&#160;&#160;&#160;&#160;abstract member color : U2&lt;float,string&gt; option<br />&#160;&#160;&#160;&#160;abstract member combine : Combine option<br />&#160;&#160;&#160;&#160;abstract member envMap : Texture option<br />&#160;&#160;&#160;&#160;abstract member fog : bool option<br />&#160;&#160;&#160;&#160;abstract member map : Texture option<br />&#160;&#160;&#160;&#160;...<br />&#160;&#160;end<br /><br />Full name: Fable.Import.Three.MeshBasicMaterialParameters</div>
<div class="tip" id="fs133">property Three.MeshBasicMaterialParameters.map: Three.Texture option</div>
<div class="tip" id="fs134">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs135">val mesh : Three.Mesh</div>
<div class="tip" id="fs136">Multiple items<br />type Mesh =<br />&#160;&#160;inherit Object3D<br />&#160;&#160;new : ?geometry:BufferGeometry * ?material:Material -&gt; Mesh<br />&#160;&#160;member clone : unit -&gt; Mesh<br />&#160;&#160;member copy : source:Mesh -&gt; Mesh<br />&#160;&#160;member getMorphTargetIndexByName : name:string -&gt; float<br />&#160;&#160;member drawMode : TrianglesDrawModes<br />&#160;&#160;member geometry : U2&lt;Geometry,BufferGeometry&gt;<br />&#160;&#160;member material : Material<br />&#160;&#160;member raycast : raycaster:Raycaster * intersects:obj -&gt; unit<br />&#160;&#160;member setDrawMode : drawMode:TrianglesDrawModes -&gt; unit<br />&#160;&#160;...<br /><br />Full name: Fable.Import.Three.Mesh<br /><br />--------------------<br />new : ?geometry:Three.BufferGeometry * ?material:Three.Material -&gt; Three.Mesh</div>
<div class="tip" id="fs137">Multiple items<br />type MeshBasicMaterial =<br />&#160;&#160;inherit Material<br />&#160;&#160;new : ?parameters:MeshBasicMaterialParameters -&gt; MeshBasicMaterial<br />&#160;&#160;member clone : unit -&gt; MeshBasicMaterial<br />&#160;&#160;member copy : source:MeshBasicMaterial -&gt; MeshBasicMaterial<br />&#160;&#160;member alphaMap : Texture<br />&#160;&#160;member aoMap : Texture<br />&#160;&#160;member aoMapIntensity : float<br />&#160;&#160;member blending : Blending<br />&#160;&#160;member color : Color<br />&#160;&#160;member combine : Combine<br />&#160;&#160;...<br /><br />Full name: Fable.Import.Three.MeshBasicMaterial<br /><br />--------------------<br />new : ?parameters:Three.MeshBasicMaterialParameters -&gt; Three.MeshBasicMaterial</div>
<div class="tip" id="fs138">member Three.Object3D.add : object:Three.Object3D -&gt; unit</div>
<div class="tip" id="fs139">val onWindowResize : (Browser.UIEvent -&gt; obj)</div>
<div class="tip" id="fs140">val e : Browser.UIEvent</div>
<div class="tip" id="fs141">Multiple items<br />val UIEvent : Browser.UIEventType<br /><br />Full name: Fable.Import.Browser.UIEvent<br /><br />--------------------<br />type UIEvent =<br />&#160;&#160;interface<br />&#160;&#160;&#160;&#160;inherit Event<br />&#160;&#160;&#160;&#160;abstract member detail : float<br />&#160;&#160;&#160;&#160;abstract member view : Window<br />&#160;&#160;&#160;&#160;abstract member initUIEvent : typeArg:string * canBubbleArg:bool * cancelableArg:bool * viewArg:Window * detailArg:float -&gt; unit<br />&#160;&#160;&#160;&#160;abstract member detail : float with set<br />&#160;&#160;&#160;&#160;abstract member view : Window with set<br />&#160;&#160;end<br /><br />Full name: Fable.Import.Browser.UIEvent</div>
<div class="tip" id="fs142">type obj = Object<br /><br />Full name: Microsoft.FSharp.Core.obj</div>
<div class="tip" id="fs143">property Three.PerspectiveCamera.aspect: float</div>
<div class="tip" id="fs144">member Three.PerspectiveCamera.updateProjectionMatrix : unit -&gt; unit</div>
<div class="tip" id="fs145">abstract member IFirstPersonControls.handleResize : unit -&gt; unit</div>
<div class="tip" id="fs146">Multiple items<br />type Func&lt;&#39;TResult&gt; =<br />&#160;&#160;delegate of unit -&gt; &#39;TResult<br /><br />Full name: System.Func&lt;_&gt;<br /><br />--------------------<br />type Func&lt;&#39;T,&#39;TResult&gt; =<br />&#160;&#160;delegate of &#39;T -&gt; &#39;TResult<br /><br />Full name: System.Func&lt;_,_&gt;<br /><br />--------------------<br />type Func&lt;&#39;T1,&#39;T2,&#39;TResult&gt; =<br />&#160;&#160;delegate of &#39;T1 * &#39;T2 -&gt; &#39;TResult<br /><br />Full name: System.Func&lt;_,_,_&gt;<br /><br />--------------------<br />type Func&lt;&#39;T1,&#39;T2,&#39;T3,&#39;TResult&gt; =<br />&#160;&#160;delegate of &#39;T1 * &#39;T2 * &#39;T3 -&gt; &#39;TResult<br /><br />Full name: System.Func&lt;_,_,_,_&gt;<br /><br />--------------------<br />type Func&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4,&#39;TResult&gt; =<br />&#160;&#160;delegate of &#39;T1 * &#39;T2 * &#39;T3 * &#39;T4 -&gt; &#39;TResult<br /><br />Full name: System.Func&lt;_,_,_,_,_&gt;<br /><br />--------------------<br />type Func&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4,&#39;T5,&#39;TResult&gt; =<br />&#160;&#160;delegate of &#39;T1 * &#39;T2 * &#39;T3 * &#39;T4 * &#39;T5 -&gt; &#39;TResult<br /><br />Full name: System.Func&lt;_,_,_,_,_,_&gt;<br /><br />--------------------<br />type Func&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4,&#39;T5,&#39;T6,&#39;TResult&gt; =<br />&#160;&#160;delegate of &#39;T1 * &#39;T2 * &#39;T3 * &#39;T4 * &#39;T5 * &#39;T6 -&gt; &#39;TResult<br /><br />Full name: System.Func&lt;_,_,_,_,_,_,_&gt;<br /><br />--------------------<br />type Func&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4,&#39;T5,&#39;T6,&#39;T7,&#39;TResult&gt; =<br />&#160;&#160;delegate of &#39;T1 * &#39;T2 * &#39;T3 * &#39;T4 * &#39;T5 * &#39;T6 * &#39;T7 -&gt; &#39;TResult<br /><br />Full name: System.Func&lt;_,_,_,_,_,_,_,_&gt;<br /><br />--------------------<br />type Func&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4,&#39;T5,&#39;T6,&#39;T7,&#39;T8,&#39;TResult&gt; =<br />&#160;&#160;delegate of &#39;T1 * &#39;T2 * &#39;T3 * &#39;T4 * &#39;T5 * &#39;T6 * &#39;T7 * &#39;T8 -&gt; &#39;TResult<br /><br />Full name: System.Func&lt;_,_,_,_,_,_,_,_,_&gt;<br /><br />--------------------<br />type Func&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4,&#39;T5,&#39;T6,&#39;T7,&#39;T8,&#39;T9,&#39;TResult&gt; =<br />&#160;&#160;delegate of &#39;T1 * &#39;T2 * &#39;T3 * &#39;T4 * &#39;T5 * &#39;T6 * &#39;T7 * &#39;T8 * &#39;T9 -&gt; &#39;TResult<br /><br />Full name: System.Func&lt;_,_,_,_,_,_,_,_,_,_&gt;<br /><br />--------------------<br />type Func&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4,&#39;T5,&#39;T6,&#39;T7,&#39;T8,&#39;T9,&#39;T10,&#39;TResult&gt; =<br />&#160;&#160;delegate of &#39;T1 * &#39;T2 * &#39;T3 * &#39;T4 * &#39;T5 * &#39;T6 * &#39;T7 * &#39;T8 * &#39;T9 * &#39;T10 -&gt; &#39;TResult<br /><br />Full name: System.Func&lt;_,_,_,_,_,_,_,_,_,_,_&gt;<br /><br />--------------------<br />type Func&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4,&#39;T5,&#39;T6,&#39;T7,&#39;T8,&#39;T9,&#39;T10,&#39;T11,&#39;TResult&gt; =<br />&#160;&#160;delegate of &#39;T1 * &#39;T2 * &#39;T3 * &#39;T4 * &#39;T5 * &#39;T6 * &#39;T7 * &#39;T8 * &#39;T9 * &#39;T10 * &#39;T11 -&gt; &#39;TResult<br /><br />Full name: System.Func&lt;_,_,_,_,_,_,_,_,_,_,_,_&gt;<br /><br />--------------------<br />type Func&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4,&#39;T5,&#39;T6,&#39;T7,&#39;T8,&#39;T9,&#39;T10,&#39;T11,&#39;T12,&#39;TResult&gt; =<br />&#160;&#160;delegate of &#39;T1 * &#39;T2 * &#39;T3 * &#39;T4 * &#39;T5 * &#39;T6 * &#39;T7 * &#39;T8 * &#39;T9 * &#39;T10 * &#39;T11 * &#39;T12 -&gt; &#39;TResult<br /><br />Full name: System.Func&lt;_,_,_,_,_,_,_,_,_,_,_,_,_&gt;<br /><br />--------------------<br />type Func&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4,&#39;T5,&#39;T6,&#39;T7,&#39;T8,&#39;T9,&#39;T10,&#39;T11,&#39;T12,&#39;T13,&#39;TResult&gt; =<br />&#160;&#160;delegate of &#39;T1 * &#39;T2 * &#39;T3 * &#39;T4 * &#39;T5 * &#39;T6 * &#39;T7 * &#39;T8 * &#39;T9 * &#39;T10 * &#39;T11 * &#39;T12 * &#39;T13 -&gt; &#39;TResult<br /><br />Full name: System.Func&lt;_,_,_,_,_,_,_,_,_,_,_,_,_,_&gt;<br /><br />--------------------<br />type Func&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4,&#39;T5,&#39;T6,&#39;T7,&#39;T8,&#39;T9,&#39;T10,&#39;T11,&#39;T12,&#39;T13,&#39;T14,&#39;TResult&gt; =<br />&#160;&#160;delegate of &#39;T1 * &#39;T2 * &#39;T3 * &#39;T4 * &#39;T5 * &#39;T6 * &#39;T7 * &#39;T8 * &#39;T9 * &#39;T10 * &#39;T11 * &#39;T12 * &#39;T13 * &#39;T14 -&gt; &#39;TResult<br /><br />Full name: System.Func&lt;_,_,_,_,_,_,_,_,_,_,_,_,_,_,_&gt;<br /><br />--------------------<br />type Func&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4,&#39;T5,&#39;T6,&#39;T7,&#39;T8,&#39;T9,&#39;T10,&#39;T11,&#39;T12,&#39;T13,&#39;T14,&#39;T15,&#39;TResult&gt; =<br />&#160;&#160;delegate of &#39;T1 * &#39;T2 * &#39;T3 * &#39;T4 * &#39;T5 * &#39;T6 * &#39;T7 * &#39;T8 * &#39;T9 * &#39;T10 * &#39;T11 * &#39;T12 * &#39;T13 * &#39;T14 * &#39;T15 -&gt; &#39;TResult<br /><br />Full name: System.Func&lt;_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_&gt;<br /><br />--------------------<br />type Func&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4,&#39;T5,&#39;T6,&#39;T7,&#39;T8,&#39;T9,&#39;T10,&#39;T11,&#39;T12,&#39;T13,&#39;T14,&#39;T15,&#39;T16,&#39;TResult&gt; =<br />&#160;&#160;delegate of &#39;T1 * &#39;T2 * &#39;T3 * &#39;T4 * &#39;T5 * &#39;T6 * &#39;T7 * &#39;T8 * &#39;T9 * &#39;T10 * &#39;T11 * &#39;T12 * &#39;T13 * &#39;T14 * &#39;T15 * &#39;T16 -&gt; &#39;TResult<br /><br />Full name: System.Func&lt;_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_&gt;</div>
<div class="tip" id="fs147">val renderer : Three.WebGLRenderer<br /><br />Full name: WebGLTerrain.renderer</div>
<div class="tip" id="fs148">val scene : Three.Scene<br /><br />Full name: WebGLTerrain.scene</div>
<div class="tip" id="fs149">val camera : Three.PerspectiveCamera<br /><br />Full name: WebGLTerrain.camera</div>
<div class="tip" id="fs150">val controls : IFirstPersonControls<br /><br />Full name: WebGLTerrain.controls</div>
<div class="tip" id="fs151">val render : unit -&gt; unit<br /><br />Full name: WebGLTerrain.render</div>
<div class="tip" id="fs152">abstract member IFirstPersonControls.update : float -&gt; unit</div>
<div class="tip" id="fs153">member Three.Clock.getDelta : unit -&gt; float</div>
<div class="tip" id="fs154">member Three.WebGLRenderer.render : scene:Three.Scene * camera:Three.Camera * ?renderTarget:Three.RenderTarget * ?forceClear:bool -&gt; unit</div>
<div class="tip" id="fs155">val animate : dt:float -&gt; unit<br /><br />Full name: WebGLTerrain.animate</div>
<div class="tip" id="fs156">val dt : float</div>

    </div>
    <div class="col-md-1 col-lg-2"></div>
  </div>
</div>

  </div>

  <a class="gh-forkme" href="https://github.com/fable-compiler/Fable"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>
</body>
</html>
